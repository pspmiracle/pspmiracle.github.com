var isNeedFpsMeter=!1,isLevelEditor=!1,isSkipMenus=!1,isSkipReadyWin=!0,y378=0,isLastLevelLoad=!1,isDisableWin=!1,isOpenAllLevels=!0,openedLevels=20,isPhysicsDebugDraw=!1,isGetAllProperties=!1,isLoadAnimFromJSON=!1,isSkipSplash=!1,isShowLogo=!0,isLevelSelectShow=!1,y227=1,isWithCache=!1,isTimerUpdateMode=!1,isPageLeaved=!1,isNeedHelperLabel=!1,GLASS_BREAK_IMPULSE=1.2,isDesktopBrowser=!1,MAX_EXPLODE_RADIUS=140,SPONSOR_URL="http://www.a10.com",PRELOADER_LOGO="logo_spele.png",HERO_TYPE=0,HERO_DOC_TYPE=
1,HERO_WOMAN_TYPE=2,MONSTER_TYPE=3,DECOR_BALK_1_TYPE=21,DECOR_BALK_2_TYPE=22,DECOR_BALK_3_TYPE=23,DECOR_BALK_4_TYPE=24,DECOR_BALK_5_TYPE=25,DECOR_LAND_TYPE=26,DECOR_HOUSE_TYPE=27,DECOR_KUST_TYPE=28,DECOR_ZABOR_TYPE=29,DECOR_MELNICA_TYPE=30,DECOR_MELNICA_ROT_TYPE=31,DECOR_ARROW_TYPE=32,DECOR_HOUSE_2_TYPE=33,DECOR_COW_TYPE=34,DECOR_CIRCUS_TYPE=35,DECOR_HOUSE_3_TYPE=36,DECOR_HOUSE_4_TYPE=37,DECOR_BALK_6_TYPE=38,DECOR_WINDOW_TYPE=39,DECOR_CAT_1_TYPE=40,DECOR_CAT_2_TYPE=41,DECOR_GRAM_TYPE=42,DECOR_PICT_1_TYPE=
43,DECOR_FLOWER_1_TYPE=44,DECOR_VENT_TYPE=45,DECOR_ELECTR_TYPE=46,DECOR_DOOR_TYPE=47,DECOR_PICT_2_TYPE=48,DECOR_SVECHA_TYPE=49,DECOR_TABLE_TYPE=50,DECOR_STUL_TYPE=51,DECOR_PICT_3_TYPE=52,DECOR_VESHALKA_TYPE=53,DECOR_VELO_TYPE=54,DECOR_COVER_TYPE=55,DECOR_BALK_7_TYPE=56,PHYSICS_RECT_TYPE=100,DYNAMIC_BOX_TYPE=101,TELEPORT_TYPE=102,y125=103,DANGER_TYPE=104,PHYSICS_MAN_BLOCK_TYPE=105,PHYSICS_WOMAN_BLOCK_TYPE=106,GLASS_BLOCK_TYPE=107,ACTIVATOR_TYPE=108,DOOR_TYPE=109,DYNAMIC_CIRCLE_TYPE=110,DYNAMIC_RECT_TYPE=
111,TELEGA_TYPE=112,BONUS_DIAMOND_TYPE=201,BONUS_MONEY_TYPE=202,BONUS_STAR_TYPE=203,BONUS_GHOST_TYPE=204,AIM_TYPE=301,STATIC_CATEGORY=1,WOMAN_CATEGORY=2,MAN_CATEGORY=4,WOMAN_BLOCK_CATEGORY=8,MAN_BLOCK_CATEGORY=16;this.createjs=this.createjs||{};
(function(){var c=function(b,h,d){this.initialize(b,h,d)},a=c.prototype;a.type=null;a.target=null;a.currentTarget=null;a.eventPhase=0;a.bubbles=!1;a.cancelable=!1;a.timeStamp=0;a.defaultPrevented=!1;a.propagationStopped=!1;a.immediatePropagationStopped=!1;a.removed=!1;a.initialize=function(b,h,d){this.type=b;this.bubbles=h;this.cancelable=d;this.timeStamp=(new Date).getTime()};a.preventDefault=function(){this.defaultPrevented=!0};a.stopPropagation=function(){this.propagationStopped=!0};a.stopImmediatePropagation=
function(){this.immediatePropagationStopped=this.propagationStopped=!0};a.remove=function(){this.removed=!0};a.clone=function(){return new c(this.type,this.bubbles,this.cancelable)};a.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=c})();this.createjs=this.createjs||{};
(function(){var c=function(){},a=c.prototype;c.initialize=function(b){b.addEventListener=a.addEventListener;b.on=a.on;b.removeEventListener=b.off=a.removeEventListener;b.removeAllEventListeners=a.removeAllEventListeners;b.hasEventListener=a.hasEventListener;b.dispatchEvent=a.dispatchEvent;b._dispatchEvent=a._dispatchEvent};a._listeners=null;a._captureListeners=null;a.initialize=function(){};a.addEventListener=function(b,h,d){var a;a=d?this._captureListeners=this._captureListeners||{}:this._listeners=
this._listeners||{};var c=a[b];c&&this.removeEventListener(b,h,d);(c=a[b])?c.push(h):a[b]=[h];return h};a.on=function(b,h,d,a,c,g){h.handleEvent&&(d=d||h,h=h.handleEvent);d=d||this;return this.addEventListener(b,function(b){h.call(d,b,c);a&&b.remove()},g)};a.removeEventListener=function(b,h,d){if(d=d?this._captureListeners:this._listeners){var a=d[b];if(a)for(var c=0,g=a.length;c<g;c++)if(a[c]==h){1==g?delete d[b]:a.splice(c,1);break}}};a.off=a.removeEventListener;a.removeAllEventListeners=function(b){b?
(this._listeners&&delete this._listeners[b],this._captureListeners&&delete this._captureListeners[b]):this._listeners=this._captureListeners=null};a.dispatchEvent=function(b,h){if("string"==typeof b){var d=this._listeners;if(!d||!d[b])return!1;b=new createjs.Event(b)}b.target=h||this;if(b.bubbles&&this.parent){for(var a=this,d=[a];a.parent;)d.push(a=a.parent);for(var c=d.length,a=c-1;0<=a&&!b.propagationStopped;a--)d[a]._dispatchEvent(b,1+(0==a));for(a=1;a<c&&!b.propagationStopped;a++)d[a]._dispatchEvent(b,
3)}else this._dispatchEvent(b,2);return b.defaultPrevented};a.hasEventListener=function(b){var h=this._listeners,d=this._captureListeners;return!!(h&&h[b]||d&&d[b])};a.toString=function(){return"[EventDispatcher]"};a._dispatchEvent=function(b,h){var d,a=1==h?this._captureListeners:this._listeners;if(b&&a&&(a=a[b.type])&&(d=a.length)){b.currentTarget=this;b.eventPhase=h;b.removed=!1;for(var a=a.slice(),c=0;c<d&&!b.immediatePropagationStopped;c++){var g=a[c];g.handleEvent?g.handleEvent(b):g(b);b.removed&&
(this.off(b.type,g,1==h),b.removed=!1)}}};createjs.EventDispatcher=c})();this.createjs=this.createjs||{};(function(){createjs.indexOf=function(c,a){for(var b=0,h=c.length;b<h;b++)if(a===c[b])return b;return-1}})();this.createjs=this.createjs||{};(function(){var c=function(){throw"UID cannot be instantiated";};c._nextID=0;c.get=function(){return c._nextID++};createjs.UID=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"Ticker cannot be instantiated.";};c.RAF_SYNCHED="synched";c.RAF="raf";c.TIMEOUT="timeout";c.useRAF=!1;c.timingMode=null;c.maxDelta=60;c.removeEventListener=null;c.removeAllEventListeners=null;c.dispatchEvent=null;c.hasEventListener=null;c._listeners=null;createjs.EventDispatcher.initialize(c);c._addEventListener=c.addEventListener;c.addEventListener=function(){!c._inited&&c.init();return c._addEventListener.apply(c,arguments)};c._paused=!1;c._inited=!1;c._startTime=
0;c._pausedTime=0;c._ticks=0;c._pausedTicks=0;c._interval=50;c._lastTime=0;c._times=[];c._tickTimes=[];c._y45Id=null;c._raf=!0;c._isFirstInit=!0;c.init=function(){c._inited||(c._y45Id=null,c._inited=!0,c._isFirstInit=!1,c._times=[],c._tickTimes=[],c._startTime=c._getTime(),c._times.push(c._lastTime=0),c.setInterval(c._interval))};c.reset=function(){c._inited=!1;if(c._raf){var b=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||
window.msCancelAnimationFrame;b&&b(c._y45Id)}else clearTimeout(c._y45Id)};c.setInterval=function(b){c._interval=b;c._inited&&c._setupTick()};c.getInterval=function(){return c._interval};c.setFPS=function(b){c.setInterval(1E3/b)};c.getFPS=function(){return 1E3/c._interval};c.getMeasuredTickTime=function(b){var a=0,d=c._tickTimes;if(1>d.length)return-1;b=Math.min(d.length,b||c.getFPS()|0);for(var e=0;e<b;e++)a+=d[e];return a/b};c.getMeasuredFPS=function(b){var a=c._times;if(2>a.length)return-1;b=Math.min(a.length-
1,b||c.getFPS()|0);return 1E3/((a[0]-a[b])/b)};c.setPaused=function(b){c._paused=b};c.getPaused=function(){return c._paused};c.getTime=function(b){return c._getTime()-c._startTime-(b?c._pausedTime:0)};c.getEventTime=function(b){return(c._lastTime||c._startTime)-(b?c._pausedTime:0)};c.getTicks=function(b){return c._ticks-(b?c._pausedTicks:0)};c._handleSynch=function(){var b=c._getTime()-c._startTime;c._y45Id=null;c._setupTick();b-c._lastTime>=0.97*(c._interval-1)&&c._tick()};c._handleRAF=function(){c._y45Id=
null;c._setupTick();c._tick()};c._handleTimeout=function(){c._y45Id=null;c._setupTick();c._tick()};c._setupTick=function(){if(null!=c._y45Id)y122("duplicate");else{var b=c.timingMode||c.useRAF&&c.RAF_SYNCHED;if(b==c.RAF_SYNCHED||b==c.RAF){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(a){c._y45Id=a(b==c.RAF?c._handleRAF:c._handleSynch);c._raf=!0;return}}c._raf=!1;c._y45Id=setTimeout(c._handleTimeout,
c._interval)}};c._tick=function(){var b=c._getTime()-c._startTime,a=b-c._lastTime,d=c._paused;c._ticks++;d&&(c._pausedTicks++,c._pausedTime+=a);c._lastTime=b;if(c.hasEventListener("tick")){var e=new createjs.Event("tick"),f=c.maxDelta;e.delta=f&&a>f?f:a;e.paused=d;e.time=b;e.runTime=b-c._pausedTime;c.dispatchEvent(e)}for(c._tickTimes.unshift(c._getTime()-b);100<c._tickTimes.length;)c._tickTimes.pop();for(c._times.unshift(b);100<c._times.length;)c._times.pop()};var a=window.performance&&(performance.now||
performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);c._getTime=function(){return a&&a.call(performance)||(new Date).getTime()};createjs.Ticker=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,d,c,f,g,k,m,n,w){this.initialize(b,a,d,c,f,g,k,m,n,w)},a=c.prototype=new createjs.Event;a.y44X=0;a.y44Y=0;a.rawX=0;a.rawY=0;a.nativeEvent=null;a.pointerID=0;a.primary=!1;a.addEventListener=null;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a.Event_initialize=a.initialize;a.initialize=function(b,a,d,c,f,g,k,m,n,w){this.Event_initialize(b,a,d);this.y44X=c;
this.y44Y=f;this.nativeEvent=g;this.pointerID=k;this.primary=m;this.rawX=null==n?c:n;this.rawY=null==w?f:w};a.clone=function(){return new c(this.type,this.bubbles,this.cancelable,this.y44X,this.y44Y,this.target,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)};a.toString=function(){return"[MouseEvent (type="+this.type+" y44X="+this.y44X+" y44Y="+this.y44Y+")]"};createjs.MouseEvent=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,d,c,f,g){this.initialize(b,a,d,c,f,g)},a=c.prototype;c.identity=null;c.DEG_TO_RAD=Math.PI/180;a.a=1;a.b=0;a.c=0;a.d=1;a.tx=0;a.ty=0;a.alpha=1;a.shadow=null;a.compositeOperation=null;a.initialize=function(b,a,d,c,f,g){this.a=null==b?1:b;this.b=a||0;this.c=d||0;this.d=null==c?1:c;this.tx=f||0;this.ty=g||0;return this};a.prepend=function(b,a,d,c,f,g){var k=this.tx;if(1!=b||0!=a||0!=d||1!=c){var m=this.a,n=this.c;this.a=m*b+this.b*d;this.b=m*a+this.b*c;this.c=n*b+this.d*
d;this.d=n*a+this.d*c}this.tx=k*b+this.ty*d+f;this.ty=k*a+this.ty*c+g;return this};a.append=function(b,a,d,c,f,g){var k=this.a,m=this.b,n=this.c,w=this.d;this.a=b*k+a*n;this.b=b*m+a*w;this.c=d*k+c*n;this.d=d*m+c*w;this.tx=f*k+g*n+this.tx;this.ty=f*m+g*w+this.ty;return this};a.prependMatrix=function(b){this.prepend(b.a,b.b,b.c,b.d,b.tx,b.ty);this.prependProperties(b.alpha,b.shadow,b.compositeOperation);return this};a.appendMatrix=function(b){this.append(b.a,b.b,b.c,b.d,b.tx,b.ty);this.appendProperties(b.alpha,
b.shadow,b.compositeOperation);return this};a.prependTransform=function(b,a,d,e,f,g,k,m,n){if(f%360){var w=f*c.DEG_TO_RAD;f=Math.cos(w);w=Math.sin(w)}else f=1,w=0;if(m||n)this.tx-=m,this.ty-=n;g||k?(g*=c.DEG_TO_RAD,k*=c.DEG_TO_RAD,this.prepend(f*d,w*d,-w*e,f*e,0,0),this.prepend(Math.cos(k),Math.sin(k),-Math.sin(g),Math.cos(g),b,a)):this.prepend(f*d,w*d,-w*e,f*e,b,a);return this};a.appendTransform=function(b,a,d,e,f,g,k,m,n){if(f%360){var w=f*c.DEG_TO_RAD;f=Math.cos(w);w=Math.sin(w)}else f=1,w=0;g||
k?(g*=c.DEG_TO_RAD,k*=c.DEG_TO_RAD,this.append(Math.cos(k),Math.sin(k),-Math.sin(g),Math.cos(g),b,a),this.append(f*d,w*d,-w*e,f*e,0,0)):this.append(f*d,w*d,-w*e,f*e,b,a);if(m||n)this.tx-=m*this.a+n*this.c,this.ty-=m*this.b+n*this.d;return this};a.rotate=function(b){var a=Math.cos(b);b=Math.sin(b);var d=this.a,c=this.c,f=this.tx;this.a=d*a-this.b*b;this.b=d*b+this.b*a;this.c=c*a-this.d*b;this.d=c*b+this.d*a;this.tx=f*a-this.ty*b;this.ty=f*b+this.ty*a;return this};a.skew=function(b,a){b*=c.DEG_TO_RAD;
a*=c.DEG_TO_RAD;this.append(Math.cos(a),Math.sin(a),-Math.sin(b),Math.cos(b),0,0);return this};a.scale=function(b,a){this.a*=b;this.d*=a;this.c*=b;this.b*=a;this.tx*=b;this.ty*=a;return this};a.translate=function(b,a){this.tx+=b;this.ty+=a;return this};a.identity=function(){this.alpha=this.a=this.d=1;this.b=this.c=this.tx=this.ty=0;this.shadow=this.compositeOperation=null;return this};a.invert=function(){var b=this.a,a=this.b,d=this.c,c=this.d,f=this.tx,g=b*c-a*d;this.a=c/g;this.b=-a/g;this.c=-d/
g;this.d=b/g;this.tx=(d*this.ty-c*f)/g;this.ty=-(b*this.ty-a*f)/g;return this};a.isIdentity=function(){return 0==this.tx&&0==this.ty&&1==this.a&&0==this.b&&0==this.c&&1==this.d};a.transformPoint=function(b,a,d){d=d||{};d.x=b*this.a+a*this.c+this.tx;d.y=b*this.b+a*this.d+this.ty;return d};a.decompose=function(b){null==b&&(b={});b.x=this.tx;b.y=this.ty;b.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);b.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var a=Math.atan2(-this.c,this.d),d=Math.atan2(this.b,
this.a);a==d?(b.y7=d/c.DEG_TO_RAD,0>this.a&&0<=this.d&&(b.y7+=0>=b.y7?180:-180),b.skewX=b.skewY=0):(b.skewX=a/c.DEG_TO_RAD,b.skewY=d/c.DEG_TO_RAD);return b};a.reinitialize=function(b,a,d,c,f,g,k,m,n){this.initialize(b,a,d,c,f,g);this.alpha=null==k?1:k;this.shadow=m;this.compositeOperation=n;return this};a.copy=function(b){return this.reinitialize(b.a,b.b,b.c,b.d,b.tx,b.ty,b.alpha,b.shadow,b.compositeOperation)};a.appendProperties=function(b,a,d){this.alpha*=b;this.shadow=a||this.shadow;this.compositeOperation=
d||this.compositeOperation;return this};a.prependProperties=function(b,a,d){this.alpha*=b;this.shadow=this.shadow||a;this.compositeOperation=this.compositeOperation||d;return this};a.clone=function(){return(new c).copy(this)};a.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"};c.identity=new c;createjs.Matrix2D=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a){this.initialize(b,a)},a=c.prototype;a.x=0;a.y=0;a.initialize=function(b,a){this.x=null==b?0:b;this.y=null==a?0:a;return this};a.copy=function(b){return this.initialize(b.x,b.y)};a.clone=function(){return new c(this.x,this.y)};a.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"};createjs.Point=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,d,c){this.initialize(b,a,d,c)},a=c.prototype;a.x=0;a.y=0;a.width=0;a.height=0;a.initialize=function(b,a,d,c){this.x=b||0;this.y=a||0;this.width=d||0;this.height=c||0;return this};a.copy=function(b){return this.initialize(b.x,b.y,b.width,b.height)};a.clone=function(){return new c(this.x,this.y,this.width,this.height)};a.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"};createjs.Rectangle=c})();
this.createjs=this.createjs||{};
(function(){var c=function(b,a,d,c,f,g,k){this.initialize(b,a,d,c,f,g,k)},a=c.prototype;a.target=null;a.overLabel=null;a.outLabel=null;a.downLabel=null;a.play=!1;a._isPressed=!1;a._isOver=!1;a.initialize=function(b,a,d,c,f,g,k){b.addEventListener&&(this.target=b,b.cursor="pointer",this.overLabel=null==d?"over":d,this.outLabel=null==a?"out":a,this.downLabel=null==c?"down":c,this.play=f,this.setEnabled(!0),this.handleEvent({}),g&&(k&&(g.actionsEnabled=!1,g.gotoAndStop&&g.gotoAndStop(k)),b.hitArea=g))};
a.setEnabled=function(b){var a=this.target;b?(a.addEventListener("rollover",this),a.addEventListener("rollout",this),a.addEventListener("mousedown",this),a.addEventListener("pressup",this)):(a.removeEventListener("rollover",this),a.removeEventListener("rollout",this),a.removeEventListener("mousedown",this),a.removeEventListener("pressup",this))};a.toString=function(){return"[ButtonHelper]"};a.handleEvent=function(b){var a=this.target;b=b.type;"mousedown"==b?(this._isPressed=!0,b=this.downLabel):"pressup"==
b?(this._isPressed=!1,b=this._isOver?this.overLabel:this.outLabel):"rollover"==b?(this._isOver=!0,b=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,b=this._isPressed?this.overLabel:this.outLabel);this.play?a.gotoAndPlay&&a.gotoAndPlay(b):a.gotoAndStop&&a.gotoAndStop(b)};createjs.ButtonHelper=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,d,c){this.initialize(b,a,d,c)},a=c.prototype;c.identity=null;a.color=null;a.offsetX=0;a.offsetY=0;a.blur=0;a.initialize=function(b,a,d,c){this.color=b;this.offsetX=a;this.offsetY=d;this.blur=c};a.toString=function(){return"[Shadow]"};a.clone=function(){return new c(this.color,this.offsetX,this.offsetY,this.blur)};c.identity=new c("transparent",0,0,0);createjs.Shadow=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.EventDispatcher;a.complete=!0;a.framerate=0;a._animations=null;a._frames=null;a._images=null;a._data=null;a._loadCount=0;a._frameHeight=0;a._frameWidth=0;a._numFrames=0;a._regX=0;a._regY=0;a.initialize=function(b){var a,d,c;if(null!=b){this.framerate=b.framerate||0;if(b.images&&0<(d=b.images.length))for(c=this._images=[],a=0;a<d;a++){var f=b.images[a];if("string"==typeof f){var g=f,f=document.createElement("img");f.src=g}c.push(f);
f.getContext||f.complete||(this._loadCount++,this.complete=!1,function(b){f.onload=function(){b._handleImageLoad()}}(this))}if(null!=b.frames)if(b.frames instanceof Array)for(this._frames=[],c=b.frames,a=0,d=c.length;a<d;a++)g=c[a],this._frames.push({image:this._images[g[4]?g[4]:0],rect:new createjs.Rectangle(g[0],g[1],g[2],g[3]),regX:g[5]||0,regY:g[6]||0});else d=b.frames,this._frameWidth=d.width,this._frameHeight=d.height,this._regX=d.regX||0,this._regY=d.regY||0,this._numFrames=d.count,0==this._loadCount&&
this._calculateFrames();this._animations=[];if(null!=(d=b.animations)){this._data={};for(var k in d){b={name:k};g=d[k];if("number"==typeof g)c=b.frames=[g];else if(g instanceof Array)if(1==g.length)b.frames=[g[0]];else for(b.speed=g[3],b.next=g[2],c=b.frames=[],a=g[0];a<=g[1];a++)c.push(a);else b.speed=g.speed,b.next=g.next,a=g.frames,c=b.frames="number"==typeof a?[a]:a.slice(0);if(!0===b.next||void 0===b.next)b.next=k;if(!1===b.next||2>c.length&&b.next==k)b.next=null;b.speed||(b.speed=1);this._animations.push(k);
this._data[k]=b}}}};a.getNumFrames=function(b){if(null==b)return this._frames?this._frames.length:this._numFrames;b=this._data[b];return null==b?0:b.frames.length};a.getAnimations=function(){return this._animations.slice(0)};a.getAnimation=function(b){return this._data[b]};a.getFrame=function(b){var a;return this._frames&&(a=this._frames[b])?a:null};a.getFrameBounds=function(b,a){var d=this.getFrame(b);return d?(a||new createjs.Rectangle).initialize(-d.regX,-d.regY,d.rect.width,d.rect.height):null};
a.toString=function(){return"[SpriteSheet]"};a.clone=function(){var b=new c;b.complete=this.complete;b._animations=this._animations;b._frames=this._frames;b._images=this._images;b._data=this._data;b._frameHeight=this._frameHeight;b._frameWidth=this._frameWidth;b._numFrames=this._numFrames;b._loadCount=this._loadCount;return b};a._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))};a._calculateFrames=function(){if(!this._frames&&
0!=this._frameWidth){this._frames=[];for(var b=0,a=this._frameWidth,d=this._frameHeight,c=0,f=this._images;c<f.length;c++){for(var g=f[c],k=(g.width+1)/a|0,m=(g.height+1)/d|0,m=0<this._numFrames?Math.min(this._numFrames-b,k*m):k*m,n=0;n<m;n++)this._frames.push({image:g,rect:new createjs.Rectangle(n%k*a,(n/k|0)*d,a,d),regX:this._regX,regY:this._regY});b+=m}this._numFrames=b}};createjs.SpriteSheet=c})();this.createjs=this.createjs||{};
(function(){function c(b,a,d){this.f=b;this.params=a;this.path=null==d?!0:d}c.prototype.exec=function(b){this.f.apply(b,this.params)};var a=function(){this.initialize()},b=a.prototype;a.getRGB=function(b,a,d,c){null!=b&&null==d&&(c=a,d=b&255,a=b>>8&255,b=b>>16&255);return null==c?"rgb("+b+","+a+","+d+")":"rgba("+b+","+a+","+d+","+c+")"};a.getHSL=function(b,a,d,c){return null==c?"hsl("+b%360+","+a+"%,"+d+"%)":"hsla("+b%360+","+a+"%,"+d+"%,"+c+")"};a.Command=c;a.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,
H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};a.STROKE_CAPS_MAP=["butt","round","square"];a.STROKE_JOINTS_MAP=["miter","round","bevel"];var h=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");if(h.getContext){var d=a._ctx=h.getContext("2d");
a.beginCmd=new c(d.beginPath,[],!1);a.fillCmd=new c(d.fill,[],!1);a.strokeCmd=new c(d.stroke,[],!1);h.width=h.height=1}b._strokeInstructions=null;b._strokeStyleInstructions=null;b._strokeIgnoreScale=!1;b._fillInstructions=null;b._fillMatrix=null;b._instructions=null;b._oldInstructions=null;b._activeInstructions=null;b._active=!1;b._dirty=!1;b.initialize=function(){this.clear();this._ctx=a._ctx};b.isEmpty=function(){return!(this._instructions.length||this._oldInstructions.length||this._activeInstructions.length)};
b.draw=function(b){this._dirty&&this._updateInstructions();for(var a=this._instructions,d=0,c=a.length;d<c;d++)a[d].exec(b)};b.drawAsPath=function(b){this._dirty&&this._updateInstructions();for(var a,d=this._instructions,c=0,h=d.length;c<h;c++)((a=d[c]).path||0==c)&&a.exec(b)};b.moveTo=function(b,a){this._activeInstructions.push(new c(this._ctx.moveTo,[b,a]));return this};b.lineTo=function(b,a){this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.lineTo,[b,a]));return this};b.arcTo=
function(b,a,d,h,m){this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.arcTo,[b,a,d,h,m]));return this};b.arc=function(b,a,d,h,m,n){this._dirty=this._active=!0;null==n&&(n=!1);this._activeInstructions.push(new c(this._ctx.arc,[b,a,d,h,m,n]));return this};b.quadraticCurveTo=function(b,a,d,h){this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.quadraticCurveTo,[b,a,d,h]));return this};b.bezierCurveTo=function(b,a,d,h,m,n){this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.bezierCurveTo,
[b,a,d,h,m,n]));return this};b.rect=function(b,a,d,h){this._dirty=this._active=!0;this._activeInstructions.push(new c(this._ctx.rect,[b,a,d,h]));return this};b.closePath=function(){this._active&&(this._dirty=!0,this._activeInstructions.push(new c(this._ctx.closePath,[])));return this};b.clear=function(){this._instructions=[];this._oldInstructions=[];this._activeInstructions=[];this._strokeStyleInstructions=this._strokeInstructions=this._fillInstructions=this._fillMatrix=null;this._active=this._dirty=
this._strokeIgnoreScale=!1;return this};b.beginFill=function(b){this._active&&this._newPath();this._fillInstructions=b?[new c(this._setProp,["fillStyle",b],!1)]:null;this._fillMatrix=null;return this};b.beginLinearGradientFill=function(b,a,d,h,m,n){this._active&&this._newPath();d=this._ctx.createLinearGradient(d,h,m,n);h=0;for(m=b.length;h<m;h++)d.addColorStop(a[h],b[h]);this._fillInstructions=[new c(this._setProp,["fillStyle",d],!1)];this._fillMatrix=null;return this};b.beginRadialGradientFill=function(b,
a,d,h,m,n,w,s){this._active&&this._newPath();d=this._ctx.createRadialGradient(d,h,m,n,w,s);h=0;for(m=b.length;h<m;h++)d.addColorStop(a[h],b[h]);this._fillInstructions=[new c(this._setProp,["fillStyle",d],!1)];this._fillMatrix=null;return this};b.beginBitmapFill=function(b,a,d){this._active&&this._newPath();b=this._ctx.createPattern(b,a||"");this._fillInstructions=[new c(this._setProp,["fillStyle",b],!1)];this._fillMatrix=d?[d.a,d.b,d.c,d.d,d.tx,d.ty]:null;return this};b.endFill=function(){return this.beginFill()};
b.setStrokeStyle=function(b,d,h,k,m){this._active&&this._newPath();this._strokeStyleInstructions=[new c(this._setProp,["lineWidth",null==b?"1":b],!1),new c(this._setProp,["lineCap",null==d?"butt":isNaN(d)?d:a.STROKE_CAPS_MAP[d]],!1),new c(this._setProp,["lineJoin",null==h?"miter":isNaN(h)?h:a.STROKE_JOINTS_MAP[h]],!1),new c(this._setProp,["miterLimit",null==k?"10":k],!1)];this._strokeIgnoreScale=m;return this};b.beginStroke=function(b){this._active&&this._newPath();this._strokeInstructions=b?[new c(this._setProp,
["strokeStyle",b],!1)]:null;return this};b.beginLinearGradientStroke=function(b,a,d,h,m,n){this._active&&this._newPath();d=this._ctx.createLinearGradient(d,h,m,n);h=0;for(m=b.length;h<m;h++)d.addColorStop(a[h],b[h]);this._strokeInstructions=[new c(this._setProp,["strokeStyle",d],!1)];return this};b.beginRadialGradientStroke=function(b,a,d,h,m,n,w,s){this._active&&this._newPath();d=this._ctx.createRadialGradient(d,h,m,n,w,s);h=0;for(m=b.length;h<m;h++)d.addColorStop(a[h],b[h]);this._strokeInstructions=
[new c(this._setProp,["strokeStyle",d],!1)];return this};b.beginBitmapStroke=function(b,a){this._active&&this._newPath();var d=this._ctx.createPattern(b,a||"");this._strokeInstructions=[new c(this._setProp,["strokeStyle",d],!1)];return this};b.endStroke=function(){this.beginStroke();return this};b.curveTo=b.quadraticCurveTo;b.drawRect=b.rect;b.drawRoundRect=function(b,a,d,c,h){this.drawRoundRectComplex(b,a,d,c,h,h,h,h);return this};b.drawRoundRectComplex=function(b,a,d,h,m,n,w,s){var t=(d<h?d:h)/
2,x=0,y=0,q=0,A=0;0>m&&(m*=x=-1);m>t&&(m=t);0>n&&(n*=y=-1);n>t&&(n=t);0>w&&(w*=q=-1);w>t&&(w=t);0>s&&(s*=A=-1);s>t&&(s=t);this._dirty=this._active=!0;var t=this._ctx.arcTo,z=this._ctx.lineTo;this._activeInstructions.push(new c(this._ctx.moveTo,[b+d-n,a]),new c(t,[b+d+n*y,a-n*y,b+d,a+n,n]),new c(z,[b+d,a+h-w]),new c(t,[b+d+w*q,a+h+w*q,b+d-w,a+h,w]),new c(z,[b+s,a+h]),new c(t,[b-s*A,a+h+s*A,b,a+h-s,s]),new c(z,[b,a+m]),new c(t,[b-m*x,a-m*x,b+m,a,m]),new c(this._ctx.closePath));return this};b.drawCircle=
function(b,a,d){this.arc(b,a,d,0,2*Math.PI);return this};b.drawEllipse=function(b,a,d,h){this._dirty=this._active=!0;var m=0.5522848*(d/2),n=0.5522848*(h/2),w=b+d,s=a+h;d=b+d/2;h=a+h/2;this._activeInstructions.push(new c(this._ctx.moveTo,[b,h]),new c(this._ctx.bezierCurveTo,[b,h-n,d-m,a,d,a]),new c(this._ctx.bezierCurveTo,[d+m,a,w,h-n,w,h]),new c(this._ctx.bezierCurveTo,[w,h+n,d+m,s,d,s]),new c(this._ctx.bezierCurveTo,[d-m,s,b,h+n,b,h]));return this};b.inject=function(b,a){this._dirty=this._active=
!0;this._activeInstructions.push(new c(b,[a]));return this};b.drawPolyStar=function(b,a,d,h,m,n){this._dirty=this._active=!0;null==m&&(m=0);m=1-m;n=null==n?0:n/(180/Math.PI);var w=Math.PI/h;this._activeInstructions.push(new c(this._ctx.moveTo,[b+Math.cos(n)*d,a+Math.sin(n)*d]));for(var s=0;s<h;s++)n+=w,1!=m&&this._activeInstructions.push(new c(this._ctx.lineTo,[b+Math.cos(n)*d*m,a+Math.sin(n)*d*m])),n+=w,this._activeInstructions.push(new c(this._ctx.lineTo,[b+Math.cos(n)*d,a+Math.sin(n)*d]));return this};
b.decodePath=function(b){for(var d=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],c=[2,2,4,6,0],h=0,m=b.length,n=[],w=0,s=0,t=a.BASE_64;h<m;){var x=b.charAt(h),y=t[x],q=y>>3,A=d[q];if(!A||y&3)throw"bad path data (@"+h+"): "+x;x=c[q];q||(w=s=0);n.length=0;h++;y=(y>>2&1)+2;for(q=0;q<x;q++){var z=t[b.charAt(h)],H=z>>5?-1:1,z=(z&31)<<6|t[b.charAt(h+1)];3==y&&(z=z<<6|t[b.charAt(h+2)]);z=H*z/10;q%2?w=z+=w:s=z+=s;n[q]=z;h+=y}A.apply(this,n)}return this};b.clone=function(){var b=
new a;b._instructions=this._instructions.slice();b._activeInstructions=this._activeInstructions.slice();b._oldInstructions=this._oldInstructions.slice();this._fillInstructions&&(b._fillInstructions=this._fillInstructions.slice());this._strokeInstructions&&(b._strokeInstructions=this._strokeInstructions.slice());this._strokeStyleInstructions&&(b._strokeStyleInstructions=this._strokeStyleInstructions.slice());b._active=this._active;b._dirty=this._dirty;b._fillMatrix=this._fillMatrix;b._strokeIgnoreScale=
this._strokeIgnoreScale;return b};b.toString=function(){return"[Graphics]"};b.mt=b.moveTo;b.lt=b.lineTo;b.at=b.arcTo;b.bt=b.bezierCurveTo;b.qt=b.quadraticCurveTo;b.a=b.arc;b.r=b.rect;b.cp=b.closePath;b.c=b.clear;b.f=b.beginFill;b.lf=b.beginLinearGradientFill;b.rf=b.beginRadialGradientFill;b.bf=b.beginBitmapFill;b.ef=b.endFill;b.ss=b.setStrokeStyle;b.s=b.beginStroke;b.ls=b.beginLinearGradientStroke;b.rs=b.beginRadialGradientStroke;b.bs=b.beginBitmapStroke;b.es=b.endStroke;b.dr=b.drawRect;b.rr=b.drawRoundRect;
b.rc=b.drawRoundRectComplex;b.dc=b.drawCircle;b.de=b.drawEllipse;b.dp=b.drawPolyStar;b.p=b.decodePath;b._updateInstructions=function(){this._instructions=this._oldInstructions.slice();this._instructions.push(a.beginCmd);this._appendInstructions(this._fillInstructions);this._appendInstructions(this._strokeInstructions);this._appendInstructions(this._strokeInstructions&&this._strokeStyleInstructions);this._appendInstructions(this._activeInstructions);this._fillInstructions&&this._appendDraw(a.fillCmd,
this._fillMatrix);this._strokeInstructions&&this._appendDraw(a.strokeCmd,this._strokeIgnoreScale&&[1,0,0,1,0,0])};b._appendInstructions=function(b){b&&this._instructions.push.apply(this._instructions,b)};b._appendDraw=function(b,a){a?this._instructions.push(new c(this._ctx.save,[],!1),new c(this._ctx.transform,a,!1),b,new c(this._ctx.restore,[],!1)):this._instructions.push(b)};b._newPath=function(){this._dirty&&this._updateInstructions();this._oldInstructions=this._instructions;this._activeInstructions=
[];this._active=this._dirty=!1};b._setProp=function(b,a){this[b]=a};createjs.Graphics=a})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},a=c.prototype=new createjs.EventDispatcher;c.suppressCrossDomainErrors=!1;var b=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");b.getContext&&(c._hitTestCanvas=b,c._hitTestContext=b.getContext("2d"),b.width=b.height=1);c._nextCacheID=1;a.alpha=1;a.cacheCanvas=null;a.id=-1;a.mouseEnabled=!0;a.name=null;a.parent=null;a.regX=0;a.regY=0;a.y7=0;a.scaleX=1;a.scaleY=1;a.skewX=0;a.skewY=0;a.shadow=null;a.visible=!0;a.x=0;a.y=0;
a.compositeOperation=null;a.snapToPixel=!1;a.filters=null;a.cacheID=0;a.mask=null;a.hitArea=null;a.cursor=null;a._cacheOffsetX=0;a._cacheOffsetY=0;a._cacheScale=1;a._cacheDataURLID=0;a._cacheDataURL=null;a._matrix=null;a._rectangle=null;a._y13=null;a.initialize=function(){this.id=createjs.UID.get();this._matrix=new createjs.Matrix2D;this._rectangle=new createjs.Rectangle};a.isVisible=function(){return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY)};a.draw=function(b,a){var c=this.cacheCanvas;
if(a||!c)return!1;var f=this._cacheScale,g=this._cacheOffsetX,k=this._cacheOffsetY,m;if(m=this._applyFilterBounds(g,k,0,0))g=m.x,k=m.y;b.drawImage(c,g,k,c.width/f,c.height/f);return!0};a.updateContext=function(b){var a,c=this.mask;c&&c.graphics&&!c.graphics.isEmpty()&&(a=c.getMatrix(c._matrix),b.transform(a.a,a.b,a.c,a.d,a.tx,a.ty),c.graphics.drawAsPath(b),b.clip(),a.invert(),b.transform(a.a,a.b,a.c,a.d,a.tx,a.ty));a=this._matrix.identity().appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.y7,
this.skewX,this.skewY,this.regX,this.regY);createjs.Stage._snapToPixelEnabled&&this.snapToPixel?b.transform(a.a,a.b,a.c,a.d,a.tx+0.5|0,a.ty+0.5|0):b.transform(a.a,a.b,a.c,a.d,a.tx,a.ty);b.globalAlpha*=this.alpha;this.compositeOperation&&(b.globalCompositeOperation=this.compositeOperation);this.shadow&&this._applyShadow(b,this.shadow)};a.cache=function(b,a,c,f,g){g=g||1;this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));this._cacheWidth=
c;this._cacheHeight=f;this._cacheOffsetX=b;this._cacheOffsetY=a;this._cacheScale=g;this.updateCache()};a.updateCache=function(b){var a=this.cacheCanvas,e=this._cacheScale,f=this._cacheOffsetX*e,g=this._cacheOffsetY*e,k=this._cacheWidth,m=this._cacheHeight,n;if(!a)throw"cache() must be called before updateCache()";var w=a.getContext("2d");if(n=this._applyFilterBounds(f,g,k,m))f=n.x,g=n.y,k=n.width,m=n.height;k=Math.ceil(k*e);m=Math.ceil(m*e);k!=a.width||m!=a.height?(a.width=k,a.height=m):b||w.clearRect(0,
0,k+1,m+1);w.save();w.globalCompositeOperation=b;w.setTransform(e,0,0,e,-f,-g);this.draw(w,!0);this._applyFilters();w.restore();this.cacheID=c._nextCacheID++};a.uncache=function(){this._cacheDataURL=this.cacheCanvas=null;this.cacheID=this._cacheOffsetX=this._cacheOffsetY=0;this._cacheScale=1};a.getCacheDataURL=function(){if(!this.cacheCanvas)return null;this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL());return this._cacheDataURL};a.getStage=function(){for(var b=
this;b.parent;)b=b.parent;return b instanceof createjs.Stage?b:null};a.localToGlobal=function(b,a){var c=this.getConcatenatedMatrix(this._matrix);if(null==c)return null;c.append(1,0,0,1,b,a);return new createjs.Point(c.tx,c.ty)};a.globalToLocal=function(b,a){var c=this.getConcatenatedMatrix(this._matrix);if(null==c)return null;c.invert();c.append(1,0,0,1,b,a);return new createjs.Point(c.tx,c.ty)};a.localToLocal=function(b,a,c){b=this.localToGlobal(b,a);return c.globalToLocal(b.x,b.y)};a.setTransform=
function(b,a,c,f,g,k,m,n,w){this.x=b||0;this.y=a||0;this.scaleX=null==c?1:c;this.scaleY=null==f?1:f;this.y7=g||0;this.skewX=k||0;this.skewY=m||0;this.regX=n||0;this.regY=w||0;return this};a.getMatrix=function(b){return(b?b.identity():new createjs.Matrix2D).appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.y7,this.skewX,this.skewY,this.regX,this.regY).appendProperties(this.alpha,this.shadow,this.compositeOperation)};a.getConcatenatedMatrix=function(b){b?b.identity():b=new createjs.Matrix2D;
for(var a=this;null!=a;)b.prependTransform(a.x,a.y,a.scaleX,a.scaleY,a.y7,a.skewX,a.skewY,a.regX,a.regY).prependProperties(a.alpha,a.shadow,a.compositeOperation),a=a.parent;return b};a.hitTest=function(b,a){var e=c._hitTestContext;e.setTransform(1,0,0,1,-b,-a);this.draw(e);var f=this._testHit(e);e.setTransform(1,0,0,1,0,0);e.clearRect(0,0,2,2);return f};a.set=function(b){for(var a in b)this[a]=b[a];return this};a.getBounds=function(){if(this._y13)return this._rectangle.copy(this._y13);var b=this.cacheCanvas;
if(b){var a=this._cacheScale;return this._rectangle.initialize(this._cacheOffsetX,this._cacheOffsetY,b.width/a,b.height/a)}return null};a.getTransformedBounds=function(){return this._getBounds()};a.setBounds=function(b,a,c,f){null==b&&(this._y13=b);this._y13=(this._y13||new createjs.Rectangle).initialize(b,a,c,f)};a.clone=function(){var b=new c;this.cloneProps(b);return b};a.toString=function(){return"[DisplayObject (name="+this.name+")]"};a.cloneProps=function(b){b.alpha=this.alpha;b.name=this.name;
b.regX=this.regX;b.regY=this.regY;b.y7=this.y7;b.scaleX=this.scaleX;b.scaleY=this.scaleY;b.shadow=this.shadow;b.skewX=this.skewX;b.skewY=this.skewY;b.visible=this.visible;b.x=this.x;b.y=this.y;b._y13=this._y13;b.mouseEnabled=this.mouseEnabled;b.compositeOperation=this.compositeOperation};a._applyShadow=function(b,a){a=a||Shadow.identity;b.shadowColor=a.color;b.shadowOffsetX=a.offsetX;b.shadowOffsetY=a.offsetY;b.shadowBlur=a.blur};a._tick=function(b){var a=this._listeners;a&&a.tick&&(a=new createjs.Event("tick"),
a.params=b,this._dispatchEvent(a,this,2))};a._testHit=function(b){try{var a=1<b.getImageData(0,0,1,1).data[3]}catch(e){if(!c.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.";}return a};a._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var b=this.filters.length,a=this.cacheCanvas.getContext("2d"),c=this.cacheCanvas.width,f=this.cacheCanvas.height,
g=0;g<b;g++)this.filters[g].applyFilter(a,0,0,c,f)};a._applyFilterBounds=function(b,a,c,f){var g,k,m=this.filters;if(m&&(k=m.length)){for(m=0;m<k;m++){var n=this.filters[m];if(n=n.getBounds&&n.getBounds())g||(g=this._rectangle.initialize(b,a,c,f)),g.x+=n.x,g.y+=n.y,g.width+=n.width,g.height+=n.height}return g}};a._getBounds=function(b,a){return this._transformBounds(this.getBounds(),b,a)};a._transformBounds=function(b,a,c){if(!b)return b;var f=b.x,g=b.y,k=b.width,m=b.height,n=c?this._matrix.identity():
this.getMatrix(this._matrix);(f||g)&&n.appendTransform(0,0,1,1,0,0,0,-f,-g);a&&n.prependMatrix(a);a=k*n.a;k*=n.b;c=m*n.c;var m=m*n.d,w=n.tx,n=n.ty,s=w,t=w,x=n,y=n;(f=a+w)<s?s=f:f>t&&(t=f);(f=a+c+w)<s?s=f:f>t&&(t=f);(f=c+w)<s?s=f:f>t&&(t=f);(g=k+n)<x?x=g:g>y&&(y=g);(g=k+m+n)<x?x=g:g>y&&(y=g);(g=m+n)<x?x=g:g>y&&(y=g);return b.initialize(s,x,t-s,y-x)};a.isRoot=!1;a.bounding_box=null;a.isCheckMouseWithDraw=!1;a.setBoundingBox=function(b,a,c,f){return this.bounding_box=new createjs.Rectangle(b,a,c,f)};
createjs.DisplayObject=c})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},a=c.prototype=new createjs.DisplayObject;a.children=null;a.mouseChildren=!0;a.DisplayObject_initialize=a.initialize;a.initialize=function(){this.DisplayObject_initialize();this.children=[]};a.isVisible=function(){var b=this.cacheCanvas||this.children.length;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b)};a.DisplayObject_draw=a.draw;a.draw=function(b,a){if(this.DisplayObject_draw(b,a))return!0;for(var c=this.children.slice(0),
e=0,f=c.length;e<f;e++){var g=c[e];g.isVisible()&&(b.save(),g.updateContext(b),g.draw(b),b.restore())}return!0};a.addChild=function(b){if(null==b)return b;var a=arguments.length;if(1<a){for(var c=0;c<a;c++)this.addChild(arguments[c]);return arguments[a-1]}b.parent&&b.parent.removeChild(b);b.parent=this;this.children.push(b);return b};a.addChildAt=function(b,a){var c=arguments.length,e=arguments[c-1];if(0>e||e>this.children.length)return arguments[c-2];if(2<c){for(var f=0;f<c-1;f++)this.addChildAt(arguments[f],
e+f);return arguments[c-2]}b.parent&&b.parent.removeChild(b);b.parent=this;this.children.splice(a,0,b);return b};a.removeChild=function(b){var a=arguments.length;if(1<a){for(var c=!0,e=0;e<a;e++)c=c&&this.removeChild(arguments[e]);return c}return this.removeChildAt(createjs.indexOf(this.children,b))};a.removeChildAt=function(b){var a=arguments.length;if(1<a){for(var c=[],e=0;e<a;e++)c[e]=arguments[e];c.sort(function(b,a){return a-b});for(var f=!0,e=0;e<a;e++)f=f&&this.removeChildAt(c[e]);return f}if(0>
b||b>this.children.length-1)return!1;if(a=this.children[b])a.parent=null;this.children.splice(b,1);return!0};a.removeAllChildren=function(){for(var b=this.children;b.length;)b.pop().parent=null};a.getChildAt=function(b){return this.children[b]};a.getChildByName=function(b){for(var a=this.children,c=0,e=a.length;c<e;c++)if(a[c].name==b)return a[c];return null};a.sortChildren=function(b){this.children.sort(b)};a.getChildIndex=function(b){return createjs.indexOf(this.children,b)};a.getNumChildren=function(){return this.children.length};
a.swapChildrenAt=function(b,a){var c=this.children,e=c[b],f=c[a];e&&f&&(c[b]=f,c[a]=e)};a.swapChildren=function(b,a){for(var c=this.children,e,f,g=0,k=c.length;g<k&&(c[g]==b&&(e=g),c[g]==a&&(f=g),null==e||null==f);g++);g!=k&&(c[e]=a,c[f]=b)};a.setChildIndex=function(b,a){var c=this.children,e=c.length;if(!(b.parent!=this||0>a||a>=e)){for(var f=0;f<e&&c[f]!=b;f++);f!=e&&f!=a&&(c.splice(f,1),c.splice(a,0,b))}};a.contains=function(b){for(;b;){if(b==this)return!0;b=b.parent}return!1};a.hitTest=function(b,
a){return null!=this.getObjectUnderPoint(b,a)};a.getObjectsUnderPoint=function(b,a){var c=[],e=this.localToGlobal(b,a);this._getObjectsUnderPoint(e.x,e.y,c);return c};a.getObjectUnderPoint=function(b,a){var c=this.localToGlobal(b,a);return this._getObjectsUnderPoint(c.x,c.y)};a.DisplayObject_getBounds=a.getBounds;a.getBounds=function(){return this._getBounds(null,!0)};a.getTransformedBounds=function(){return this._getBounds()};a.clone=function(b){var a=new c;this.cloneProps(a);if(b)for(var d=a.children=
[],e=0,f=this.children.length;e<f;e++){var g=this.children[e].clone(b);g.parent=a;d.push(g)}return a};a.toString=function(){return"[Container (name="+this.name+")]"};a.DisplayObject__tick=a._tick;a._tick=function(b){for(var a=this.children.length-1;0<=a;a--){var c=this.children[a];c._tick&&c._tick(b)}this.DisplayObject__tick(b)};a._getObjectsUnderPoint=function(b,a,d,e){var f,g;f=this.children.length;if(!isDesktopBrowser){var k;for(f-=1;0<=f;f--)if(g=this.children[f],g.visible&&g.mouseEnabled&&!(0>=
g.alpha)){if(k=g.bounding_box){if(k=g.isRoot?g.x+k.x<=b&&b<g.x+k.x+k.width&&g.y+k.y<=a&&a<g.y+k.y+k.height:(g.x+k.x)*scaleFactor<=b&&b<scaleFactor*(g.x+k.x+k.width)&&(g.y+k.y)*scaleFactor<=a&&a<scaleFactor*(g.y+k.y+k.height))if(d){d.push(g);continue}else return g}else if(g.isCheckMouseWithDraw){k=createjs.DisplayObject._hitTestContext;var m=this._matrix,n=e&&g.hitArea;g.getConcatenatedMatrix(m);n&&(m.appendTransform(n.x,n.y,n.scaleX,n.scaleY,n.y7,n.skewX,n.skewY,n.regX,n.regY),m.alpha=n.alpha);k.globalAlpha=
m.alpha;k.setTransform(m.a,m.b,m.c,m.d,m.tx-b,m.ty-a);(n||g).draw(k);if(!this._testHit(k))continue;k.setTransform(1,0,0,1,0,0);k.clearRect(0,0,2,2);if(d)d.push(g);else return e&&!this.mouseChildren?this:g}if(g instanceof c&&(g=g.isRoot?g._getObjectsUnderPoint(b-(g.x+g.regX),a-(g.y+g.regY),d,e):g._getObjectsUnderPoint(b-(g.x+g.regX)*scaleFactor,a-(g.y+g.regY)*scaleFactor,d,e)))if(d)d.push(g);else return g}return null}k=createjs.DisplayObject._hitTestContext;m=this._matrix;for(f-=1;0<=f;f--)if(g=this.children[f],
n=e&&g.hitArea,g.visible&&(n||g.isVisible())&&(!e||g.mouseEnabled))if(!n&&g instanceof c){if(g=g._getObjectsUnderPoint(b,a,d,e),!d&&g)return e&&!this.mouseChildren?this:g}else if(g.getConcatenatedMatrix(m),n&&(m.appendTransform(n.x,n.y,n.scaleX,n.scaleY,n.y7,n.skewX,n.skewY,n.regX,n.regY),m.alpha=n.alpha),k.globalAlpha=m.alpha,k.setTransform(m.a,m.b,m.c,m.d,m.tx-b,m.ty-a),(n||g).draw(k),this._testHit(k))if(k.setTransform(1,0,0,1,0,0),k.clearRect(0,0,2,2),d)d.push(g);else return e&&!this.mouseChildren?
this:g;return null};a._getBounds=function(b,a){var c=this.DisplayObject_getBounds();if(c)return this._transformBounds(c,b,a);var e,f,g,k,m=a?this._matrix.identity():this.getMatrix(this._matrix);b&&m.prependMatrix(b);for(var n=this.children.length,w=0;w<n;w++){var s=this.children[w];if(s.visible&&(c=s._getBounds(m))){var s=c.x,t=c.y,x=s+c.width,y=t+c.height;if(s<e||null==e)e=s;if(x>f||null==f)f=x;if(t<g||null==g)g=t;if(y>k||null==k)k=y}}return null==f?null:this._rectangle.initialize(e,g,f-e,k-g)};
createjs.Container=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.Container;c._snapToPixelEnabled=!1;a.autoClear=!0;a.canvas=null;a.mouseX=0;a.mouseY=0;a.snapToPixelEnabled=!1;a.mouseInBounds=!1;a.tickOnUpdate=!0;a.mouseMoveOutside=!1;a.nextStage=null;a._pointerData=null;a._pointerCount=0;a._primaryPointerID=null;a._mouseOverIntervalID=null;a.Container_initialize=a.initialize;a.initialize=function(b){this.Container_initialize();this.canvas="string"==typeof b?document.getElementById(b):
b;this._pointerData={};this.enableDOMEvents(!0)};a.update=function(b){if(this.canvas){this.tickOnUpdate&&(this.dispatchEvent("tickstart"),this._tick(arguments.length?arguments:null),this.dispatchEvent("tickend"));this.dispatchEvent("drawstart");c._snapToPixelEnabled=this.snapToPixelEnabled;this.autoClear&&this.clear();var a=this.canvas.getContext("2d");a.save();this.updateContext(a);this.draw(a,!1);a.restore();this.dispatchEvent("drawend")}};a.handleEvent=function(b){"tick"==b.type&&this.update(b)};
a.clear=function(){if(this.canvas){var b=this.canvas.getContext("2d");b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}};a.toDataURL=function(b,a){a||(a="image/png");var c=this.canvas.getContext("2d"),e=this.canvas.width,f=this.canvas.height,g;if(b){g=c.getImageData(0,0,e,f);var k=c.globalCompositeOperation;c.globalCompositeOperation="destination-over";c.fillStyle=b;c.fillRect(0,0,e,f)}var m=this.canvas.toDataURL(a);b&&(c.clearRect(0,0,e+1,f+1),c.putImageData(g,
0,0),c.globalCompositeOperation=k);return m};a.enableMouseOver=function(b){this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==b&&this._testMouseOver(!0));if(null==b)b=20;else if(0>=b)return;var a=this;this._mouseOverIntervalID=setInterval(function(){a._testMouseOver()},1E3/Math.min(50,b))};a.enableDOMEvents=function(b){null==b&&(b=!0);var a,c=this._eventListeners;if(!b&&c){for(a in c)b=c[a],b.t.removeEventListener(a,b.f,!1);this._eventListeners=
null}else if(b&&!c&&this.canvas){b=window.addEventListener?window:document;var e=this,c=this._eventListeners={};c.mouseup={t:b,f:function(b){e._handleMouseUp(b)}};c.mousemove={t:b,f:function(b){e._handleMouseMove(b)}};c.dblclick={t:b,f:function(b){e._handleDoubleClick(b)}};c.mousedown={t:this.canvas,f:function(b){e._handleMouseDown(b)}};for(a in c)b=c[a],b.t.addEventListener(a,b.f,!1)}};a.clone=function(){var b=new c(null);this.cloneProps(b);return b};a.toString=function(){return"[Stage (name="+this.name+
")]"};a._getElementRect=function(b){var a;try{a=b.getBoundingClientRect()}catch(c){a={top:b.offsetTop,left:b.offsetLeft,width:b.offsetWidth,height:b.offsetHeight}}var e=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),f=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),g=window.getComputedStyle?getComputedStyle(b):b.currentStyle;b=parseInt(g.paddingLeft)+parseInt(g.borderLeftWidth);var k=parseInt(g.paddingTop)+
parseInt(g.borderTopWidth),m=parseInt(g.paddingRight)+parseInt(g.borderRightWidth),g=parseInt(g.paddingBottom)+parseInt(g.borderBottomWidth);return{left:a.left+e+b,right:a.right+e-m,top:a.top+f+k,bottom:a.bottom+f-g}};a._getPointerData=function(b){var a=this._pointerData[b];a||(a=this._pointerData[b]={x:0,y:0},null==this._primaryPointerID&&(this._primaryPointerID=b));return a};a._handleMouseMove=function(b){b||(b=window.event);this._handlePointerMove(-1,b,b.pageX,b.pageY)};a._handlePointerMove=function(b,
a,c,e){if(this.canvas){var f=this._getPointerData(b),g=f.inBounds;this._updatePointerPosition(b,a,c,e);if(g||f.inBounds||this.mouseMoveOutside)-1==b&&f.inBounds==!g&&this._dispatchMouseEvent(this,g?"mouseleave":"mouseenter",!1,b,f,a),this._dispatchMouseEvent(this,"y44mousemove",!1,b,f,a),this._dispatchMouseEvent(f.target,"pressmove",!0,b,f,a),(g=f.event)&&g.hasEventListener("mousemove")&&g.dispatchEvent(new createjs.MouseEvent("mousemove",!1,!1,f.x,f.y,a,b,b==this._primaryPointerID,f.rawX,f.rawY),
oTarget),this.nextStage&&this.nextStage._handlePointerMove(b,a,c,e)}};a._updatePointerPosition=function(b,a,c,e){var f=this._getElementRect(this.canvas);c-=f.left;e-=f.top;var g=this.canvas.width,k=this.canvas.height;c/=(f.right-f.left)/g;e/=(f.bottom-f.top)/k;f=this._getPointerData(b);(f.inBounds=0<=c&&0<=e&&c<=g-1&&e<=k-1)?(f.x=c,f.y=e):this.mouseMoveOutside&&(f.x=0>c?0:c>g-1?g-1:c,f.y=0>e?0:e>k-1?k-1:e);f.posEvtObj=a;f.rawX=c;f.rawY=e;b==this._primaryPointerID&&(this.mouseX=f.x,this.mouseY=f.y,
this.mouseInBounds=f.inBounds)};a._handleMouseUp=function(b){this._handlePointerUp(-1,b,!1)};a._handlePointerUp=function(b,a,c){var e=this._getPointerData(b),f=e.target;f&&(f.hasEventListener("pressup")||f.hasEventListener("click"))?(f.hasEventListener("click")&&this._getObjectsUnderPoint(e.x,e.y,null,!0)==f&&this._dispatchMouseEvent(f,"click",!0,b,e,a),this._dispatchMouseEvent(f,"pressup",!0,b,e,a)):this._dispatchMouseEvent(this,"y44mouseup",!1,b,e,a);c?(b==this._primaryPointerID&&(this._primaryPointerID=
null),delete this._pointerData[b]):e.event=e.target=null;this.nextStage&&this.nextStage._handlePointerUp(b,a,c)};a._handleMouseDown=function(b){this._handlePointerDown(-1,b,b.pageX,b.pageY)};a._handlePointerDown=function(b,a,c,e){null!=e&&this._updatePointerPosition(b,a,c,e);var f=this._getPointerData(b);f.target=this._getObjectsUnderPoint(f.x,f.y,null,!0);this._dispatchMouseEvent(f.target,"mousedown",!0,b,f,a);f.target&&f.target.hasEventListener("mousedown")||this._dispatchMouseEvent(this,"y44mousedown",
!1,b,f,a);this.nextStage&&this.nextStage._handlePointerDown(b,a,c,e)};a._testMouseOver=function(b){if(-1==this._primaryPointerID&&(b||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var a=this._getPointerData(-1),c=a.posEvtObj,e,f=-1,g="",k;if(b||this.mouseInBounds&&c&&c.target==this.canvas)e=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY;b=this._mouseOverTarget||[];var m=b[b.length-1],n=this._mouseOverTarget=
[];for(k=e;k;)n.unshift(k),null!=k.cursor&&(g=k.cursor),k=k.parent;this.canvas.style.cursor=g;g=0;for(k=n.length;g<k&&n[g]==b[g];g++)f=g;m!=e&&this._dispatchMouseEvent(m,"mouseout",!0,-1,a,c);for(g=b.length-1;g>f;g--)this._dispatchMouseEvent(b[g],"rollout",!1,-1,a,c);for(g=n.length-1;g>f;g--)this._dispatchMouseEvent(n[g],"rollover",!1,-1,a,c);m!=e&&this._dispatchMouseEvent(e,"mouseover",!0,-1,a,c)}};a._handleDoubleClick=function(b){var a=this._getPointerData(-1),c=this._getObjectsUnderPoint(a.x,a.y,
null,!0);this._dispatchMouseEvent(c,"dblclick",!0,-1,a,b);this.nextStage&&this.nextStage._handleDoubleClick(b)};a._dispatchMouseEvent=function(b,a,c,e,f,g){b&&(c||b.hasEventListener(a))&&(a=new createjs.MouseEvent(a,c,!1,f.x,f.y,g,e,e==this._primaryPointerID,f.rawX,f.rawY),b.dispatchEvent(a))};createjs.Stage=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.DisplayObject;a.image=null;a.snapToPixel=!0;a.sourceRect=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(b){this.DisplayObject_initialize();"string"==typeof b?(this.image=document.createElement("img"),this.image.src=b):this.image=b};a.isVisible=function(){var b=this.cacheCanvas||this.image&&(this.image.complete||this.image.getContext||2<=this.image.readyState);return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&
0!=this.scaleY&&b)};a.DisplayObject_draw=a.draw;a.draw=function(b,a){if(this.DisplayObject_draw(b,a))return!0;var c=this.sourceRect;c?b.drawImage(this.image,c.x,c.y,c.width,c.height,0,0,c.width,c.height):b.drawImage(this.image,0,0);return!0};a.DisplayObject_getBounds=a.getBounds;a.getBounds=function(){var b=this.DisplayObject_getBounds();if(b)return b;b=this.sourceRect||this.image;return this.image&&(this.image.complete||this.image.getContext||2<=this.image.readyState)?this._rectangle.initialize(0,
0,b.width,b.height):null};a.clone=function(){var b=new c(this.image);this.sourceRect&&(b.sourceRect=this.sourceRect.clone());this.cloneProps(b);return b};a.toString=function(){return"[Bitmap (name="+this.name+")]"};createjs.Bitmap=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a){this.initialize(b,a)},a=c.prototype=new createjs.DisplayObject;a.currentFrame=0;a.currentAnimation=null;a.paused=!0;a.spriteSheet=null;a.snapToPixel=!0;a.isLoop=!0;a.offset=0;a.currentAnimationFrame=0;a.framerate=0;a._advanceCount=0;a._animation=null;a._currentFrame=null;a.rectMask=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(b,a){this.DisplayObject_initialize();this.spriteSheet=b;a&&this.gotoAndPlay(a)};a.isVisible=function(){var b=this.cacheCanvas||
this.spriteSheet.complete;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b)};a.DisplayObject_draw=a.draw;a.draw=function(b,a){if(this.DisplayObject_draw(b,a))return!0;this._normalizeFrame();var c=this.spriteSheet.getFrame(this._currentFrame|0);if(!c)return!1;var e=c.rect;this.rectMask?b.drawImage(c.image,e.x+this.rectMask.x,e.y+this.rectMask.y,e.width+this.rectMask.width,e.height+this.rectMask.height,-c.regX+this.rectMask.x,-c.regY+this.rectMask.y,e.width+this.rectMask.width,
e.height+this.rectMask.height):b.drawImage(c.image,e.x,e.y,e.width,e.height,-c.regX,-c.regY,e.width,e.height);return!0};a.play=function(){this.paused=!1};a.stop=function(){this.paused=!0};a.gotoAndPlay=function(b){this.paused=!1;this._goto(b)};a.gotoAndStop=function(b){this.paused=!0;this._goto(b)};a.advance=function(b){var a=this._animation&&this._animation.speed||1,c=this.framerate||this.spriteSheet.framerate;b=c&&null!=b?b/(1E3/c):1;this._animation?this.currentAnimationFrame+=b*a:this._currentFrame+=
b*a;this._normalizeFrame()};a.DisplayObject_getBounds=a.getBounds;a.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)};a.clone=function(){var b=new c(this.spriteSheet);this.cloneProps(b);return b};a.toString=function(){return"[Sprite (name="+this.name+")]"};a.DisplayObject__tick=a._tick;a._tick=function(b){this.paused||this.advance(b&&b[0]&&b[0].delta);this.DisplayObject__tick(b)};a._normalizeFrame=function(){var b=this._animation,
a=this.paused,c=this._currentFrame,e=this.currentAnimationFrame,f;if(b)if(f=b.frames.length,(e|0)>=f){var g=b.next;if(!this._dispatchAnimationEnd(b,c,a,g,f-1)){if(g&&this.isLoop)return this._goto(g,e-f);this.paused=!0;e=this.currentAnimationFrame=b.frames.length-1;this._currentFrame=b.frames[e]}}else this._currentFrame=b.frames[e|0];else if(f=this.spriteSheet.getNumFrames(),c>=f&&!this._dispatchAnimationEnd(b,c,a,f-1)&&(this._currentFrame-=f)>=f)return this._normalizeFrame();this.currentFrame=this._currentFrame|
0};a._dispatchAnimationEnd=function(b,a,c,e,f){var g=b?b.name:null;if(this.hasEventListener("animationend")){var k=new createjs.Event("animationend");k.name=g;k.next=e;this.dispatchEvent(k)}b=this._animation!=b||this._currentFrame!=a;b||c||!this.paused||(this.currentAnimationFrame=f,b=!0);return b};a.DisplayObject_cloneProps=a.cloneProps;a.cloneProps=function(b){this.DisplayObject_cloneProps(b);b.currentFrame=this.currentFrame;b._currentFrame=this._currentFrame;b.currentAnimation=this.currentAnimation;
b.paused=this.paused;b._animation=this._animation;b.currentAnimationFrame=this.currentAnimationFrame;b.framerate=this.framerate};a._goto=function(b,a){if(isNaN(b)){var c=this.spriteSheet.getAnimation(b);c&&(this.currentAnimationFrame=a||0,this._animation=c,this.currentAnimation=b,this._normalizeFrame())}else this.currentAnimationFrame=0,this.currentAnimation=this._animation=null,this._currentFrame=b,this._normalizeFrame()};createjs.Sprite=c})();this.createjs=this.createjs||{};
(function(){if(!createjs.Sprite)throw"BitmapAnimation is deprecated in favour of Sprite. See VERSIONS file for info on changes.";(createjs.BitmapAnimation=function(c){console.log("BitmapAnimation is deprecated in favour of Sprite. See VERSIONS file for info on changes.");this.initialize(c)}).prototype=new createjs.Sprite})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.DisplayObject;a.graphics=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(b){this.DisplayObject_initialize();this.graphics=b?b:new createjs.Graphics};a.isVisible=function(){var b=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b)};a.DisplayObject_draw=a.draw;a.draw=function(b,a){if(this.DisplayObject_draw(b,a))return!0;this.graphics.draw(b);
return!0};a.clone=function(b){b=new c(b&&this.graphics?this.graphics.clone():this.graphics);this.cloneProps(b);return b};a.toString=function(){return"[Shape (name="+this.name+")]"};createjs.Shape=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,c){this.initialize(b,a,c)},a=c.prototype=new createjs.DisplayObject,b=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");b.getContext&&(c._workingContext=b.getContext("2d"),b.width=b.height=1);c.H_OFFSETS={start:0,left:0,center:-0.5,end:-1,right:-1};c.V_OFFSETS={top:0,hanging:-0.01,middle:-0.4,alphabetic:-0.8,ideographic:-0.85,bottom:-1};a.text="";a.font=null;a.color=null;a.textAlign="left";a.textBaseline="top";a.maxWidth=null;a.outline=0;
a.lineHeight=0;a.lineWidth=null;a.DisplayObject_initialize=a.initialize;a.initialize=function(b,a,c){this.DisplayObject_initialize();this.text=b;this.font=a;this.color=c};a.isVisible=function(){var b=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b)};a.DisplayObject_draw=a.draw;a.draw=function(b,a){if(this.DisplayObject_draw(b,a))return!0;var c=this.color||"#000";this.outline?(b.strokeStyle=c,b.lineWidth=1*this.outline):b.fillStyle=
c;this._drawText(this._prepContext(b));return!0};a.getMeasuredWidth=function(){return this._prepContext(c._workingContext).measureText(this.text).width};a.getMeasuredLineHeight=function(){return 1.2*this._prepContext(c._workingContext).measureText("M").width};a.getMeasuredHeight=function(){return this._drawText(null,{}).height};a.DisplayObject_getBounds=a.getBounds;a.getBounds=function(){var b=this.DisplayObject_getBounds();if(b)return b;if(null==this.text||""==this.text)return null;var b=this._drawText(null,
{}),a=this.maxWidth&&this.maxWidth<b.width?this.maxWidth:b.width,e=a*c.H_OFFSETS[this.textAlign||"left"],f=(this.lineHeight||this.getMeasuredLineHeight())*c.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.initialize(e,f,a,b.height)};a.clone=function(){var b=new c(this.text,this.font,this.color);this.cloneProps(b);return b};a.toString=function(){return"[Text (text="+(20<this.text.length?this.text.substr(0,17)+"...":this.text)+")]"};a.DisplayObject_cloneProps=a.cloneProps;a.cloneProps=function(b){this.DisplayObject_cloneProps(b);
b.textAlign=this.textAlign;b.textBaseline=this.textBaseline;b.maxWidth=this.maxWidth;b.outline=this.outline;b.lineHeight=this.lineHeight;b.lineWidth=this.lineWidth};a._prepContext=function(b){b.font=this.font;b.textAlign=this.textAlign||"left";b.textBaseline=this.textBaseline||"top";return b};a._drawText=function(b,a){var e=!!b;e||(b=this._prepContext(c._workingContext));for(var f=this.lineHeight||this.getMeasuredLineHeight(),g=0,k=0,m=String(this.text).split(/(?:\r\n|\r|\n)/),n=0,w=m.length;n<w;n++){var s=
m[n],t=null;if(null!=this.lineWidth&&(t=b.measureText(s).width)>this.lineWidth)for(var x=s.split(/(\s)/),s=x[0],t=b.measureText(s).width,y=1,q=x.length;y<q;y+=2){var A=b.measureText(x[y]+x[y+1]).width;t+A>this.lineWidth?(e&&this._drawTextLine(b,s,k*f),t>g&&(g=t),s=x[y+1],t=b.measureText(s).width,k++):(s+=x[y]+x[y+1],t+=A)}e&&this._drawTextLine(b,s,k*f);a&&null==t&&(t=b.measureText(s).width);t>g&&(g=t);k++}a&&(a.count=k,a.width=g,a.height=k*f);return a};a._drawTextLine=function(b,a,c){this.outline?
b.strokeText(a,0,c,this.maxWidth||65535):b.fillText(a,0,c,this.maxWidth||65535)};createjs.Text=c})();this.createjs=this.createjs||{};
(function(){function c(b,a){this.initialize(b,a)}var a=c.prototype=new createjs.DisplayObject;a.text="";a.spriteSheet=null;a.lineHeight=0;a.letterSpacing=0;a.isNeedCenter=!1;a.centerX=0;a.centerY=0;a.textBounds;a.spaceWidth=0;a.postfix="";a.DisplayObject_initialize=a.initialize;a.initialize=function(b,c){this.DisplayObject_initialize();this.text=b;this.spriteSheet=c;a.textBounds=new createjs.Rectangle};a.DisplayObject_draw=a.draw;a.draw=function(b,a){if(this.DisplayObject_draw(b,a))return!0;this._drawText(b)};
a.isVisible=function(){var b=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&b)};a.getBounds=function(){var b=this._rectangle;this._drawText(null,b);return b.width?b:null};a._getFrame=function(b,a){var c,e=a.getAnimation(b+this.postfix);e||(b!=(c=b.toUpperCase())||b!=(c=b.toLowerCase())||(c=null),c&&(e=a.getAnimation(c+this.postfix)));return e&&a.getFrame(e.frames[0])};a._getLineHeight=function(b){return(b=
this._getFrame("1",b)||this._getFrame("T",b)||this._getFrame("L",b)||b.getFrame(0))?b.rect.height:1};a._getSpaceWidth=function(b){return(b=this._getFrame("1",b)||this._getFrame("l",b)||this._getFrame("e",b)||this._getFrame("a",b)||b.getFrame(0))?b.rect.width:1};a._drawText=function(b,a){var c,e,f,g=0,k=0,m=this.spaceWidth,n=this.lineHeight,w=this.spriteSheet;0==m&&(m=this._getSpaceWidth(w));0==n&&(n=this._getLineHeight(w));for(var s=0,t=0,x=this.text.length;t<x;t++)if(c=this.text.charAt(t)," "==c)g+=
m;else if("\n"==c||"\r"==c)"\r"==c&&"\n"==this.text.charAt(t+1)&&t++,g-f>s&&(s=g-f),g=0,k+=n;else{var y=this._getFrame(c,w);if(y){var q=y.rect;f=y.regX;c=q.width;b&&b.drawImage(y.image,q.x,q.y,c,e=q.height,g-f,k-y.regY,c,e);g+=c+this.letterSpacing}}g-f>s&&(s=g-f);a&&(a.width=s-this.letterSpacing,a.height=k+n);this.textBounds.width=s-this.letterSpacing;this.textBounds.height=k+n};createjs.BitmapText=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"SpriteSheetUtils cannot be instantiated";},a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.getContext&&(c._workingCanvas=a,c._workingContext=a.getContext("2d"),a.width=a.height=1);c.addFlippedFrames=function(b,a,d,e){if(a||d||e){var f=0;a&&c._flip(b,++f,!0,!1);d&&c._flip(b,++f,!1,!0);e&&c._flip(b,++f,!0,!0)}};c.extractFrame=function(b,a){isNaN(a)&&(a=b.getAnimation(a).frames[0]);var d=b.getFrame(a);if(!d)return null;var e=d.rect,
f=c._workingCanvas;f.width=e.width;f.height=e.height;c._workingContext.drawImage(d.image,e.x,e.y,e.width,e.height,0,0,e.width,e.height);d=document.createElement("img");d.src=f.toDataURL("image/png");return d};c.mergeAlpha=function(b,a,c){c||(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));c.width=Math.max(a.width,b.width);c.height=Math.max(a.height,b.height);var e=c.getContext("2d");e.save();e.drawImage(b,0,0);e.globalCompositeOperation="destination-in";e.drawImage(a,
0,0);e.restore();return c};c._flip=function(b,a,d,e){for(var f=b._images,g=c._workingCanvas,k=c._workingContext,m=f.length/a,n=0;n<m;n++){var w=f[n];w.__tmp=n;k.setTransform(1,0,0,1,0,0);k.clearRect(0,0,g.width+1,g.height+1);g.width=w.width;g.height=w.height;k.setTransform(d?-1:1,0,0,e?-1:1,d?w.width:0,e?w.height:0);k.drawImage(w,0,0);var s=document.createElement("img");s.src=g.toDataURL("image/png");s.width=w.width;s.height=w.height;f.push(s)}k=b._frames;g=k.length/a;for(n=0;n<g;n++){var w=k[n],
t=w.rect.clone(),s=f[w.image.__tmp+m*a],x={image:s,rect:t,regX:w.regX,regY:w.regY};d&&(t.x=s.width-t.x-t.width,x.regX=t.width-w.regX);e&&(t.y=s.height-t.y-t.height,x.regY=t.height-w.regY);k.push(x)}d="_"+(d?"h":"")+(e?"v":"");e=b._animations;b=b._data;f=e.length/a;for(n=0;n<f;n++){k=e[n];w=b[k];m={name:k+d,frequency:w.frequency,next:w.next,frames:[]};w.next&&(m.next+=d);k=w.frames;w=0;for(s=k.length;w<s;w++)m.frames.push(k[w]+g*a);b[m.name]=m;e.push(m.name)}};createjs.SpriteSheetUtils=c})();
this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},a=c.prototype=new createjs.EventDispatcher;c.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions";c.ERR_RUNNING="a build is already running";a.maxWidth=2048;a.maxHeight=2048;a.spriteSheet=null;a.scale=1;a.padding=1;a.timeSlice=0.3;a.progress=-1;a._frames=null;a._animations=null;a._data=null;a._nextFrameIndex=0;a._index=0;a._y45ID=null;a._scale=1;a.initialize=function(){this._frames=[];this._animations={}};a.addFrame=function(b,a,d,e,f,
g){if(this._data)throw c.ERR_RUNNING;a=a||b.y13||b.nominalBounds;!a&&b.getBounds&&(a=b.getBounds());if(!a)return null;d=d||1;return this._frames.push({source:b,sourceRect:a,scale:d,funct:e,params:f,scope:g,index:this._frames.length,height:a.height*d})-1};a.addAnimation=function(b,a,d,e){if(this._data)throw c.ERR_RUNNING;this._animations[b]={frames:a,next:d,frequency:e}};a.addMovieClip=function(b,a,d){if(this._data)throw c.ERR_RUNNING;var e=b.frameBounds,f=a||b.y13||b.nominalBounds;!f&&b.getBounds&&
(f=b.getBounds());if(!f&&!e)return null;a=this._frames.length;for(var g=b.timeline.duration,k=0;k<g;k++)this.addFrame(b,e&&e[k]?e[k]:f,d,function(b){var a=this.actionsEnabled;this.actionsEnabled=!1;this.gotoAndStop(b);this.actionsEnabled=a},[k],b);k=b.timeline._labels;b=[];for(var m in k)b.push({index:k[m],label:m});if(b.length)for(b.sort(function(b,a){return b.index-a.index}),k=0,m=b.length;k<m;k++){d=b[k].label;for(var e=a+(k==m-1?g:b[k+1].index),f=[],n=a+b[k].index;n<e;n++)f.push(n);this.addAnimation(d,
f,!0)}};a.build=function(){if(this._data)throw c.ERR_RUNNING;for(this._startBuild();this._drawNext(););this._endBuild();return this.spriteSheet};a.buildAsync=function(b){if(this._data)throw c.ERR_RUNNING;this.timeSlice=b;this._startBuild();var a=this;this._y45ID=setTimeout(function(){a._run()},50-50*Math.max(0.01,Math.min(0.99,this.timeSlice||0.3)))};a.stopAsync=function(){clearTimeout(this._y45ID);this._data=null};a.clone=function(){throw"SpriteSheetBuilder cannot be cloned.";};a.toString=function(){return"[SpriteSheetBuilder]"};
a._startBuild=function(){var b=this.padding||0;this.progress=0;this.spriteSheet=null;this._index=0;this._scale=this.scale;var a=[];this._data={images:[],frames:a,animations:this._animations};var d=this._frames.slice();d.sort(function(b,a){return b.height<=a.height?-1:1});if(d[d.length-1].height+2*b>this.maxHeight)throw c.ERR_DIMENSIONS;for(var e=0,f=0,g=0;d.length;){var k=this._fillRow(d,e,g,a,b);k.w>f&&(f=k.w);e+=k.h;if(!k.h||!d.length){var m=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");
m.width=this._getSize(f,this.maxWidth);m.height=this._getSize(e,this.maxHeight);this._data.images[g]=m;k.h||(f=e=0,g++)}}};a._getSize=function(b,a){for(var c=4;Math.pow(2,++c)<b;);return Math.min(a,Math.pow(2,c))};a._fillRow=function(b,a,d,e,f){var g=this.maxWidth,k=this.maxHeight;a+=f;for(var k=k-a,m=f,n=0,w=b.length-1;0<=w;w--){var s=b[w],t=this._scale*s.scale,x=s.sourceRect,y=s.source,q=Math.floor(t*x.x-f),A=Math.floor(t*x.y-f),z=Math.ceil(t*x.height+2*f),x=Math.ceil(t*x.width+2*f);if(x>g)throw c.ERR_DIMENSIONS;
z>k||m+x>g||(s.img=d,s.rect=new createjs.Rectangle(m,a,x,z),n=n||z,b.splice(w,1),e[s.index]=[m,a,x,z,d,Math.round(-q+t*y.regX-f),Math.round(-A+t*y.regY-f)],m+=x)}return{w:m,h:n}};a._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data);this._data=null;this.progress=1;this.dispatchEvent("complete")};a._run=function(){for(var b=50*Math.max(0.01,Math.min(0.99,this.timeSlice||0.3)),a=(new Date).getTime()+b,c=!1;a>(new Date).getTime();)if(!this._drawNext()){c=!0;break}if(c)this._endBuild();
else{var e=this;this._y45ID=setTimeout(function(){e._run()},50-b)}b=this.progress=this._index/this._frames.length;this.hasEventListener("progress")&&(a=new createjs.Event("progress"),a.progress=b,this.dispatchEvent(a))};a._drawNext=function(){var b=this._frames[this._index],a=b.scale*this._scale,c=b.rect,e=b.sourceRect,f=this._data.images[b.img].getContext("2d");b.funct&&b.funct.apply(b.scope,b.params);f.save();f.beginPath();f.rect(c.x,c.y,c.width,c.height);f.clip();f.translate(Math.ceil(c.x-e.x*
a),Math.ceil(c.y-e.y*a));f.scale(a,a);b.source.draw(f);f.restore();return++this._index<this._frames.length};createjs.SpriteSheetBuilder=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.DisplayObject;a.htmlElement=null;a._oldMtx=null;a._visible=!1;a.DisplayObject_initialize=a.initialize;a.initialize=function(b){"string"==typeof b&&(b=document.getElementById(b));this.DisplayObject_initialize();this.mouseEnabled=!1;this.htmlElement=b;b=b.style;b.position="absolute";b.transformOrigin=b.WebkitTransformOrigin=b.msTransformOrigin=b.MozTransformOrigin=b.OTransformOrigin="0% 0%"};a.isVisible=function(){return null!=
this.htmlElement};a.draw=function(b,a){this.visible&&(this._visible=!0);return!0};a.cache=function(){};a.uncache=function(){};a.updateCache=function(){};a.hitTest=function(){};a.localToGlobal=function(){};a.globalToLocal=function(){};a.localToLocal=function(){};a.clone=function(){throw"DOMElement cannot be cloned.";};a.toString=function(){return"[DOMElement (name="+this.name+")]"};a.DisplayObject__tick=a._tick;a._tick=function(b){var a=this.getStage();this._visible=!1;a&&a.on("drawend",this._handleDrawEnd,
this,!0);this.DisplayObject__tick(b)};a._handleDrawEnd=function(b){if(b=this.htmlElement){b=b.style;var a=this._visible?"visible":"hidden";a!=b.visibility&&(b.visibility=a);if(this._visible){var a=this.getConcatenatedMatrix(this._matrix),c=this._oldMtx;c&&c.alpha==a.alpha||(b.opacity=""+(1E4*a.alpha|0)/1E4,c&&(c.alpha=a.alpha));if(!c||c.tx!=a.tx||c.ty!=a.ty||c.a!=a.a||c.b!=a.b||c.c!=a.c||c.d!=a.d){var e="matrix("+(1E4*a.a|0)/1E4+","+(1E4*a.b|0)/1E4+","+(1E4*a.c|0)/1E4+","+(1E4*a.d|0)/1E4+","+(a.tx+
0.5|0);b.transform=b.WebkitTransform=b.OTransform=b.msTransform=e+","+(a.ty+0.5|0)+")";b.MozTransform=e+"px,"+(a.ty+0.5|0)+"px)";this._oldMtx=c?c.copy(a):a.clone()}}}};createjs.DOMElement=c})();this.createjs=this.createjs||{};(function(){var c=function(){this.initialize()},a=c.prototype;a.initialize=function(){};a.getBounds=function(){return null};a.applyFilter=function(b,a,c,e,f,g,k,m){};a.toString=function(){return"[Filter]"};a.clone=function(){return new c};createjs.Filter=c})();
this.createjs=this.createjs||{};
(function(){var c=function(b,a,c){this.initialize(b,a,c)},a=c.prototype=new createjs.Filter;a.initialize=function(b,a,c){if(isNaN(b)||0>b)b=0;this.blurX=b|0;if(isNaN(a)||0>a)a=0;this.blurY=a|0;if(isNaN(c)||1>c)c=1;this.quality=c|0};a.blurX=0;a.blurY=0;a.quality=1;a.mul_table=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,
69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,
341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1];a.shg_table=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,
16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,
17,16,17,16,17,9];a.getBounds=function(){var b=0.5*Math.pow(this.quality,0.6);return new createjs.Rectangle(-this.blurX*b,-this.blurY*b,2*this.blurX*b,2*this.blurY*b)};a.applyFilter=function(b,a,c,e,f,g,k,m){g=g||b;null==k&&(k=a);null==m&&(m=c);try{var n=b.getImageData(a,c,e,f)}catch(w){return!1}b=this.blurX/2;if(isNaN(b)||0>b)return!1;b|=0;var s=this.blurY/2;if(isNaN(s)||0>s)return!1;s|=0;if(0==b&&0==s)return!1;var t=this.quality;if(isNaN(t)||1>t)t=1;t|=0;3<t&&(t=3);1>t&&(t=1);var x=n.data,y,q,A,
z,H,E,G,C,K,F,I,N,L=b+b+1;z=s+s+1;var p=e-1,v=f-1,D=b+1,B=s+1,J={r:0,b:0,g:0,a:0,next:null};a=J;for(y=1;y<L;y++)a=a.next={r:0,b:0,g:0,a:0,next:null};a.next=J;c=L={r:0,b:0,g:0,a:0,next:null};for(y=1;y<z;y++)c=c.next={r:0,b:0,g:0,a:0,next:null};c.next=L;for(y=null;0<t--;){H=z=0;var M=this.mul_table[b],O=this.shg_table[b];for(c=f;-1<--c;){E=D*(F=x[z]);G=D*(I=x[z+1]);C=D*(N=x[z+2]);K=D*(A=x[z+3]);a=J;for(y=D;-1<--y;)a.r=F,a.g=I,a.b=N,a.a=A,a=a.next;for(y=1;y<D;y++)q=z+((p<y?p:y)<<2),E+=a.r=x[q],G+=a.g=
x[q+1],C+=a.b=x[q+2],K+=a.a=x[q+3],a=a.next;y=J;for(a=0;a<e;a++)x[z++]=E*M>>>O,x[z++]=G*M>>>O,x[z++]=C*M>>>O,x[z++]=K*M>>>O,q=H+((q=a+b+1)<p?q:p)<<2,E-=y.r-(y.r=x[q]),G-=y.g-(y.g=x[q+1]),C-=y.b-(y.b=x[q+2]),K-=y.a-(y.a=x[q+3]),y=y.next;H+=e}M=this.mul_table[s];O=this.shg_table[s];for(a=0;a<e;a++){z=a<<2;E=B*(F=x[z]);G=B*(I=x[z+1]);C=B*(N=x[z+2]);K=B*(A=x[z+3]);c=L;for(y=0;y<B;y++)c.r=F,c.g=I,c.b=N,c.a=A,c=c.next;A=e;for(y=1;y<=s;y++)z=A+a<<2,E+=c.r=x[z],G+=c.g=x[z+1],C+=c.b=x[z+2],K+=c.a=x[z+3],c=
c.next,y<v&&(A+=e);z=a;y=L;if(0<t)for(c=0;c<f;c++)q=z<<2,x[q+3]=A=K*M>>>O,0<A?(x[q]=E*M>>>O,x[q+1]=G*M>>>O,x[q+2]=C*M>>>O):x[q]=x[q+1]=x[q+2]=0,q=a+((q=c+B)<v?q:v)*e<<2,E-=y.r-(y.r=x[q]),G-=y.g-(y.g=x[q+1]),C-=y.b-(y.b=x[q+2]),K-=y.a-(y.a=x[q+3]),y=y.next,z+=e;else for(c=0;c<f;c++)q=z<<2,x[q+3]=A=K*M>>>O,0<A?(A=255/A,x[q]=(E*M>>>O)*A,x[q+1]=(G*M>>>O)*A,x[q+2]=(C*M>>>O)*A):x[q]=x[q+1]=x[q+2]=0,q=a+((q=c+B)<v?q:v)*e<<2,E-=y.r-(y.r=x[q]),G-=y.g-(y.g=x[q+1]),C-=y.b-(y.b=x[q+2]),K-=y.a-(y.a=x[q+3]),y=
y.next,z+=e}}g.putImageData(n,k,m);return!0};a.clone=function(){return new c(this.blurX,this.blurY,this.quality)};a.toString=function(){return"[BlurFilter]"};createjs.BlurFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.Filter;a.initialize=function(b){this.alphaMap=b};a.alphaMap=null;a._alphaMap=null;a._mapData=null;a.applyFilter=function(b,a,c,e,f,g,k,m){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;g=g||b;null==k&&(k=a);null==m&&(m=c);try{var n=b.getImageData(a,c,e,f)}catch(w){return!1}b=n.data;a=this._mapData;c=b.length;for(e=0;e<c;e+=4)b[e+3]=a[e]||0;n.data=b;g.putImageData(n,k,m);return!0};a.clone=function(){return new c(this.alphaMap)};
a.toString=function(){return"[AlphaMapFilter]"};a._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var b=this._alphaMap=this.alphaMap,a=b;b instanceof HTMLCanvasElement?a=a.getContext("2d"):(a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),a.width=b.width,a.height=b.height,a=a.getContext("2d"),a.drawImage(b,0,0));try{var c=a.getImageData(0,0,b.width,b.height)}catch(e){return!1}this._mapData=
c.data;return!0};createjs.AlphaMapFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.Filter;a.initialize=function(b){this.mask=b};a.mask=null;a.applyFilter=function(b,a,c,e,f,g,k,m){if(!this.mask)return!0;g=g||b;null==k&&(k=a);null==m&&(m=c);g.save();g.globalCompositeOperation="destination-in";g.drawImage(this.mask,k,m);g.restore();return!0};a.clone=function(){return new c(this.mask)};a.toString=function(){return"[AlphaMaskFilter]"};createjs.AlphaMaskFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,c,e,f,g,k,m){this.initialize(b,a,c,e,f,g,k,m)},a=c.prototype=new createjs.Filter;a.redMultiplier=1;a.greenMultiplier=1;a.blueMultiplier=1;a.alphaMultiplier=1;a.redOffset=0;a.greenOffset=0;a.blueOffset=0;a.alphaOffset=0;a.initialize=function(b,a,c,e,f,g,k,m){this.redMultiplier=null!=b?b:1;this.greenMultiplier=null!=a?a:1;this.blueMultiplier=null!=c?c:1;this.alphaMultiplier=null!=e?e:1;this.redOffset=f||0;this.greenOffset=g||0;this.blueOffset=k||0;this.alphaOffset=m||
0};a.applyFilter=function(b,a,c,e,f,g,k,m){g=g||b;null==k&&(k=a);null==m&&(m=c);try{var n=b.getImageData(a,c,e,f)}catch(w){return!1}b=n.data;a=b.length;for(c=0;c<a;c+=4)b[c]=b[c]*this.redMultiplier+this.redOffset,b[c+1]=b[c+1]*this.greenMultiplier+this.greenOffset,b[c+2]=b[c+2]*this.blueMultiplier+this.blueOffset,b[c+3]=b[c+3]*this.alphaMultiplier+this.alphaOffset;g.putImageData(n,k,m);return!0};a.toString=function(){return"[ColorFilter]"};a.clone=function(){return new c(this.redMultiplier,this.greenMultiplier,
this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)};createjs.ColorFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,c,e){this.initialize(b,a,c,e)},a=c.prototype=[];c.DELTA_INDEX=[0,0.01,0.02,0.04,0.05,0.06,0.07,0.08,0.1,0.11,0.12,0.14,0.15,0.16,0.17,0.18,0.2,0.21,0.22,0.24,0.25,0.27,0.28,0.3,0.32,0.34,0.36,0.38,0.4,0.42,0.44,0.46,0.48,0.5,0.53,0.56,0.59,0.62,0.65,0.68,0.71,0.74,0.77,0.8,0.83,0.86,0.89,0.92,0.95,0.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,
7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];c.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1];c.LENGTH=c.IDENTITY_MATRIX.length;a.initialize=function(b,a,c,e){this.reset();this.adjustColor(b,a,c,e);return this};a.reset=function(){return this.copyMatrix(c.IDENTITY_MATRIX)};a.adjustColor=function(b,a,c,e){this.adjustHue(e);this.adjustContrast(a);this.adjustBrightness(b);return this.adjustSaturation(c)};a.adjustBrightness=function(b){if(0==b||isNaN(b))return this;b=this._cleanValue(b,255);
this._multiplyMatrix([1,0,0,0,b,0,1,0,0,b,0,0,1,0,b,0,0,0,1,0,0,0,0,0,1]);return this};a.adjustContrast=function(b){if(0==b||isNaN(b))return this;b=this._cleanValue(b,100);var a;0>b?a=127+127*(b/100):(a=b%1,a=0==a?c.DELTA_INDEX[b]:c.DELTA_INDEX[b<<0]*(1-a)+c.DELTA_INDEX[(b<<0)+1]*a,a=127*a+127);this._multiplyMatrix([a/127,0,0,0,0.5*(127-a),0,a/127,0,0,0.5*(127-a),0,0,a/127,0,0.5*(127-a),0,0,0,1,0,0,0,0,0,1]);return this};a.adjustSaturation=function(b){if(0==b||isNaN(b))return this;b=this._cleanValue(b,
100);b=1+(0<b?3*b/100:b/100);this._multiplyMatrix([0.3086*(1-b)+b,0.6094*(1-b),0.082*(1-b),0,0,0.3086*(1-b),0.6094*(1-b)+b,0.082*(1-b),0,0,0.3086*(1-b),0.6094*(1-b),0.082*(1-b)+b,0,0,0,0,0,1,0,0,0,0,0,1]);return this};a.adjustHue=function(b){if(0==b||isNaN(b))return this;b=this._cleanValue(b,180)/180*Math.PI;var a=Math.cos(b);b=Math.sin(b);this._multiplyMatrix([0.213+0.787*a+-0.213*b,0.715+-0.715*a+-0.715*b,0.072+-0.072*a+0.928*b,0,0,0.213+-0.213*a+0.143*b,0.715+a*(1-0.715)+0.14*b,0.072+-0.072*a+
-0.283*b,0,0,0.213+-0.213*a+-0.787*b,0.715+-0.715*a+0.715*b,0.072+0.928*a+0.072*b,0,0,0,0,0,1,0,0,0,0,0,1]);return this};a.concat=function(b){b=this._fixMatrix(b);if(b.length!=c.LENGTH)return this;this._multiplyMatrix(b);return this};a.clone=function(){return new c(this)};a.toArray=function(){return this.slice(0,c.LENGTH)};a.copyMatrix=function(b){for(var a=c.LENGTH,d=0;d<a;d++)this[d]=b[d];return this};a._multiplyMatrix=function(b){for(var a=[],c=0;5>c;c++){for(var e=0;5>e;e++)a[e]=this[e+5*c];for(e=
0;5>e;e++){for(var f=0,g=0;5>g;g++)f+=b[e+5*g]*a[g];this[e+5*c]=f}}};a._cleanValue=function(b,a){return Math.min(a,Math.max(-a,b))};a._fixMatrix=function(b){b instanceof c&&(b=b.slice(0));b.length<c.LENGTH?b=b.slice(0,b.length).concat(c.IDENTITY_MATRIX.slice(b.length,c.LENGTH)):b.length>c.LENGTH&&(b=b.slice(0,c.LENGTH));return b};createjs.ColorMatrix=c})();this.createjs=this.createjs||{};
(function(){var c=function(b){this.initialize(b)},a=c.prototype=new createjs.Filter;a.matrix=null;a.initialize=function(b){this.matrix=b};a.applyFilter=function(b,a,c,e,f,g,k,m){g=g||b;null==k&&(k=a);null==m&&(m=c);try{var n=b.getImageData(a,c,e,f)}catch(w){return!1}b=n.data;a=b.length;var s,t,x,y;s=this.matrix;c=s[0];e=s[1];f=s[2];for(var q=s[3],A=s[4],z=s[5],H=s[6],E=s[7],G=s[8],C=s[9],K=s[10],F=s[11],I=s[12],N=s[13],L=s[14],p=s[15],v=s[16],D=s[17],B=s[18],J=s[19],M=0;M<a;M+=4)s=b[M],t=b[M+1],x=
b[M+2],y=b[M+3],b[M]=s*c+t*e+x*f+y*q+A,b[M+1]=s*z+t*H+x*E+y*G+C,b[M+2]=s*K+t*F+x*I+y*N+L,b[M+3]=s*p+t*v+x*D+y*B+J;g.putImageData(n,k,m);return!0};a.toString=function(){return"[ColorMatrixFilter]"};a.clone=function(){return new c(this.matrix)};createjs.ColorMatrixFilter=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"Touch cannot be instantiated";};c.isSupported=function(){return"ontouchstart"in window||window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints};c.enable=function(a,b,h){if(!a||!a.canvas||!c.isSupported())return!1;a.__touch={pointers:{},multitouch:!b,preventDefault:!h,count:0};"ontouchstart"in window?c._IOS_enable(a):window.navigator.msPointerEnabled&&c._IE_enable(a);return!0};c.disable=function(a){a&&("ontouchstart"in window?c._IOS_disable(a):window.navigator.msPointerEnabled&&
c._IE_disable(a))};c._IOS_enable=function(a){var b=a.canvas,h=a.__touch.f=function(b){c._IOS_handleEvent(a,b)};b.addEventListener("touchstart",h,!1);b.addEventListener("touchmove",h,!1);b.addEventListener("touchend",h,!1);b.addEventListener("touchcancel",h,!1)};c._IOS_disable=function(a){var b=a.canvas;b&&(a=a.__touch.f,b.removeEventListener("touchstart",a,!1),b.removeEventListener("touchmove",a,!1),b.removeEventListener("touchend",a,!1),b.removeEventListener("touchcancel",a,!1))};c._IOS_handleEvent=
function(a,b){if(a){a.__touch.preventDefault&&b.preventDefault&&b.preventDefault();for(var c=b.changedTouches,d=b.type,e=0,f=c.length;e<f;e++){var g=c[e],k=g.identifier;g.target==a.canvas&&("touchstart"==d?this._handleStart(a,k,b,g.pageX,g.pageY):"touchmove"==d?this._handleMove(a,k,b,g.pageX,g.pageY):"touchend"!=d&&"touchcancel"!=d||this._handleEnd(a,k,b))}}};c._IE_enable=function(a){var b=a.canvas,h=a.__touch.f=function(b){c._IE_handleEvent(a,b)};b.addEventListener("MSPointerDown",h,!1);window.addEventListener("MSPointerMove",
h,!1);window.addEventListener("MSPointerUp",h,!1);window.addEventListener("MSPointerCancel",h,!1);a.__touch.preventDefault&&(b.style.msTouchAction="none");a.__touch.activeIDs={}};c._IE_disable=function(a){var b=a.__touch.f;window.removeEventListener("MSPointerMove",b,!1);window.removeEventListener("MSPointerUp",b,!1);window.removeEventListener("MSPointerCancel",b,!1);a.canvas&&a.canvas.removeEventListener("MSPointerDown",b,!1)};c._IE_handleEvent=function(a,b){if(a){a.__touch.preventDefault&&b.preventDefault&&
b.preventDefault();var c=b.type,d=b.pointerId,e=a.__touch.activeIDs;if("MSPointerDown"==c)b.srcElement==a.canvas&&(e[d]=!0,this._handleStart(a,d,b,b.pageX,b.pageY));else if(e[d])if("MSPointerMove"==c)this._handleMove(a,d,b,b.pageX,b.pageY);else if("MSPointerUp"==c||"MSPointerCancel"==c)delete e[d],this._handleEnd(a,d,b)}};c._handleStart=function(a,b,c,d,e){var f=a.__touch;if(f.multitouch||!f.count){var g=f.pointers;g[b]||(g[b]=!0,f.count++,a._handlePointerDown(b,c,d,e))}};c._handleMove=function(a,
b,c,d,e){a.__touch.pointers[b]&&a._handlePointerMove(b,c,d,e)};c._handleEnd=function(a,b,c){var d=a.__touch,e=d.pointers;e[b]&&(d.count--,a._handlePointerUp(b,c,!0),delete e[b])};createjs.Touch=c})();this.createjs=this.createjs||{};(function(){var c=createjs.EaselJS=createjs.EaselJS||{};c.version="NEXT";c.buildDate="Sun, 06 Oct 2013 10:56:52 GMT"})();
(function(){var c=createjs.Stage.prototype._handlePointerDown,a=createjs.Stage.prototype._handlePointerUp,b=!1;-1<navigator.userAgent.indexOf("Android")&&(createjs.Stage.prototype._handlePointerDown=function(a,d,e,f){d.touches&&(b=!0,this.enableDOMEvents(!1));b?d.touches&&"undefined"!=typeof d.touches[0].pageX&&(d.screenX=d.touches[0].pageX,d.screenY=d.touches[0].pageY,c.call(this,a,d,e,f)):(d.screenX=d.x,d.screenY=d.y,c.call(this,a,d,e,f))},createjs.Stage.prototype._handlePointerUp=function(c,d,
e){d.changedTouches&&(b=!0);b?d.changedTouches&&"undefined"!=typeof d.changedTouches[0].pageX&&(d.screenX=d.changedTouches[0].pageX,d.screenY=d.changedTouches[0].pageY,a.call(this,c,d,e)):(d.screenX=d.x,d.screenY=d.y,a.call(this,c,d,e))})})();this.createjs=this.createjs||{};(function(){var c=createjs.PreloadJS=createjs.PreloadJS||{};c.version="0.4.0";c.buildDate="Wed, 25 Sep 2013 17:09:35 GMT"})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,c){this.initialize(b,a,c)},a=c.prototype;a.type=null;a.target=null;a.currentTarget=null;a.eventPhase=0;a.bubbles=!1;a.cancelable=!1;a.timeStamp=0;a.defaultPrevented=!1;a.propagationStopped=!1;a.immediatePropagationStopped=!1;a.removed=!1;a.initialize=function(b,a,c){this.type=b;this.bubbles=a;this.cancelable=c;this.timeStamp=(new Date).getTime()};a.preventDefault=function(){this.defaultPrevented=!0};a.stopPropagation=function(){this.propagationStopped=!0};a.stopImmediatePropagation=
function(){this.immediatePropagationStopped=this.propagationStopped=!0};a.remove=function(){this.removed=!0};a.clone=function(){return new c(this.type,this.bubbles,this.cancelable)};a.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=c})();this.createjs=this.createjs||{};
(function(){var c=function(){},a=c.prototype;c.initialize=function(b){b.addEventListener=a.addEventListener;b.on=a.on;b.removeEventListener=b.off=a.removeEventListener;b.removeAllEventListeners=a.removeAllEventListeners;b.hasEventListener=a.hasEventListener;b.dispatchEvent=a.dispatchEvent;b._dispatchEvent=a._dispatchEvent};a._listeners=null;a._captureListeners=null;a.initialize=function(){};a.addEventListener=function(b,a,c){var e;e=c?this._captureListeners=this._captureListeners||{}:this._listeners=
this._listeners||{};var f=e[b];return f&&this.removeEventListener(b,a,c),f=e[b],f?f.push(a):e[b]=[a],a};a.on=function(b,a,c,e,f,g){return a.handleEvent&&(c=c||a,a=a.handleEvent),c=c||this,this.addEventListener(b,function(b){a.call(c,b,f);e&&b.remove()},g)};a.removeEventListener=function(b,a,c){if(c=c?this._captureListeners:this._listeners){var e=c[b];if(e)for(var f=0,g=e.length;g>f;f++)if(e[f]==a){1==g?delete c[b]:e.splice(f,1);break}}};a.off=a.removeEventListener;a.removeAllEventListeners=function(b){b?
(this._listeners&&delete this._listeners[b],this._captureListeners&&delete this._captureListeners[b]):this._listeners=this._captureListeners=null};a.dispatchEvent=function(b,a){if("string"==typeof b){var c=this._listeners;if(!c||!c[b])return!1;b=new createjs.Event(b)}if(b.target=a||this,b.bubbles&&this.parent){for(var e=this,c=[e];e.parent;)c.push(e=e.parent);for(var f=c.length,e=f-1;0<=e&&!b.propagationStopped;e--)c[e]._dispatchEvent(b,1+(0==e));for(e=1;f>e&&!b.propagationStopped;e++)c[e]._dispatchEvent(b,
3)}else this._dispatchEvent(b,2);return b.defaultPrevented};a.hasEventListener=function(b){var a=this._listeners,c=this._captureListeners;return!!(a&&a[b]||c&&c[b])};a.toString=function(){return"[EventDispatcher]"};a._dispatchEvent=function(b,a){var c,e=1==a?this._captureListeners:this._listeners;if(b&&e&&(e=e[b.type])&&(c=e.length)){b.currentTarget=this;b.eventPhase=a;b.removed=!1;for(var e=e.slice(),f=0;c>f&&!b.immediatePropagationStopped;f++){var g=e[f];g.handleEvent?g.handleEvent(b):g(b);b.removed&&
(this.off(b.type,g,1==a),b.removed=!1)}}};createjs.EventDispatcher=c})();this.createjs=this.createjs||{};(function(){createjs.indexOf=function(c,a){for(var b=0,h=c.length;h>b;b++)if(a===c[b])return b;return-1}})();this.createjs=this.createjs||{};(function(){createjs.proxy=function(c,a){var b=Array.prototype.slice.call(arguments,2);return function(){return c.apply(a,Array.prototype.slice.call(arguments,0).concat(b))}}})();this.createjs=this.createjs||{};
(function(){var c=function(){this.init()};c.prototype={};var a=c.prototype;c.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/;a.loaded=!1;a.canceled=!1;a.progress=0;a._item=null;a._basePath=null;a.addEventListener=null;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a.getItem=function(){return this._item};a.init=function(){};a.load=
function(){};a.close=function(){};a._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")};a._sendProgress=function(b){if(!this._isCanceled()){var a=null;"number"==typeof b?(this.progress=b,a=new createjs.Event("progress"),a.loaded=this.progress,a.total=1):(a=b,this.progress=b.loaded/b.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0));a.progress=this.progress;this.hasEventListener("progress")&&this.dispatchEvent(a)}};a._sendComplete=function(){this._isCanceled()||
this.dispatchEvent("complete")};a._sendError=function(b){!this._isCanceled()&&this.hasEventListener("error")&&(null==b&&(b=new createjs.Event("error")),this.dispatchEvent(b))};a._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1};a._parseURI=function(b){return b?b.match(c.FILE_PATTERN):null};a._formatQueryString=function(b,a){if(null==b)throw Error("You must specify data.");var c=[],e;for(e in b)c.push(e+"="+escape(b[e]));return a&&(c=c.concat(a)),c.join("&")};a.buildPath=function(b,
a,c){if(null!=a){var e=this._parseURI(b);null!=e&&null!=e[1]&&""!=e[1]||(b=a+b)}if(null==c)return b;a=[];e=b.indexOf("?");if(-1!=e){var f=b.slice(e+1);a=a.concat(f.split("&"))}return-1!=e?b.slice(0,e)+"?"+this._formatQueryString(c,a):b+"?"+this._formatQueryString(c,a)};a.toString=function(){return"[PreloadJS AbstractLoader]"};createjs.AbstractLoader=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a){this.init(b,a)},a=c.prototype=new createjs.AbstractLoader;c.LOAD_TIMEOUT=8E3;c.BINARY="binary";c.CSS="css";c.IMAGE="image";c.JAVASCRIPT="javascript";c.JSON="json";c.JSONP="jsonp";c.SOUND="sound";c.SVG="svg";c.TEXT="text";c.XML="xml";c.POST="POST";c.GET="GET";a.useXHR=!0;a.stopOnError=!1;a.maintainScriptOrder=!0;a.next=null;a._typeCallbacks=null;a._extensionCallbacks=null;a._loadStartWasDispatched=!1;a._maxConnections=1;a._currentlyLoadingScript=null;a._currentLoads=
null;a._loadQueue=null;a._loadQueueBackup=null;a._loadItemsById=null;a._loadItemsBySrc=null;a._loadedResults=null;a._loadedRawResults=null;a._numItems=0;a._numItemsLoaded=0;a._scriptOrder=null;a._loadedScripts=null;a.init=function(b,a){this._numItems=this._numItemsLoaded=0;this._loadStartWasDispatched=this._paused=!1;this._currentLoads=[];this._loadQueue=[];this._loadQueueBackup=[];this._scriptOrder=[];this._loadedScripts=[];this._loadItemsById={};this._loadItemsBySrc={};this._loadedResults={};this._loadedRawResults=
{};this._typeCallbacks={};this._extensionCallbacks={};this._basePath=a;this.setUseXHR(b)};a.setUseXHR=function(b){return this.useXHR=0!=b&&null!=window.XMLHttpRequest,this.useXHR};a.removeAll=function(){this.remove()};a.remove=function(b){var a=null;if(!b||b instanceof Array)if(b)a=b;else{if(0<arguments.length)return}else a=[b];var c=!1;if(a){for(;a.length;){for(var f=a.pop(),g=this.getResult(f),k=this._loadQueue.length-1;0<=k;k--)if(m=this._loadQueue[k].getItem(),m.id==f||m.src==f){this._loadQueue.splice(k,
1)[0].cancel();break}for(k=this._loadQueueBackup.length-1;0<=k;k--)if(m=this._loadQueueBackup[k].getItem(),m.id==f||m.src==f){this._loadQueueBackup.splice(k,1)[0].cancel();break}if(g)delete this._loadItemsById[g.id],delete this._loadItemsBySrc[g.src],this._disposeItem(g);else for(var k=this._currentLoads.length-1;0<=k;k--){var m=this._currentLoads[k].getItem();if(m.id==f||m.src==f){this._currentLoads.splice(k,1)[0].cancel();c=!0;break}}}c&&this._loadNext()}else{this.close();for(f in this._loadItemsById)this._disposeItem(this._loadItemsById[f]);
this.init(this.useXHR)}};a.reset=function(){this.close();for(var b in this._loadItemsById)this._disposeItem(this._loadItemsById[b]);b=[];i=0;for(l=this._loadQueueBackup.length;l>i;i++)b.push(this._loadQueueBackup[i].getItem());this.loadManifest(b,!1)};c.isBinary=function(b){switch(b){case createjs.LoadQueue.IMAGE:case createjs.LoadQueue.BINARY:return!0;default:return!1}};a.installPlugin=function(b){if(null!=b&&null!=b.getPreloadHandlers){b=b.getPreloadHandlers();if(null!=b.types)for(var a=0,c=b.types.length;c>
a;a++)this._typeCallbacks[b.types[a]]=b.callback;if(null!=b.extensions)for(a=0,c=b.extensions.length;c>a;a++)this._extensionCallbacks[b.extensions[a]]=b.callback}};a.setMaxConnections=function(b){this._maxConnections=b;!this._paused&&0<this._loadQueue.length&&this._loadNext()};a.loadFile=function(b,a,c){if(null==b)return b=new createjs.Event("error"),b.text="PRELOAD_NO_FILE",this._sendError(b),void 0;this._addItem(b,c);!1!==a?this.setPaused(!1):this.setPaused(!0)};a.loadManifest=function(b,a,c){var f=
null;if(b instanceof Array){if(0==b.length)return a=new createjs.Event("error"),a.text="PRELOAD_MANIFEST_EMPTY",this._sendError(a),void 0;f=b}else{if(null==b)return a=new createjs.Event("error"),a.text="PRELOAD_MANIFEST_NULL",this._sendError(a),void 0;f=[b]}b=0;for(var g=f.length;g>b;b++)this._addItem(f[b],c);!1!==a?this.setPaused(!1):this.setPaused(!0)};a.load=function(){this.setPaused(!1)};a.getItem=function(b){return this._loadItemsById[b]||this._loadItemsBySrc[b]};a.getResult=function(b,a){var c=
this._loadItemsById[b]||this._loadItemsBySrc[b];if(null==c)return null;c=c.id;return a&&this._loadedRawResults[c]?this._loadedRawResults[c]:this._loadedResults[c]};a.setPaused=function(b){(this._paused=b)||this._loadNext()};a.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0;this._loadedScripts.length=0;this.loadStartWasDispatched=!1};a._addItem=function(b,a){var c=this._createLoadItem(b);if(null!=c){var f=this._createLoader(c,a);null!=f&&
(this._loadQueue.push(f),this._loadQueueBackup.push(f),this._numItems++,this._updateProgress(),this.maintainScriptOrder&&c.type==createjs.LoadQueue.JAVASCRIPT&&f instanceof createjs.XHRLoader&&(this._scriptOrder.push(c),this._loadedScripts.push(null)))}};a._createLoadItem=function(b){var a=null;switch(typeof b){case "string":a={src:b};break;case "object":a=window.HTMLAudioElement&&b instanceof HTMLAudioElement?{tag:b,src:a.tag.src,type:createjs.LoadQueue.SOUND}:b;break;default:return null}b=this._parseURI(a.src);
if(null!=b&&(a.ext=b[5]),null==a.type&&(a.type=this._getTypeByExtension(a.ext)),a.type==createjs.LoadQueue.JSON&&null!=a.callback&&(a.type=createjs.LoadQueue.JSONP),a.type==createjs.LoadQueue.JSONP&&null==a.callback)throw Error("callback is required for loading JSONP requests.");null==a.tag&&(a.tag=this._createTag(a.type));null!=a.id&&""!=a.id||(a.id=a.src);if(b=this._typeCallbacks[a.type]||this._extensionCallbacks[a.ext]){b=b(a.src,a.type,a.id,a.data);if(!1===b)return null;!0===b||(null!=b.src&&
(a.src=b.src),null!=b.id&&(a.id=b.id),null!=b.tag&&b.tag.load instanceof Function&&(a.tag=b.tag),null!=b.completeHandler&&(a.completeHandler=b.completeHandler));b.type&&(a.type=b.type);b=this._parseURI(a.src);null!=b&&null!=b[5]&&(a.ext=b[5].toLowerCase())}return this._loadItemsById[a.id]=a,this._loadItemsBySrc[a.src]=a,a};a._createLoader=function(b,a){var c=this.useXHR;switch(b.type){case createjs.LoadQueue.JSON:case createjs.LoadQueue.XML:case createjs.LoadQueue.TEXT:c=!0;break;case createjs.LoadQueue.SOUND:case createjs.LoadQueue.JSONP:c=
!1;break;case null:return null}return null==a&&(a=this._basePath),c?new createjs.XHRLoader(b,a):new createjs.TagLoader(b,a)};a._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0);this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var b=0;b<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);b++){var a=this._loadQueue[b];
if(this.maintainScriptOrder&&a instanceof createjs.TagLoader&&a.getItem().type==createjs.LoadQueue.JAVASCRIPT){if(this._currentlyLoadingScript)continue;this._currentlyLoadingScript=!0}this._loadQueue.splice(b,1);b--;this._loadItem(a)}}};a._loadItem=function(b){b.addEventListener("progress",createjs.proxy(this._handleProgress,this));b.addEventListener("complete",createjs.proxy(this._handleFileComplete,this));b.addEventListener("error",createjs.proxy(this._handleFileError,this));this._currentLoads.push(b);
this._sendFileStart(b.getItem());b.load()};a._handleFileError=function(b){var a=b.target;this._numItemsLoaded++;this._updateProgress();b=new createjs.Event("error");b.text="FILE_LOAD_ERROR";b.item=a.getItem();this._sendError(b);this.stopOnError||(this._removeLoadItem(a),this._loadNext())};a._handleFileComplete=function(b){b=b.target;var a=b.getItem();if(this._loadedResults[a.id]=b.getResult(),b instanceof createjs.XHRLoader&&(this._loadedRawResults[a.id]=b.getResult(!0)),this._removeLoadItem(b),this.maintainScriptOrder&&
a.type==createjs.LoadQueue.JAVASCRIPT){if(!(b instanceof createjs.TagLoader))return this._loadedScripts[createjs.indexOf(this._scriptOrder,a)]=a,this._checkScriptLoadOrder(b),void 0;this._currentlyLoadingScript=!1}this._processFinishedLoad(a,b)};a._processFinishedLoad=function(b,a){this._numItemsLoaded++;this._updateProgress();this._sendFileComplete(b,a);this._loadNext()};a._checkScriptLoadOrder=function(){for(var b=this._loadedScripts.length,a=0;b>a;a++){var c=this._loadedScripts[a];if(null===c)break;
!0!==c&&(this._processFinishedLoad(c),this._loadedScripts[a]=!0,a--,b--)}};a._removeLoadItem=function(b){for(var a=this._currentLoads.length,c=0;a>c;c++)if(this._currentLoads[c]==b){this._currentLoads.splice(c,1);break}};a._handleProgress=function(b){b=b.target;this._sendFileProgress(b.getItem(),b.progress);this._updateProgress()};a._updateProgress=function(){var b=this._numItemsLoaded/this._numItems,a=this._numItems-this._numItemsLoaded;if(0<a){for(var c=0,f=0,g=this._currentLoads.length;g>f;f++)c+=
this._currentLoads[f].progress;b+=c/a*(a/this._numItems)}this._sendProgress(b)};a._disposeItem=function(b){delete this._loadedResults[b.id];delete this._loadedRawResults[b.id];delete this._loadItemsById[b.id];delete this._loadItemsBySrc[b.src]};a._createTag=function(b){var a=null;switch(b){case createjs.LoadQueue.IMAGE:return document.createElement("img");case createjs.LoadQueue.SOUND:return a=document.createElement("audio"),a.autoplay=!1,a;case createjs.LoadQueue.JSONP:case createjs.LoadQueue.JAVASCRIPT:return a=
document.createElement("script"),a.type="text/javascript",a;case createjs.LoadQueue.CSS:return a=this.useXHR?document.createElement("style"):document.createElement("link"),a.rel="stylesheet",a.type="text/css",a;case createjs.LoadQueue.SVG:return this.useXHR?a=document.createElement("svg"):(a=document.createElement("object"),a.type="image/svg+xml"),a}return null};a._getTypeByExtension=function(b){if(null==b)return createjs.LoadQueue.TEXT;switch(b.toLowerCase()){case "jpeg":case "jpg":case "gif":case "png":case "webp":case "bmp":return createjs.LoadQueue.IMAGE;
case "ogg":case "mp3":case "wav":return createjs.LoadQueue.SOUND;case "json":return createjs.LoadQueue.JSON;case "xml":return createjs.LoadQueue.XML;case "css":return createjs.LoadQueue.CSS;case "js":return createjs.LoadQueue.JAVASCRIPT;case "svg":return createjs.LoadQueue.SVG;default:return createjs.LoadQueue.TEXT}};a._sendFileProgress=function(b,a){if(this._isCanceled())return this._cleanUp(),void 0;if(this.hasEventListener("fileprogress")){var c=new createjs.Event("fileprogress");c.progress=a;
c.loaded=a;c.total=1;c.item=b;this.dispatchEvent(c)}};a._sendFileComplete=function(b,a){if(!this._isCanceled()){var c=new createjs.Event("fileload");c.loader=a;c.item=b;c.result=this._loadedResults[b.id];c.rawResult=this._loadedRawResults[b.id];b.completeHandler&&b.completeHandler(c);this.hasEventListener("fileload")&&this.dispatchEvent(c)}};a._sendFileStart=function(b){var a=new createjs.Event("y54tart");a.item=b;this.hasEventListener("y54tart")&&this.dispatchEvent(a)};a.toString=function(){return"[PreloadJS LoadQueue]"};
createjs.LoadQueue=c;var b=function(){};b.init=function(){var a=navigator.userAgent;b.isFirefox=-1<a.indexOf("Firefox");b.isOpera=null!=window.opera;b.isChrome=-1<a.indexOf("Chrome");b.isIOS=-1<a.indexOf("iPod")||-1<a.indexOf("iPhone")||-1<a.indexOf("iPad")};b.init();createjs.LoadQueue.BrowserDetect=b})();this.createjs=this.createjs||{};
(function(){var c=function(b,a){this.init(b,a)},a=c.prototype=new createjs.AbstractLoader;a._loadTimeout=null;a._tagCompleteProxy=null;a._isAudio=!1;a._tag=null;a._jsonResult=null;a.init=function(b,a){this._item=b;this._basePath=a;this._tag=b.tag;this._isAudio=window.HTMLAudioElement&&b.tag instanceof HTMLAudioElement;this._tagCompleteProxy=createjs.proxy(this._handleLoad,this)};a.getResult=function(){return this._item.type==createjs.LoadQueue.JSONP?this._jsonResult:this._tag};a.cancel=function(){this.canceled=
!0;this._clean();this.getItem()};a.load=function(){var b=this._item,a=this._tag;clearTimeout(this._loadTimeout);this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),createjs.LoadQueue.LOAD_TIMEOUT);this._isAudio&&(a.src=null,a.y373="auto");a.onerror=createjs.proxy(this._handleError,this);this._isAudio?(a.onstalled=createjs.proxy(this._handleStalled,this),a.addEventListener("canplaythrough",this._tagCompleteProxy,!1)):(a.onload=createjs.proxy(this._handleLoad,this),a.onreadyy3change=
createjs.proxy(this._handleReadyStateChange,this));var c=this.buildPath(b.src,this._basePath,b.values);switch(b.type){case createjs.LoadQueue.CSS:a.href=c;break;case createjs.LoadQueue.SVG:a.data=c;break;default:a.src=c}if(b.type==createjs.LoadQueue.JSONP){if(null==b.callback)throw Error("callback is required for loading JSONP requests.");if(null!=window[b.callback])throw Error('JSONP callback "'+b.callback+'" already exists on window. You need to specify a different callback. Or re-name the current one.');
window[b.callback]=createjs.proxy(this._handleJSONPLoad,this)}b.type!=createjs.LoadQueue.SVG&&b.type!=createjs.LoadQueue.JSONP&&b.type!=createjs.LoadQueue.JSON&&b.type!=createjs.LoadQueue.JAVASCRIPT&&b.type!=createjs.LoadQueue.CSS||(this._startTagVisibility=a.style.visibility,a.style.visibility="hidden",(document.body||document.getElementsByTagName("body")[0]).appendChild(a));null!=a.load&&a.load()};a._handleJSONPLoad=function(b){this._jsonResult=b};a._handleTimeout=function(){this._clean();var b=
new createjs.Event("error");b.text="PRELOAD_TIMEOUT";this._sendError(b)};a._handleStalled=function(){};a._handleError=function(){this._clean();var b=new createjs.Event("error");this._sendError(b)};a._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var b=this.getItem().tag;"loaded"!=b.readyState&&"complete"!=b.readyState||this._handleLoad()};a._handleLoad=function(){if(!this._isCanceled()){var b=this.getItem(),a=b.tag;if(!(this.loaded||this.isAudio&&4!==a.readyState)){switch(this.loaded=
!0,b.type){case createjs.LoadQueue.SVG:case createjs.LoadQueue.JSONP:a.style.visibility=this._startTagVisibility,(document.body||document.getElementsByTagName("body")[0]).removeChild(a)}this._clean();this._sendComplete()}}};a._clean=function(){clearTimeout(this._loadTimeout);var b=this.getItem().tag;b.onload=null;b.removeEventListener&&b.removeEventListener("canplaythrough",this._tagCompleteProxy,!1);b.onstalled=null;b.onprogress=null;b.onerror=null;b.parentNode&&b.parentNode.removeChild(b);b=this.getItem();
b.type==createjs.LoadQueue.JSONP&&(window[b.callback]=null)};a.toString=function(){return"[PreloadJS TagLoader]"};createjs.TagLoader=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a){this.init(b,a)},a=c.prototype=new createjs.AbstractLoader;a._request=null;a._loadTimeout=null;a._xhrLevel=1;a._response=null;a._rawResponse=null;a.init=function(b,a){this._item=b;this._basePath=a;!this._createXHR(b)};a.getResult=function(b){return b&&this._rawResponse?this._rawResponse:this._response};a.cancel=function(){this.canceled=!0;this._clean();this._request.abort()};a.load=function(){if(null==this._request)return this._handleError(),void 0;this._request.onloadstart=
createjs.proxy(this._handleLoadStart,this);this._request.onprogress=createjs.proxy(this._handleProgress,this);this._request.onabort=createjs.proxy(this._handleAbort,this);this._request.onerror=createjs.proxy(this._handleError,this);this._request.ontimeout=createjs.proxy(this._handleTimeout,this);1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),createjs.LoadQueue.LOAD_TIMEOUT));this._request.onload=createjs.proxy(this._handleLoad,this);this._request.onreadyy3change=
createjs.proxy(this._handleReadyStateChange,this);try{this._item.values&&this._item.method!=createjs.LoadQueue.GET?this._item.method==createjs.LoadQueue.POST&&this._request.send(this._formatQueryString(this._item.values)):this._request.send()}catch(b){var a=new createjs.Event("error");a.error=b;this._sendError(a)}};a.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null};a.getResponseHeader=function(b){return this._request.getResponseHeader instanceof
Function?this._request.getResponseHeader(b):null};a._handleProgress=function(b){if(b&&!(0<b.loaded&&0==b.total)){var a=new createjs.Event("progress");a.loaded=b.loaded;a.total=b.total;this._sendProgress(a)}};a._handleLoadStart=function(){clearTimeout(this._loadTimeout);this._sendLoadStart()};a._handleAbort=function(b){this._clean();b=new createjs.Event("error");b.text="XHR_ABORTED";this._sendError(b)};a._handleError=function(){this._clean();var b=new createjs.Event("error");this._sendError(b)};a._handleReadyStateChange=
function(){4==this._request.readyState&&this._handleLoad()};a._handleLoad=function(){if(!this.loaded){if(this.loaded=!0,!this._checkError())return this._handleError(),void 0;this._response=this._getResponse();this._clean();this._generateTag()&&this._sendComplete()}};a._handleTimeout=function(b){this._clean();(new createjs.Event("error")).text="PRELOAD_TIMEOUT";this._sendError(b)};a._checkError=function(){switch(parseInt(this._request.status)){case 404:case 0:return!1}return!0};a._getResponse=function(){if(null!=
this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(b){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(a){}return null};a._createXHR=function(b){var a=document.createElement("a");a.href=this.buildPath(b.src,this._basePath);var c=document.createElement("a");c.href=location.href;a=""!=a.hostname&&(a.port!=c.port||a.protocol!=c.protocol||a.hostname!=
c.hostname);c=null;if(a&&window.XDomainRequest)c=new XDomainRequest;else if(window.XMLHttpRequest)c=new XMLHttpRequest;else try{c=new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){try{c=new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(f){try{c=new ActiveXObject("Msxml2.XMLHTTP")}catch(g){return!1}}}b.type==createjs.LoadQueue.TEXT&&c.overrideMimeType&&c.overrideMimeType("text/plain; charset=x-user-defined");this._xhrLevel="string"==typeof c.responseType?2:1;var k=null;return k=b.method==createjs.LoadQueue.GET?
this.buildPath(b.src,this._basePath,b.values):this.buildPath(b.src,this._basePath),c.open(b.method||createjs.LoadQueue.GET,k,!0),a&&c instanceof XMLHttpRequest&&1==this._xhrLevel&&c.setRequestHeader("Origin",location.origin),b.values&&b.method==createjs.LoadQueue.POST&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),createjs.LoadQueue.isBinary(b.type)&&(c.responseType="arraybuffer"),this._request=c,!0};a._clean=function(){clearTimeout(this._loadTimeout);var b=this._request;
b.onloadstart=null;b.onprogress=null;b.onabort=null;b.onerror=null;b.onload=null;b.ontimeout=null;b.onloadend=null;b.onreadyy3change=null};a._generateTag=function(){var b=this._item.tag;switch(this._item.type){case createjs.LoadQueue.IMAGE:return b.onload=createjs.proxy(this._handleTagReady,this),b.src=this.buildPath(this._item.src,this._basePath,this._item.values),this._rawResponse=this._response,this._response=b,!1;case createjs.LoadQueue.JAVASCRIPT:return b=document.createElement("script"),b.text=
this._response,this._rawResponse=this._response,this._response=b,!0;case createjs.LoadQueue.CSS:if(document.getElementsByTagName("head")[0].appendChild(b),b.styleSheet)b.styleSheet.cssText=this._response;else{var a=document.createTextNode(this._response);b.appendChild(a)}return this._rawResponse=this._response,this._response=b,!0;case createjs.LoadQueue.XML:return a=this._parseXML(this._response,"text/xml"),this._response=a,!0;case createjs.LoadQueue.SVG:return a=this._parseXML(this._response,"image/svg+xml"),
this._rawResponse=this._response,null!=a.documentElement?(b.appendChild(a.documentElement),this._response=b):this._response=a,!0;case createjs.LoadQueue.JSON:b={};try{b=JSON.parse(this._response)}catch(c){b=c}return this._rawResponse=this._response,this._response=b,!0}return!0};a._parseXML=function(b,a){var c=null;window.DOMParser?c=(new DOMParser).parseFromString(b,a):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(b));return c};a._handleTagReady=function(){this._sendComplete()};a.toString=
function(){return"[PreloadJS XHRLoader]"};createjs.XHRLoader=c})();"object"!=typeof JSON&&(JSON={});
(function(){function c(b){return 10>b?"0"+b:b}function a(b){return d.lastIndex=0,d.test(b)?'"'+b.replace(d,function(b){var a=g[b];return"string"==typeof a?a:"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function b(c,d){var g,h,t,x,y,q=e,A=d[c];switch(A&&"object"==typeof A&&"function"==typeof A.toJSON&&(A=A.toJSON(c)),"function"==typeof k&&(A=k.call(d,c,A)),typeof A){case "string":return a(A);case "number":return isFinite(A)?String(A):"null";case "boolean":case "null":return String(A);
case "object":if(!A)return"null";if(e+=f,y=[],"[object Array]"===Object.prototype.toString.apply(A)){x=A.length;for(g=0;x>g;g+=1)y[g]=b(g,A)||"null";return t=0===y.length?"[]":e?"[\n"+e+y.join(",\n"+e)+"\n"+q+"]":"["+y.join(",")+"]",e=q,t}if(k&&"object"==typeof k)for(x=k.length,g=0;x>g;g+=1)"string"==typeof k[g]&&(h=k[g],t=b(h,A),t&&y.push(a(h)+(e?": ":":")+t));else for(h in A)Object.prototype.hasOwnProperty.call(A,h)&&(t=b(h,A),t&&y.push(a(h)+(e?": ":":")+t));return t=0===y.length?"{}":e?"{\n"+e+
y.join(",\n"+e)+"\n"+q+"}":"{"+y.join(",")+"}",e=q,t}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var h=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,f,g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,c,d){var g;if(e="",f="","number"==typeof d)for(g=0;d>g;g+=1)f+=" ";else"string"==typeof d&&(f=d);if(k=c,c&&"function"!=typeof c&&("object"!=typeof c||"number"!=typeof c.length))throw Error("JSON.stringify");return b("",{"":a})});
"function"!=typeof JSON.parse&&(JSON.parse=function(b,a){function c(b,d){var e,g,h=b[d];if(h&&"object"==typeof h)for(e in h)Object.prototype.hasOwnProperty.call(h,e)&&(g=c(h,e),void 0!==g?h[e]=g:delete h[e]);return a.call(b,d,h)}var d;if(b=String(b),h.lastIndex=0,h.test(b)&&(b=b.replace(h,function(b){return"\\u"+("0000"+b.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+b+")"),"function"==typeof a?c({"":d},""):d;throw new SyntaxError("JSON.parse");})})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,c){this.initialize(b,a,c)},a=c.prototype;a.type=null;a.target=null;a.currentTarget=null;a.eventPhase=0;a.bubbles=!1;a.cancelable=!1;a.timeStamp=0;a.defaultPrevented=!1;a.propagationStopped=!1;a.immediatePropagationStopped=!1;a.removed=!1;a.initialize=function(b,a,c){this.type=b;this.bubbles=a;this.cancelable=c;this.timeStamp=(new Date).getTime()};a.preventDefault=function(){this.defaultPrevented=!0};a.stopPropagation=function(){this.propagationStopped=!0};a.stopImmediatePropagation=
function(){this.immediatePropagationStopped=this.propagationStopped=!0};a.remove=function(){this.removed=!0};a.clone=function(){return new c(this.type,this.bubbles,this.cancelable)};a.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=c})();this.createjs=this.createjs||{};
(function(){var c=function(){this.initialize()},a=c.prototype;c.initialize=function(b){b.addEventListener=a.addEventListener;b.on=a.on;b.removeEventListener=b.off=a.removeEventListener;b.removeAllEventListeners=a.removeAllEventListeners;b.hasEventListener=a.hasEventListener;b.dispatchEvent=a.dispatchEvent;b._dispatchEvent=a._dispatchEvent};a._listeners=null;a._captureListeners=null;a.initialize=function(){};a.addEventListener=function(b,a,c){var e;e=c?this._captureListeners=this._captureListeners||
{}:this._listeners=this._listeners||{};var f=e[b];return f&&this.removeEventListener(b,a,c),f=e[b],f?f.push(a):e[b]=[a],a};a.on=function(b,a,c,e,f,g){return a.handleEvent&&(c=c||a,a=a.handleEvent),c=c||this,this.addEventListener(b,function(b){a.call(c,b,f);e&&b.remove()},g)};a.removeEventListener=function(b,a,c){if(c=c?this._captureListeners:this._listeners){var e=c[b];if(e)for(var f=0,g=e.length;g>f;f++)if(e[f]==a){1==g?delete c[b]:e.splice(f,1);break}}};a.off=a.removeEventListener;a.removeAllEventListeners=
function(b){b?(this._listeners&&delete this._listeners[b],this._captureListeners&&delete this._captureListeners[b]):this._listeners=this._captureListeners=null};a.dispatchEvent=function(b,a){if("string"==typeof b){var c=this._listeners;if(!c||!c[b])return!1;b=new createjs.Event(b)}if(b.target=a||this,b.bubbles&&this.parent){for(var e=this,c=[e];e.parent;)c.push(e=e.parent);for(var f=c.length,e=f-1;0<=e&&!b.propagationStopped;e--)c[e]._dispatchEvent(b,1+(0==e));for(e=1;f>e&&!b.propagationStopped;e++)c[e]._dispatchEvent(b,
3)}else this._dispatchEvent(b,2);return b.defaultPrevented};a.hasEventListener=function(b){var a=this._listeners,c=this._captureListeners;return!!(a&&a[b]||c&&c[b])};a.toString=function(){return"[EventDispatcher]"};a._dispatchEvent=function(b,a){var c,e=1==a?this._captureListeners:this._listeners;if(b&&e&&(e=e[b.type])&&(c=e.length)){b.currentTarget=this;b.eventPhase=a;b.removed=!1;for(var e=e.slice(),f=0;c>f&&!b.immediatePropagationStopped;f++){var g=e[f];g.handleEvent?g.handleEvent(b):g(b);b.removed&&
(this.off(b.type,g,1==a),b.removed=!1)}}};createjs.EventDispatcher=c})();this.createjs=this.createjs||{};
(function(){var c=function(b,a,c){this.initialize(b,a,c)},a=c.prototype=new createjs.EventDispatcher;c.NONE=0;c.LOOP=1;c.REVERSE=2;c.IGNORE={};c._tweens=[];c._plugins={};c.get=function(b,a,d,e){return e&&c.removeTweens(b),new c(b,a,d)};c.tick=function(b,a){for(var d=c._tweens.slice(),e=d.length-1;0<=e;e--){var f=d[e];a&&!f.ignoreGlobalPause||f._paused||f.tick(f._useTicks?1:b)}};c.handleEvent=function(b){"tick"==b.type&&this.tick(b.delta,b.paused)};c.removeTweens=function(b){if(b.tweenjs_count){for(var a=
c._tweens,d=a.length-1;0<=d;d--)a[d]._target==b&&(a[d]._paused=!0,a.splice(d,1));b.tweenjs_count=0}};c.removeAllTweens=function(){for(var b=c._tweens,a=0,d=b.length;d>a;a++){var e=b[a];e.paused=!0;e.target.tweenjs_count=0}b.length=0};c.hasActiveTweens=function(b){return b?b.tweenjs_count:c._tweens&&!!c._tweens.length};c.installPlugin=function(b,a){var d=b.priority;null==d&&(b.priority=d=0);for(var e=0,f=a.length,g=c._plugins;f>e;e++){var k=a[e];if(g[k]){for(var m=g[k],n=0,w=m.length;w>n&&!(d<m[n].priority);n++);
g[k].splice(n,0,b)}else g[k]=[b]}};c._register=function(b,a){var d=b._target,e=c._tweens;if(a)d&&(d.tweenjs_count=d.tweenjs_count?d.tweenjs_count+1:1),e.push(b),!c._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",c),c._inited=!0);else for(d&&d.tweenjs_count--,d=e.length;d--;)if(e[d]==b)return e.splice(d,1),void 0};a.ignoreGlobalPause=!1;a.loop=!1;a.duration=0;a.pluginData=null;a.target=null;a.position=null;a.passive=!1;a._paused=!1;a._curQueueProps=null;a._initQueueProps=null;a._steps=
null;a._actions=null;a._prevPosition=0;a._stepPosition=0;a._prevPos=-1;a._target=null;a._useTicks=!1;a._inited=!1;a.initialize=function(b,a,d){this.target=this._target=b;a&&(this._useTicks=a.useTicks,this.ignoreGlobalPause=a.ignoreGlobalPause,this.loop=a.loop,a.onChange&&this.addEventListener("change",a.onChange),a.override&&c.removeTweens(b));this.pluginData=d||{};this._curQueueProps={};this._initQueueProps={};this._steps=[];this._actions=[];a&&a.paused?this._paused=!0:c._register(this,!0);a&&null!=
a.position&&this.setPosition(a.position,c.NONE)};a.wait=function(b,a){if(null==b||0>=b)return this;var c=this._cloneProps(this._curQueueProps);return this._addStep({d:b,p0:c,e:this._linearEase,p1:c,v:a})};a.to=function(b,a,c){return(isNaN(a)||0>a)&&(a=0),this._addStep({d:a||0,p0:this._cloneProps(this._curQueueProps),e:c,p1:this._cloneProps(this._appendQueueProps(b))})};a.call=function(b,a,c){return this._addAction({f:b,p:a?a:[this],o:c?c:this._target})};a.set=function(b,a){return this._addAction({f:this._set,
o:this,p:[b,a?a:this._target]})};a.play=function(b){return b||(b=this),this.call(b.setPaused,[!1],b)};a.pause=function(b){return b||(b=this),this.call(b.setPaused,[!0],b)};a.setPosition=function(b,a){0>b&&(b=0);null==a&&(a=1);var c=b,e=!1;if(c>=this.duration&&(this.loop?c%=this.duration:(c=this.duration,e=!0)),c==this._prevPos)return e;var f=this._prevPos;if(this.position=this._prevPos=c,this._prevPosition=b,this._target)if(e)this._updateTargetProps(null,1);else if(0<this._steps.length){for(var g=
0,k=this._steps.length;k>g&&!(this._steps[g].t>c);g++);g=this._steps[g-1];this._updateTargetProps(g,(this._stepPosition=c-g.t)/g.d)}return 0!=a&&0<this._actions.length&&(this._useTicks?this._runActions(c,c):1==a&&f>c?(f!=this.duration&&this._runActions(f,this.duration),this._runActions(0,c,!0)):this._runActions(f,c)),e&&this.setPaused(!0),this.dispatchEvent("change"),e};a.tick=function(b){this._paused||this.setPosition(this._prevPosition+b)};a.setPaused=function(b){return this._paused=!!b,c._register(this,
!b),this};a.w=a.wait;a.t=a.to;a.c=a.call;a.s=a.set;a.toString=function(){return"[Tween]"};a.clone=function(){throw"Tween can not be cloned.";};a._updateTargetProps=function(b,a){var d,e,f,g;if(b||1!=a){if(this.passive=!!b.v,this.passive)return;b.e&&(a=b.e(a,0,1,1));d=b.p0;e=b.p1}else this.passive=!1,d=e=this._curQueueProps;for(var k in this._initQueueProps){null==(f=d[k])&&(d[k]=f=this._initQueueProps[k]);null==(g=e[k])&&(e[k]=g=f);f=f==g||0==a||1==a||"number"!=typeof f?1==a?g:f:f+(g-f)*a;var m=!1;
if(g=c._plugins[k])for(var n=0,w=g.length;w>n;n++){var s=g[n].tween(this,k,f,d,e,a,!!b&&d==e,!b);s==c.IGNORE?m=!0:f=s}m||(this._target[k]=f)}};a._runActions=function(b,a,c){var e=b,f=a,g=-1,k=this._actions.length,m=1;for(b>a&&(e=a,f=b,g=k,k=m=-1);(g+=m)!=k;){a=this._actions[g];var n=a.t;(n==f||n>e&&f>n||c&&n==b)&&a.f.apply(a.o,a.p)}};a._appendQueueProps=function(b){var a,d,e,f,g,k;for(k in b)if(void 0===this._initQueueProps[k]){if(d=this._target[k],a=c._plugins[k])for(e=0,f=a.length;f>e;e++)d=a[e].init(this,
k,d);this._initQueueProps[k]=this._curQueueProps[k]=void 0===d?null:d}for(k in b){if(d=this._curQueueProps[k],a=c._plugins[k])for(g=g||{},e=0,f=a.length;f>e;e++)a[e].step&&a[e].step(this,k,d,b[k],g);this._curQueueProps[k]=b[k]}return g&&this._appendQueueProps(g),this._curQueueProps};a._cloneProps=function(a){var c={},d;for(d in a)c[d]=a[d];return c};a._addStep=function(a){return 0<a.d&&(this._steps.push(a),a.t=this.duration,this.duration+=a.d),this};a._addAction=function(a){return a.t=this.duration,
this._actions.push(a),this};a._set=function(a,c){for(var d in a)c[d]=a[d]};createjs.Tween=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,c,d){this.initialize(a,c,d)},a=c.prototype=new createjs.EventDispatcher;a.ignoreGlobalPause=!1;a.duration=0;a.loop=!1;a.position=null;a._paused=!1;a._tweens=null;a._labels=null;a._labelList=null;a._prevPosition=0;a._prevPos=-1;a._useTicks=!1;a.initialize=function(a,c,d){this._tweens=[];d&&(this._useTicks=d.useTicks,this.loop=d.loop,this.ignoreGlobalPause=d.ignoreGlobalPause,d.onChange&&this.addEventListener("change",d.onChange));a&&this.addTween.apply(this,a);this.setLabels(c);
d&&d.paused?this._paused=!0:createjs.Tween._register(this,!0);d&&null!=d.position&&this.setPosition(d.position,createjs.Tween.NONE)};a.addTween=function(a){var c=arguments.length;if(1<c){for(var d=0;c>d;d++)this.addTween(arguments[d]);return arguments[0]}return 0==c?null:(this.removeTween(a),this._tweens.push(a),a.setPaused(!0),a._paused=!1,a._useTicks=this._useTicks,a.duration>this.duration&&(this.duration=a.duration),0<=this._prevPos&&a.setPosition(this._prevPos,createjs.Tween.NONE),a)};a.removeTween=
function(a){var c=arguments.length;if(1<c){for(var d=!0,e=0;c>e;e++)d=d&&this.removeTween(arguments[e]);return d}if(0==c)return!1;c=this._tweens;for(e=c.length;e--;)if(c[e]==a)return c.splice(e,1),a.duration>=this.duration&&this.updateDuration(),!0;return!1};a.addLabel=function(a,c){this._labels[a]=c;var d=this._labelList;if(d){for(var e=0,f=d.length;f>e&&!(c<d[e].position);e++);d.splice(e,0,{label:a,position:c})}};a.setLabels=function(a){this._labels=a?a:{}};a.getLabels=function(){var a=this._labelList;
if(!a){var a=this._labelList=[],c=this._labels,d;for(d in c)a.push({label:d,position:c[d]});a.sort(function(a,b){return a.position-b.position})}return a};a.getCurrentLabel=function(){var a=this.getLabels(),c=this.position,d=a.length;if(d){for(var e=0;d>e&&!(c<a[e].position);e++);return 0==e?null:a[e-1].label}return null};a.gotoAndPlay=function(a){this.setPaused(!1);this._goto(a)};a.gotoAndStop=function(a){this.setPaused(!0);this._goto(a)};a.setPosition=function(a,c){0>a&&(a=0);var d=this.loop?a%this.duration:
a,e=!this.loop&&a>=this.duration;if(d==this._prevPos)return e;this._prevPosition=a;this.position=this._prevPos=d;for(var f=0,g=this._tweens.length;g>f;f++)if(this._tweens[f].setPosition(d,c),d!=this._prevPos)return!1;return e&&this.setPaused(!0),this.dispatchEvent("change"),e};a.setPaused=function(a){this._paused=!!a;createjs.Tween._register(this,!a)};a.updateDuration=function(){for(var a=this.duration=0,c=this._tweens.length;c>a;a++){var d=this._tweens[a];d.duration>this.duration&&(this.duration=
d.duration)}};a.tick=function(a){this.setPosition(this._prevPosition+a)};a.resolve=function(a){var c=parseFloat(a);return isNaN(c)&&(c=this._labels[a]),c};a.toString=function(){return"[Timeline]"};a.clone=function(){throw"Timeline can not be cloned.";};a._goto=function(a){a=this.resolve(a);null!=a&&this.setPosition(a)};createjs.Timeline=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"Ease cannot be instantiated.";};c.linear=function(a){return a};c.none=c.linear;c.get=function(a){return-1>a&&(a=-1),1<a&&(a=1),function(b){return 0==a?b:0>a?b*(b*-a+1+a):b*((2-b)*a+(1-a))}};c.getPowIn=function(a){return function(b){return Math.pow(b,a)}};c.getPowOut=function(a){return function(b){return 1-Math.pow(1-b,a)}};c.getPowInOut=function(a){return function(b){return 1>(b*=2)?0.5*Math.pow(b,a):1-0.5*Math.abs(Math.pow(2-b,a))}};c.quadIn=c.getPowIn(2);c.quadOut=
c.getPowOut(2);c.quadInOut=c.getPowInOut(2);c.cubicIn=c.getPowIn(3);c.cubicOut=c.getPowOut(3);c.cubicInOut=c.getPowInOut(3);c.quartIn=c.getPowIn(4);c.quartOut=c.getPowOut(4);c.quartInOut=c.getPowInOut(4);c.quintIn=c.getPowIn(5);c.quintOut=c.getPowOut(5);c.quintInOut=c.getPowInOut(5);c.sineIn=function(a){return 1-Math.cos(a*Math.PI/2)};c.sineOut=function(a){return Math.sin(a*Math.PI/2)};c.sineInOut=function(a){return-0.5*(Math.cos(Math.PI*a)-1)};c.getBackIn=function(a){return function(b){return b*
b*((a+1)*b-a)}};c.backIn=c.getBackIn(1.7);c.getBackOut=function(a){return function(b){return--b*b*((a+1)*b+a)+1}};c.backOut=c.getBackOut(1.7);c.getBackInOut=function(a){return a*=1.525,function(b){return 1>(b*=2)?0.5*b*b*((a+1)*b-a):0.5*((b-=2)*b*((a+1)*b+a)+2)}};c.backInOut=c.getBackInOut(1.7);c.circIn=function(a){return-(Math.sqrt(1-a*a)-1)};c.circOut=function(a){return Math.sqrt(1- --a*a)};c.circInOut=function(a){return 1>(a*=2)?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)};c.bounceIn=
function(a){return 1-c.bounceOut(1-a)};c.bounceOut=function(a){return 1/2.75>a?7.5625*a*a:2/2.75>a?7.5625*(a-=1.5/2.75)*a+0.75:2.5/2.75>a?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375};c.bounceInOut=function(a){return 0.5>a?0.5*c.bounceIn(2*a):0.5*c.bounceOut(2*a-1)+0.5};c.getElasticIn=function(a,b){var c=2*Math.PI;return function(d){if(0==d||1==d)return d;var e=b/c*Math.asin(1/a);return-(a*Math.pow(2,10*(d-=1))*Math.sin((d-e)*c/b))}};c.elasticIn=c.getElasticIn(1,0.3);c.getElasticOut=
function(a,b){var c=2*Math.PI;return function(d){if(0==d||1==d)return d;var e=b/c*Math.asin(1/a);return a*Math.pow(2,-10*d)*Math.sin((d-e)*c/b)+1}};c.elasticOut=c.getElasticOut(1,0.3);c.getElasticInOut=function(a,b){var c=2*Math.PI;return function(d){var e=b/c*Math.asin(1/a);return 1>(d*=2)?-0.5*a*Math.pow(2,10*(d-=1))*Math.sin((d-e)*c/b):0.5*a*Math.pow(2,-10*(d-=1))*Math.sin((d-e)*c/b)+1}};c.elasticInOut=c.getElasticInOut(1,0.3*1.5);createjs.Ease=c})();this.createjs=this.createjs||{};
(function(){var c=function(){throw"MotionGuidePlugin cannot be instantiated.";};c.priority=0;c._rotOffS;c._rotOffE;c._rotNormS;c._rotNormE;c.install=function(){return createjs.Tween.installPlugin(c,["guide","x","y","y7"]),createjs.Tween.IGNORE};c.init=function(a,b,c){var d=a.target;return d.hasOwnProperty("x")||(d.x=0),d.hasOwnProperty("y")||(d.y=0),d.hasOwnProperty("y7")||(d.y7=0),"y7"==b&&(a.__needsRot=!0),"guide"==b?null:c};c.step=function(a,b,h,d,e){if("y7"==b&&(a.__rotGlobalS=h,a.__rotGlobalE=
d,c.testRotData(a,e)),"guide"!=b)return d;var f;d.hasOwnProperty("path")||(d.path=[]);b=d.path;if(d.hasOwnProperty("end")||(d.end=1),d.hasOwnProperty("start")||(d.start=h&&h.hasOwnProperty("end")&&h.path===b?h.end:0),d.hasOwnProperty("_segments")&&d._length)return d;h=b.length;if(!(6<=h&&0==(h-2)%4))throw"invalid 'path' data, please see documentation for valid paths";d._segments=[];d._length=0;for(var g=2;h>g;g+=4){for(var k,m,n=b[g-2],w=b[g-1],s=b[g+0],t=b[g+1],x=b[g+2],y=b[g+3],q=n,A=w,z=0,H=[],
E=1;10>=E;E++){m=E/10;var G=1-m;k=G*G*n+2*G*m*s+m*m*x;m=G*G*w+2*G*m*t+m*m*y;z+=H[H.push(Math.sqrt((f=k-q)*f+(f=m-A)*f))-1];q=k;A=m}d._segments.push(z);d._segments.push(H);d._length+=z}f=d.orient;d.orient=!0;b={};return c.calc(d,d.start,b),a.__rotPathS=Number(b.y7.toFixed(5)),c.calc(d,d.end,b),a.__rotPathE=Number(b.y7.toFixed(5)),d.orient=!1,c.calc(d,d.end,e),d.orient=f,d.orient?(a.__guideData=d,c.testRotData(a,e),d):d};c.testRotData=function(a,b){if(void 0===a.__rotGlobalS||void 0===a.__rotGlobalE){if(a.__needsRot)return;
a.__rotGlobalS=a.__rotGlobalE=void 0!==a._curQueueProps.y7?a._curQueueProps.y7:b.y7=a.target.y7||0}if(void 0!==a.__guideData){var c=a.__guideData,d=a.__rotGlobalE-a.__rotGlobalS,e=a.__rotPathE-a.__rotPathS,f=d-e;if("auto"==c.orient)180<f?f-=360:-180>f&&(f+=360);else if("cw"==c.orient){for(;0>f;)f+=360;0==f&&0<d&&180!=d&&(f+=360)}else if("ccw"==c.orient){for(f=d-(180<e?360-e:e);0<f;)f-=360;0==f&&0>d&&-180!=d&&(f-=360)}c.rotDelta=f;c.rotOffS=a.__rotGlobalS-a.__rotPathS;a.__rotGlobalS=a.__rotGlobalE=
a.__guideData=a.__needsRot=void 0}};c.tween=function(a,b,h,d,e,f,g){e=e.guide;if(void 0==e||e===d.guide)return h;if(e.lastRatio!=f){switch(c.calc(e,(e.end-e.start)*(g?e.end:f)+e.start,a.target),e.orient){case "cw":case "ccw":case "auto":a.target.y7+=e.rotOffS+e.rotDelta*f;break;default:a.target.y7+=e.rotOffS}e.lastRatio=f}return"y7"!=b||e.orient&&"false"!=e.orient?a.target[b]:h};c.calc=function(a,b,h){void 0==a._segments&&c.validate(a);void 0==h&&(h={x:0,y:0,y7:0});var d=a._segments,e=a.path,f=a._length*
b,g=d.length-2;for(b=0;f>d[b]&&g>b;)f-=d[b],b+=2;for(var d=d[b+1],k=0,g=d.length-1;f>d[k]&&g>k;)f-=d[k],k++;f=k/++g+f/(g*d[k]);b=2*b+2;g=1-f;return h.x=g*g*e[b-2]+2*g*f*e[b+0]+f*f*e[b+2],h.y=g*g*e[b-1]+2*g*f*e[b+1]+f*f*e[b+3],a.orient&&(h.y7=57.2957795*Math.atan2((e[b+1]-e[b-1])*g+(e[b+3]-e[b+1])*f,(e[b+0]-e[b-2])*g+(e[b+2]-e[b+0])*f)),h};createjs.MotionGuidePlugin=c})();this.createjs=this.createjs||{};(function(){var c=createjs.TweenJS=createjs.TweenJS||{};c.version="0.5.0";c.buildDate="Wed, 25 Sep 2013 17:09:35 GMT"})();
this.createjs=this.createjs||{};(function(){var c=createjs.SoundJS=createjs.SoundJS||{};c.version="0.5.0";c.buildDate="Wed, 25 Sep 2013 17:09:35 GMT"})();this.createjs=this.createjs||{};
(function(){var c=function(){},a=c.prototype;c.initialize=function(b){b.addEventListener=a.addEventListener;b.on=a.on;b.removeEventListener=b.off=a.removeEventListener;b.removeAllEventListeners=a.removeAllEventListeners;b.hasEventListener=a.hasEventListener;b.dispatchEvent=a.dispatchEvent;b._dispatchEvent=a._dispatchEvent};a._listeners=null;a._captureListeners=null;a.initialize=function(){};a.addEventListener=function(a,c,d){var e;e=d?this._captureListeners=this._captureListeners||{}:this._listeners=
this._listeners||{};var f=e[a];return f&&this.removeEventListener(a,c,d),f=e[a],f?f.push(c):e[a]=[c],c};a.on=function(a,c,d,e,f,g){return c.handleEvent&&(d=d||c,c=c.handleEvent),d=d||this,this.addEventListener(a,function(a){c.call(d,a,f);e&&a.remove()},g)};a.removeEventListener=function(a,c,d){if(d=d?this._captureListeners:this._listeners){var e=d[a];if(e)for(var f=0,g=e.length;g>f;f++)if(e[f]==c){1==g?delete d[a]:e.splice(f,1);break}}};a.off=a.removeEventListener;a.removeAllEventListeners=function(a){a?
(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};a.dispatchEvent=function(a,c){if("string"==typeof a){var d=this._listeners;if(!d||!d[a])return!1;a=new createjs.Event(a)}if(a.target=c||this,a.bubbles&&this.parent){for(var e=this,d=[e];e.parent;)d.push(e=e.parent);for(var f=d.length,e=f-1;0<=e&&!a.propagationStopped;e--)d[e]._dispatchEvent(a,1+(0==e));for(e=1;f>e&&!a.propagationStopped;e++)d[e]._dispatchEvent(a,
3)}else this._dispatchEvent(a,2);return a.defaultPrevented};a.hasEventListener=function(a){var c=this._listeners,d=this._captureListeners;return!!(c&&c[a]||d&&d[a])};a.toString=function(){return"[EventDispatcher]"};a._dispatchEvent=function(a,c){var d,e=1==c?this._captureListeners:this._listeners;if(a&&e&&(e=e[a.type])&&(d=e.length)){a.currentTarget=this;a.eventPhase=c;a.removed=!1;for(var e=e.slice(),f=0;d>f&&!a.immediatePropagationStopped;f++){var g=e[f];g.handleEvent?g.handleEvent(a):g(a);a.removed&&
(this.off(a.type,g,1==c),a.removed=!1)}}};createjs.EventDispatcher=c})();this.createjs=this.createjs||{};
(function(){var c=function(a,c,d){this.initialize(a,c,d)},a=c.prototype;a.type=null;a.target=null;a.currentTarget=null;a.eventPhase=0;a.bubbles=!1;a.cancelable=!1;a.timeStamp=0;a.defaultPrevented=!1;a.propagationStopped=!1;a.immediatePropagationStopped=!1;a.removed=!1;a.initialize=function(a,c,d){this.type=a;this.bubbles=c;this.cancelable=d;this.timeStamp=(new Date).getTime()};a.preventDefault=function(){this.defaultPrevented=!0};a.stopPropagation=function(){this.propagationStopped=!0};a.stopImmediatePropagation=
function(){this.immediatePropagationStopped=this.propagationStopped=!0};a.remove=function(){this.removed=!0};a.clone=function(){return new c(this.type,this.bubbles,this.cancelable)};a.toString=function(){return"[Event (type="+this.type+")]"};createjs.Event=c})();this.createjs=this.createjs||{};(function(){createjs.indexOf=function(c,a){for(var b=0,h=c.length;h>b;b++)if(a===c[b])return b;return-1}})();this.createjs=this.createjs||{};
(function(){createjs.proxy=function(c,a){var b=Array.prototype.slice.call(arguments,2);return function(){return c.apply(a,Array.prototype.slice.call(arguments,0).concat(b))}}})();this.createjs=this.createjs||{};
(function(){function c(){throw"Sound cannot be instantiated";}function a(a,b){this.init(a,b)}function b(){}c.DELIMITER="|";c.AUDIO_TIMEOUT=8E3;c.INTERRUPT_ANY="any";c.INTERRUPT_EARLY="early";c.INTERRUPT_LATE="late";c.INTERRUPT_NONE="none";c.PLAY_INITED="playInited";c.PLAY_SUCCEEDED="playSucceeded";c.PLAY_INTERRUPTED="playInterrupted";c.PLAY_FINISHED="playFinished";c.PLAY_FAILED="playFailed";c.SUPPORTED_EXTENSIONS="mp3 ogg mpeg wav m4a mp4 aiff wma mid".split(" ");c.EXTENSION_MAP={m4a:"mp4"};c.FILE_PATTERN=
/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/;c.defaultInterruptBehavior=c.INTERRUPT_NONE;c.lastId=0;c.activePlugin=null;c.pluginsRegistered=!1;c.masterVolume=1;c.masterMute=!1;c.instances=[];c.idHash={};c.y373Hash={};c.defaultSoundInstance=null;c.addEventListener=null;c.removeEventListener=null;c.removeAllEventListeners=null;c.dispatchEvent=null;c.hasEventListener=null;c._listeners=null;createjs.EventDispatcher.initialize(c);c.sendFileLoadEvent=function(a){if(c.y373Hash[a])for(var b=
0,f=c.y373Hash[a].length;f>b;b++){var g=c.y373Hash[a][b];if(c.y373Hash[a][b]=!0,c.hasEventListener("fileload")){var h=new createjs.Event("fileload");h.src=g.src;h.id=g.id;h.data=g.data;c.dispatchEvent(h)}}};c.getPreloadHandlers=function(){return{callback:createjs.proxy(c.initLoad,c),types:["sound"],extensions:c.SUPPORTED_EXTENSIONS}};c.registerPlugin=function(a){return c.pluginsRegistered=!0,null==a?!1:a.isSupported()?(c.activePlugin=new a,!0):!1};c.registerPlugins=function(a){for(var b=0,f=a.length;f>
b;b++)if(c.registerPlugin(a[b]))return!0;return!1};c.initializeDefaultPlugins=function(){return null!=c.activePlugin?!0:c.pluginsRegistered?!1:c.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?!0:!1};c.isReady=function(){return null!=c.activePlugin};c.getCapabilities=function(){return null==c.activePlugin?null:c.activePlugin.capabilities};c.getCapability=function(a){return null==c.activePlugin?null:c.activePlugin.capabilities[a]};c.initLoad=function(a,b,f,g,h){a=c.registerSound(a,
f,g,!1,h);return null==a?!1:a};c.registerSound=function(b,e,f,g,h){if(!c.initializeDefaultPlugins())return!1;b instanceof Object&&(h=e,e=b.id,f=b.data,b=b.src);var m=c.parsePath(b,"sound",e,f);if(null==m)return!1;null!=e&&(c.idHash[e]=m.src);var n=null;null!=f&&(isNaN(f.channels)?isNaN(f)||(n=parseInt(f)):n=parseInt(f.channels));var w=c.activePlugin.register(m.src,n);if(null!=w&&(null!=w.numChannels&&(n=w.numChannels),a.create(m.src,n),null!=f&&isNaN(f)?f.channels=m.data.channels=n||a.maxPerChannel():
f=m.data=n||a.maxPerChannel(),null!=w.tag?m.tag=w.tag:w.src&&(m.src=w.src),null!=w.completeHandler&&(m.completeHandler=w.completeHandler),w.type&&(m.type=w.type)),0!=g)if(c.y373Hash[m.src]||(c.y373Hash[m.src]=[]),c.y373Hash[m.src].push({src:b,id:e,data:f}),1==c.y373Hash[m.src].length)null==h&&(h=""),c.activePlugin.y373(m.src,w,h);else if(1==c.y373Hash[m.src][0])return!0;return m};c.registerManifest=function(a,b){for(var c=[],g=0,h=a.length;h>g;g++)c[g]=createjs.Sound.registerSound(a[g].src,a[g].id,
a[g].data,a[g].y373,b);return c};c.removeSound=function(b){if(null==c.activePlugin)return!1;b instanceof Object&&(b=b.src);b=c.getSrcById(b);b=c.parsePath(b);if(null==b)return!1;b=b.src;for(var e in c.idHash)c.idHash[e]==b&&delete c.idHash[e];return a.removeSrc(b),delete c.y373Hash[b],c.activePlugin.removeSound(b),!0};c.removeManifest=function(a){for(var b=[],c=0,g=a.length;g>c;c++)b[c]=createjs.Sound.removeSound(a[c].src);return b};c.removeAllSounds=function(){c.idHash={};c.y373Hash={};a.removeAll();
c.activePlugin.removeAllSounds()};c.loadComplete=function(a){var b=c.parsePath(a,"sound");return a=b?c.getSrcById(b.src):c.getSrcById(a),1==c.y373Hash[a][0]};c.parsePath=function(a,b,f,g){"string"!=typeof a&&(a=a.toString());a=a.split(c.DELIMITER);b={type:b||"sound",id:f,data:g};f=c.getCapabilities();g=0;for(var h=a.length;h>g;g++){var m=a[g],n=m.match(c.FILE_PATTERN);if(null==n)return!1;var w=n[4],n=n[5];if(f[n]&&-1<createjs.indexOf(c.SUPPORTED_EXTENSIONS,n))return b.name=w,b.src=m,b.extension=n,
b}return null};c.play=function(a,b,f,g,h,m,n){a=c.createInstance(a);return c.playInstance(a,b,f,g,h,m,n)||a.playFailed(),a};c.createInstance=function(b){if(!c.initializeDefaultPlugins())return c.defaultSoundInstance;b=c.getSrcById(b);b=c.parsePath(b,"sound");var e=null;return null!=b&&null!=b.src?(a.create(b.src),e=c.activePlugin.create(b.src)):e=c.defaultSoundInstance,e.uniqueId=c.lastId++,e};c.setVolume=function(a){if(null==Number(a))return!1;if(a=Math.max(0,Math.min(1,a)),c.masterVolume=a,!this.activePlugin||
!this.activePlugin.setVolume||!this.activePlugin.setVolume(a))for(var b=this.instances,f=0,g=b.length;g>f;f++)b[f].setMasterVolume(a)};c.getVolume=function(){return c.masterVolume};c.setMute=function(a){if(null==a||void 0==a)return!1;if(this.masterMute=a,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(a))for(var b=this.instances,c=0,g=b.length;g>c;c++)b[c].setMasterMute(a);return!0};c.getMute=function(){return this.masterMute};c.stop=function(){for(var a=this.instances,
b=a.length;b--;)a[b].stop()};c.playInstance=function(a,b,f,g,h,m,n){if(b instanceof Object&&(f=b.delay,g=b.offset,h=b.loop,m=b.volume,n=b.pan),b=b||c.defaultInterruptBehavior,null==f&&(f=0),null==g&&(g=a.getPosition()),null==h&&(h=0),null==m&&(m=a.volume),null==n&&(n=a.pan),0==f){if(!c.beginPlaying(a,b,g,h,m,n))return!1}else f=setTimeout(function(){c.beginPlaying(a,b,g,h,m,n)},f),a.delayTimeoutId=f;return this.instances.push(a),!0};c.beginPlaying=function(b,c,h,g,k,m){return a.add(b,c)?b.beginPlaying(h,
g,k,m)?!0:(b=createjs.indexOf(this.instances,b),-1<b&&this.instances.splice(b,1),!1):!1};c.getSrcById=function(a){return null==c.idHash||null==c.idHash[a]?a:c.idHash[a]};c.playFinished=function(b){a.remove(b);b=createjs.indexOf(this.instances,b);-1<b&&this.instances.splice(b,1)};createjs.Sound=c;a.channels={};a.create=function(b,c){return null==a.get(b)?(a.channels[b]=new a(b,c),!0):!1};a.removeSrc=function(b){var c=a.get(b);return null==c?!1:(c.removeAll(),delete a.channels[b],!0)};a.removeAll=function(){for(var b in a.channels)a.channels[b].removeAll();
a.channels={}};a.add=function(b,c){var h=a.get(b.src);return null==h?!1:h.add(b,c)};a.remove=function(b){var c=a.get(b.src);return null==c?!1:(c.remove(b),!0)};a.maxPerChannel=function(){return h.maxDefault};a.get=function(b){return a.channels[b]};var h=a.prototype;h.src=null;h.max=null;h.maxDefault=100;h.length=0;h.init=function(a,b){this.src=a;this.max=b||this.maxDefault;-1==this.max&&this.max==this.maxDefault;this.instances=[]};h.get=function(a){return this.instances[a]};h.add=function(a,b){return this.getSlot(b,
a)?(this.instances.push(a),this.length++,!0):!1};h.remove=function(a){a=createjs.indexOf(this.instances,a);return-1==a?!1:(this.instances.splice(a,1),this.length--,!0)};h.removeAll=function(){for(var a=this.length-1;0<=a;a--)this.instances[a].stop()};h.getSlot=function(a){for(var b,h,g=0,k=this.max;k>g;g++){if(b=this.get(g),null==b)return!0;(a!=c.INTERRUPT_NONE||b.playState==c.PLAY_FINISHED)&&(0!=g?b.playState==c.PLAY_FINISHED||b.playState==c.PLAY_INTERRUPTED||b.playState==c.PLAY_FAILED?h=b:(a==c.INTERRUPT_EARLY&&
b.getPosition()<h.getPosition()||a==c.INTERRUPT_LATE&&b.getPosition()>h.getPosition())&&(h=b):h=b)}return null!=h?(h.interrupt(),this.remove(h),!0):!1};h.toString=function(){return"[Sound SoundChannel]"};c.defaultSoundInstance=new function(){this.isDefault=!0;this.addEventListener=this.removeEventListener=this.removeAllEventListener=this.dispatchEvent=this.hasEventListener=this._listeners=this.interrupt=this.playFailed=this.pause=this.resume=this.play=this.beginPlaying=this.cleanUp=this.stop=this.setMasterVolume=
this.setVolume=this.mute=this.setMute=this.getMute=this.setPan=this.getPosition=this.setPosition=function(){return!1};this.getVolume=this.getPan=this.getDuration=function(){return 0};this.playState=c.PLAY_FAILED;this.toString=function(){return"[Sound Default Sound Instance]"}};null==createjs.proxy&&(createjs.proxy=function(){throw"Proxy has been moved to an external file, and must be included separately.";});b.init=function(){var a=window.navigator.userAgent;b.isFirefox=-1<a.indexOf("Firefox");b.isOpera=
null!=window.opera;b.isChrome=-1<a.indexOf("Chrome");b.isIOS=-1<a.indexOf("iPod")||-1<a.indexOf("iPhone")||-1<a.indexOf("iPad");b.isAndroid=-1<a.indexOf("Android");b.isBlackberry=-1<a.indexOf("Blackberry")};b.init();createjs.Sound.BrowserDetect=b})();this.createjs=this.createjs||{};
(function(){function c(){this.init()}c.capabilities=null;c.isSupported=function(){var a=createjs.Sound.BrowserDetect.isIOS||createjs.Sound.BrowserDetect.isAndroid||createjs.Sound.BrowserDetect.isBlackberry;return"file:"!=location.protocol||a||this.isFileXHRSupported()?(c.generateCapabilities(),null==c.context?!1:!0):!1};c.isFileXHRSupported=function(){var a=!0,c=new XMLHttpRequest;try{c.open("GET","fail.fail",!1)}catch(d){return a=!1}c.onerror=function(){a=!1};c.onload=function(){a=404==this.status||
200==this.status||0==this.status&&""!=this.response};try{c.send()}catch(e){a=!1}return a};c.generateCapabilities=function(){if(null==c.capabilities){var a=document.createElement("audio");if(null==a.canPlayType)return null;if(window.webkitAudioContext)c.context=new webkitAudioContext;else{if(!window.AudioContext)return null;c.context=new AudioContext}c.compatibilitySetUp();c.playEmptySound();c.capabilities={panning:!0,volume:!0,tracks:-1};for(var h=createjs.Sound.SUPPORTED_EXTENSIONS,d=createjs.Sound.EXTENSION_MAP,
e=0,f=h.length;f>e;e++){var g=h[e],k=d[g]||g;c.capabilities[g]="no"!=a.canPlayType("audio/"+g)&&""!=a.canPlayType("audio/"+g)||"no"!=a.canPlayType("audio/"+k)&&""!=a.canPlayType("audio/"+k)}2>c.context.destination.numberOfChannels&&(c.capabilities.panning=!1);c.dynamicsCompressorNode=c.context.createDynamicsCompressor();c.dynamicsCompressorNode.connect(c.context.destination);c.gainNode=c.context.createGain();c.gainNode.connect(c.dynamicsCompressorNode)}};c.compatibilitySetUp=function(){if(!c.context.createGain){c.context.createGain=
c.context.createGainNode;var a=c.context.createBufferSource();a.__proto__.start=a.__proto__.noteGrainOn;a.__proto__.stop=a.__proto__.noteOff;this.panningModel=0}};c.playEmptySound=function(){var a=this.context.createBuffer(1,1,22050),c=this.context.createBufferSource();c.buffer=a;c.connect(this.context.destination);c.start(0,0,0)};var a=c.prototype;a.capabilities=null;a.volume=1;a.context=null;a.panningModel="equalpower";a.dynamicsCompressorNode=null;a.gainNode=null;a.arrayBuffers=null;a.init=function(){this.capabilities=
c.capabilities;this.arrayBuffers={};this.context=c.context;this.gainNode=c.gainNode;this.dynamicsCompressorNode=c.dynamicsCompressorNode};a.register=function(a){this.arrayBuffers[a]=!0;return{tag:new createjs.WebAudioPlugin.Loader(a,this)}};a.isPreloadStarted=function(a){return null!=this.arrayBuffers[a]};a.isPreloadComplete=function(a){return!(null==this.arrayBuffers[a]||1==this.arrayBuffers[a])};a.removeFromPreload=function(a){delete this.arrayBuffers[a]};a.removeSound=function(a){delete this.arrayBuffers[a]};
a.removeAllSounds=function(){this.arrayBuffers={}};a.addPreloadResults=function(a,c){this.arrayBuffers[a]=c};a.handlePreloadComplete=function(){createjs.Sound.sendFileLoadEvent(this.src)};a.y373=function(a,c,d){this.arrayBuffers[a]=!0;a=new createjs.WebAudioPlugin.Loader(a,this);a.onload=this.handlePreloadComplete;null!=d&&(a.src=d+a.src);a.load()};a.create=function(a){return this.isPreloadStarted(a)||this.y373(a),new createjs.WebAudioPlugin.SoundInstance(a,this)};a.setVolume=function(a){return this.volume=
a,this.updateVolume(),!0};a.updateVolume=function(){var a=createjs.Sound.masterMute?0:this.volume;a!=this.gainNode.gain.value&&(this.gainNode.gain.value=a)};a.getVolume=function(){return this.volume};a.setMute=function(){return this.updateVolume(),!0};a.toString=function(){return"[WebAudioPlugin]"};createjs.WebAudioPlugin=c})();
(function(){function c(a,c){this.init(a,c)}var a=c.prototype;a.src=null;a.uniqueId=-1;a.playState=null;a.owner=null;a.offset=0;a.delay=0;a._volume=1;Object.defineProperty(a,"volume",{get:function(){return this._volume},set:function(a){return null==Number(a)?!1:(a=Math.max(0,Math.min(1,a)),this._volume=a,this.updateVolume(),void 0)}});a._pan=0;Object.defineProperty(a,"pan",{get:function(){return this._pan},set:function(a){return this.owner.capabilities.panning&&null!=Number(a)?(a=Math.max(-1,Math.min(1,
a)),this._pan=a,this.panNode.setPosition(a,0,-0.5),void 0):!1}});a.duration=0;a.remainingLoops=0;a.delayTimeoutId=null;a.soundCompleteTimeout=null;a.panNode=null;a.gainNode=null;a.sourceNode=null;a.sourceNodeNext=null;a.muted=!1;a.paused=!1;a.startTime=0;a.addEventListener=null;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;a.endedHandler=null;a.readyHandler=null;a.stalledHandler=null;a.sendEvent=function(a){a=new createjs.Event(a);
this.dispatchEvent(a)};a.init=function(a,c){this.owner=c;this.src=a;this.panNode=this.owner.context.createPanner();this.panNode.panningModel=this.owner.panningModel;this.gainNode=this.owner.context.createGain();this.gainNode.connect(this.panNode);this.owner.isPreloadComplete(this.src)&&(this.duration=1E3*this.owner.arrayBuffers[this.src].duration);this.endedHandler=createjs.proxy(this.handleSoundComplete,this);this.readyHandler=createjs.proxy(this.handleSoundReady,this);this.stalledHandler=createjs.proxy(this.handleSoundStalled,
this)};a.cleanUp=function(){this.sourceNode&&this.sourceNode.playbackState!=this.sourceNode.UNSCHEDULED_STATE&&(this.sourceNode=this.cleanUpAudioNode(this.sourceNode),this.sourceNodeNext=this.cleanUpAudioNode(this.sourceNodeNext));0!=this.panNode.numberOfOutputs&&this.panNode.disconnect(0);clearTimeout(this.delayTimeoutId);clearTimeout(this.soundCompleteTimeout);this.startTime=0;null!=window.createjs&&createjs.Sound.playFinished(this)};a.cleanUpAudioNode=function(a){return a&&(a.stop(0),a.disconnect(this.gainNode),
a=null),a};a.interrupt=function(){this.playState=createjs.Sound.PLAY_INTERRUPTED;this.cleanUp();this.paused=!1;this.sendEvent("interrupted")};a.handleSoundStalled=function(){this.sendEvent("failed")};a.handleSoundReady=function(){if(null!=window.createjs){if(1E3*this.offset>this.getDuration())return this.playFailed(),void 0;0>this.offset&&(this.offset=0);this.playState=createjs.Sound.PLAY_SUCCEEDED;this.paused=!1;this.panNode.connect(this.owner.gainNode);var a=this.owner.arrayBuffers[this.src].duration;
this.sourceNode=this.createAndPlayAudioNode(this.owner.context.currentTime-a,this.offset);this.duration=1E3*a;this.startTime=this.sourceNode.startTime-this.offset;this.soundCompleteTimeout=setTimeout(this.endedHandler,1E3*(a-this.offset));0!=this.remainingLoops&&(this.sourceNodeNext=this.createAndPlayAudioNode(this.startTime,0))}};a.createAndPlayAudioNode=function(a,c){var d=this.owner.context.createBufferSource();return d.buffer=this.owner.arrayBuffers[this.src],d.connect(this.gainNode),this.owner.context.currentTime,
d.startTime=a+d.buffer.duration,d.start(d.startTime,c,d.buffer.duration-c),d};a.play=function(a,c,d,e,f,g){this.cleanUp();createjs.Sound.playInstance(this,a,c,d,e,f,g)};a.beginPlaying=function(a,c,d,e){return null!=window.createjs&&this.src?(this.offset=a/1E3,this.remainingLoops=c,this.volume=d,this.pan=e,this.owner.isPreloadComplete(this.src)?(this.handleSoundReady(null),this.sendEvent("succeeded"),1):(this.playFailed(),void 0)):void 0};a.pause=function(){return this.paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED?
!1:(this.paused=!0,this.offset=this.owner.context.currentTime-this.startTime,this.cleanUpAudioNode(this.sourceNode),this.cleanUpAudioNode(this.sourceNodeNext),0!=this.panNode.numberOfOutputs&&this.panNode.disconnect(),clearTimeout(this.delayTimeoutId),clearTimeout(this.soundCompleteTimeout),!0)};a.resume=function(){return this.paused?(this.handleSoundReady(null),!0):!1};a.stop=function(){return this.playState=createjs.Sound.PLAY_FINISHED,this.cleanUp(),this.offset=0,!0};a.setVolume=function(a){return this.volume=
a,!0};a.updateVolume=function(){var a=this.muted?0:this._volume;return a!=this.gainNode.gain.value?(this.gainNode.gain.value=a,!0):!1};a.getVolume=function(){return this.volume};a.setMute=function(a){return null==a||void 0==a?!1:(this.muted=a,this.updateVolume(),!0)};a.getMute=function(){return this.muted};a.setPan=function(a){return this.pan=a,this.pan!=a?!1:void 0};a.getPan=function(){return this.pan};a.getPosition=function(){return 1E3*(this.paused||null==this.sourceNode?this.offset:this.owner.context.currentTime-
this.startTime)};a.setPosition=function(a){return this.offset=a/1E3,this.sourceNode&&this.sourceNode.playbackState!=this.sourceNode.UNSCHEDULED_STATE&&(this.cleanUpAudioNode(this.sourceNode),this.cleanUpAudioNode(this.sourceNodeNext),clearTimeout(this.soundCompleteTimeout)),this.paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||this.handleSoundReady(null),!0};a.getDuration=function(){return this.duration};a.handleSoundComplete=function(){return this.offset=0,0!=this.remainingLoops?(this.remainingLoops--,
this.sourceNodeNext?(this.cleanUpAudioNode(this.sourceNode),this.sourceNode=this.sourceNodeNext,this.startTime=this.sourceNode.startTime,this.sourceNodeNext=this.createAndPlayAudioNode(this.startTime,0),this.soundCompleteTimeout=setTimeout(this.endedHandler,this.duration)):this.handleSoundReady(null),this.sendEvent("loop"),void 0):(null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FINISHED,this.cleanUp(),this.sendEvent("complete")),void 0)};a.playFailed=function(){null!=window.createjs&&
(this.playState=createjs.Sound.PLAY_FAILED,this.cleanUp(),this.sendEvent("failed"))};a.toString=function(){return"[WebAudioPlugin SoundInstance]"};createjs.EventDispatcher.initialize(c.prototype);createjs.WebAudioPlugin.SoundInstance=c})();
(function(){function c(a,c){this.init(a,c)}var a=c.prototype;a.request=null;a.owner=null;a.progress=-1;a.src=null;a.originalSrc=null;a.result=null;a.onload=null;a.onprogress=null;a.onError=null;a.init=function(a,c){this.originalSrc=this.src=a;this.owner=c};a.load=function(a){null!=a&&(this.src=a);this.request=new XMLHttpRequest;this.request.open("GET",this.src,!0);this.request.responseType="arraybuffer";this.request.onload=createjs.proxy(this.handleLoad,this);this.request.onError=createjs.proxy(this.handleError,
this);this.request.onprogress=createjs.proxy(this.handleProgress,this);this.request.send()};a.handleProgress=function(a,c){this.progress=a/c;null!=this.onprogress&&this.onprogress({loaded:a,total:c,progress:this.progress})};a.handleLoad=function(){this.owner.context.decodeAudioData(this.request.response,createjs.proxy(this.handleAudioDecoded,this),createjs.proxy(this.handleError,this))};a.handleAudioDecoded=function(a){this.progress=1;this.result=a;this.src=this.originalSrc;this.owner.addPreloadResults(this.src,
this.result);this.onload&&this.onload()};a.handleError=function(a){this.owner.removeSound(this.src);this.onerror&&this.onerror(a)};a.toString=function(){return"[WebAudioPlugin Loader]"};createjs.WebAudioPlugin.Loader=c})();this.createjs=this.createjs||{};
(function(){function c(){this.init()}c.MAX_INSTANCES=30;c.capabilities=null;c.AUDIO_READY="canplaythrough";c.AUDIO_ENDED="ended";c.AUDIO_SEEKED="seeked";c.AUDIO_ERROR="error";c.AUDIO_STALLED="stalled";c.enableIOS=!1;c.isSupported=function(){if(createjs.Sound.BrowserDetect.isIOS&&!c.enableIOS)return!1;c.generateCapabilities();return null==c.tag||null==c.capabilities?!1:!0};c.generateCapabilities=function(){if(null==c.capabilities){var a=c.tag=document.createElement("audio");if(null==a.canPlayType)return null;
c.capabilities={panning:!0,volume:!0,tracks:-1};for(var h=createjs.Sound.SUPPORTED_EXTENSIONS,d=createjs.Sound.EXTENSION_MAP,e=0,f=h.length;f>e;e++){var g=h[e],k=d[g]||g;c.capabilities[g]="no"!=a.canPlayType("audio/"+g)&&""!=a.canPlayType("audio/"+g)||"no"!=a.canPlayType("audio/"+k)&&""!=a.canPlayType("audio/"+k)}}};var a=c.prototype;a.capabilities=null;a.audioSources=null;a.defaultNumChannels=2;a.loadedHandler=null;a.init=function(){this.capabilities=c.capabilities;this.audioSources={}};a.register=
function(a,c){this.audioSources[a]=!0;for(var d=createjs.HTMLAudioPlugin.TagPool.get(a),e=null,f=c||this.defaultNumChannels,g=0;f>g;g++)e=this.createTag(a),d.add(e);if(e.id=a,this.loadedHandler=createjs.proxy(this.handleTagLoad,this),e.addEventListener&&e.addEventListener("canplaythrough",this.loadedHandler),null==e.onreadyy3change)e.onreadyy3change=this.loadedHandler;else{var k=e.onreadyy3change;e.onreadyy3change=function(){k();this.loadedHandler()}}return{tag:e,numChannels:f}};a.handleTagLoad=function(a){a.target.removeEventListener&&
a.target.removeEventListener("canplaythrough",this.loadedHandler);a.target.onreadyy3change=null;a.target.src!=a.target.id&&createjs.HTMLAudioPlugin.TagPool.checkSrc(a.target.id)};a.createTag=function(a){var c=document.createElement("audio");return c.autoplay=!1,c.y373="none",c.src=a,c};a.removeSound=function(a){delete this.audioSources[a];createjs.HTMLAudioPlugin.TagPool.remove(a)};a.removeAllSounds=function(){this.audioSources={};createjs.HTMLAudioPlugin.TagPool.removeAll()};a.create=function(a){if(!this.isPreloadStarted(a)){var c=
createjs.HTMLAudioPlugin.TagPool.get(a),d=this.createTag(a);d.id=a;c.add(d);this.y373(a,{tag:d})}return new createjs.HTMLAudioPlugin.SoundInstance(a,this)};a.isPreloadStarted=function(a){return null!=this.audioSources[a]};a.y373=function(a,c,d){this.audioSources[a]=!0;null!=d&&(c.tag.src=d+a);new createjs.HTMLAudioPlugin.Loader(a,c.tag)};a.toString=function(){return"[HTMLAudioPlugin]"};createjs.HTMLAudioPlugin=c})();
(function(){function c(a,c){this.init(a,c)}var a=c.prototype;a.src=null;a.uniqueId=-1;a.playState=null;a.owner=null;a.loaded=!1;a.offset=0;a.delay=0;a._volume=1;Object.defineProperty(a,"volume",{get:function(){return this._volume},set:function(a){null!=Number(a)&&(a=Math.max(0,Math.min(1,a)),this._volume=a,this.updateVolume())}});a.pan=0;a.duration=0;a.remainingLoops=0;a.delayTimeoutId=null;a.tag=null;a.muted=!1;a.paused=!1;a.addEventListener=null;a.removeEventListener=null;a.removeAllEventListeners=
null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;a.endedHandler=null;a.readyHandler=null;a.stalledHandler=null;a.loopHandler=null;a.init=function(a,c){this.src=a;this.owner=c;this.endedHandler=createjs.proxy(this.handleSoundComplete,this);this.readyHandler=createjs.proxy(this.handleSoundReady,this);this.stalledHandler=createjs.proxy(this.handleSoundStalled,this);this.loopHandler=createjs.proxy(this.handleSoundLoop,this)};a.sendEvent=function(a){a=new createjs.Event(a);this.dispatchEvent(a)};
a.cleanUp=function(){var a=this.tag;if(null!=a){a.pause();a.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_ENDED,this.endedHandler,!1);a.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1);a.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1);try{a.currentTime=0}catch(c){}createjs.HTMLAudioPlugin.TagPool.setInstance(this.src,a);this.tag=null}clearTimeout(this.delayTimeoutId);null!=window.createjs&&createjs.Sound.playFinished(this)};a.interrupt=
function(){null!=this.tag&&(this.playState=createjs.Sound.PLAY_INTERRUPTED,this.cleanUp(),this.paused=!1,this.sendEvent("interrupted"))};a.play=function(a,c,d,e,f,g){this.cleanUp();createjs.Sound.playInstance(this,a,c,d,e,f,g)};a.beginPlaying=function(a,c,d,e){if(null==window.createjs)return-1;var f=this.tag=createjs.HTMLAudioPlugin.TagPool.getInstance(this.src);return null==f?(this.playFailed(),-1):(f.addEventListener(createjs.HTMLAudioPlugin.AUDIO_ENDED,this.endedHandler,!1),this.offset=a,this.volume=
d,this.pan=e,this.updateVolume(),this.remainingLoops=c,4!==f.readyState?(f.addEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1),f.addEventListener(createjs.HTMLAudioPlugin.AUDIO_STALLED,this.stalledHandler,!1),f.y373="auto",f.load()):this.handleSoundReady(null),this.sendEvent("succeeded"),1)};a.handleSoundStalled=function(){this.cleanUp();this.sendEvent("failed")};a.handleSoundReady=function(){if(null!=window.createjs){if(this.duration=1E3*this.tag.duration,this.playState=createjs.Sound.PLAY_SUCCEEDED,
this.paused=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1),this.offset>=this.getDuration())return this.playFailed(),void 0;0<this.offset&&(this.tag.currentTime=0.0010*this.offset);-1==this.remainingLoops&&(this.tag.loop=!0);0!=this.remainingLoops&&(this.tag.addEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1),this.tag.loop=!0);this.tag.play()}};a.pause=function(){return this.paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||null==
this.tag?!1:(this.paused=!0,this.tag.pause(),clearTimeout(this.delayTimeoutId),!0)};a.resume=function(){return this.paused&&null!=this.tag?(this.paused=!1,this.tag.play(),!0):!1};a.stop=function(){return this.offset=0,this.pause(),this.playState=createjs.Sound.PLAY_FINISHED,this.cleanUp(),!0};a.setMasterVolume=function(){return this.updateVolume(),!0};a.setVolume=function(a){return this.volume=a,!0};a.updateVolume=function(){if(null!=this.tag){var a=this.muted||createjs.Sound.masterMute?0:this._volume*
createjs.Sound.masterVolume;return a!=this.tag.volume&&(this.tag.volume=a),!0}return!1};a.getVolume=function(){return this.volume};a.setMasterMute=function(){return this.updateVolume(),!0};a.setMute=function(a){return null==a||void 0==a?!1:(this.muted=a,this.updateVolume(),!0)};a.getMute=function(){return this.muted};a.setPan=function(){return!1};a.getPan=function(){return 0};a.getPosition=function(){return null==this.tag?this.offset:1E3*this.tag.currentTime};a.setPosition=function(a){if(null==this.tag)this.offset=
a;else{this.tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1);try{this.tag.currentTime=0.0010*a}catch(c){return!1}this.tag.addEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1)}return!0};a.getDuration=function(){return this.duration};a.handleSoundComplete=function(){this.offset=0;null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FINISHED,this.cleanUp(),this.sendEvent("complete"))};a.handleSoundLoop=function(){this.offset=0;this.remainingLoops--;
0==this.remainingLoops&&(this.tag.loop=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1));this.sendEvent("loop")};a.playFailed=function(){null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FAILED,this.cleanUp(),this.sendEvent("failed"))};a.toString=function(){return"[HTMLAudioPlugin SoundInstance]"};createjs.EventDispatcher.initialize(c.prototype);createjs.HTMLAudioPlugin.SoundInstance=c})();
(function(){function c(a,c){this.init(a,c)}var a=c.prototype;a.src=null;a.tag=null;a.y373Timer=null;a.loadedHandler=null;a.init=function(a,c){if(this.src=a,this.tag=c,this.y373Timer=setInterval(createjs.proxy(this.y373Tick,this),200),this.loadedHandler=createjs.proxy(this.sendLoadedEvent,this),this.tag.addEventListener&&this.tag.addEventListener("canplaythrough",this.loadedHandler),null==this.tag.onreadyy3change)this.tag.onreadyy3change=createjs.proxy(this.sendLoadedEvent,this);else{var d=this.tag.onreadyy3change;
this.tag.onreadyy3change=function(){d();this.tag.onreadyy3change=createjs.proxy(this.sendLoadedEvent,this)}}this.tag.y373="auto";this.tag.load()};a.y373Tick=function(){var a=this.tag.buffered,c=this.tag.duration;0<a.length&&a.end(0)>=c-1&&this.handleTagLoaded()};a.handleTagLoaded=function(){clearInterval(this.y373Timer)};a.sendLoadedEvent=function(){this.tag.removeEventListener&&this.tag.removeEventListener("canplaythrough",this.loadedHandler);this.tag.onreadyy3change=null;createjs.Sound.sendFileLoadEvent(this.src)};
a.toString=function(){return"[HTMLAudioPlugin Loader]"};createjs.HTMLAudioPlugin.Loader=c})();
(function(){function c(a){this.init(a)}c.tags={};c.get=function(a){var h=c.tags[a];return null==h&&(h=c.tags[a]=new c(a)),h};c.remove=function(a){var h=c.tags[a];return null==h?!1:(h.removeAll(),delete c.tags[a],!0)};c.removeAll=function(){for(var a in c.tags)c.tags[a].removeAll();c.tags={}};c.getInstance=function(a){a=c.tags[a];return null==a?null:a.get()};c.setInstance=function(a,h){var d=c.tags[a];return null==d?null:d.set(h)};c.checkSrc=function(a){a=c.tags[a];return null==a?null:(a.checkSrcChange(),
void 0)};var a=c.prototype;a.src=null;a.length=0;a.available=0;a.tags=null;a.init=function(a){this.src=a;this.tags=[]};a.add=function(a){this.tags.push(a);this.length++;this.available++};a.removeAll=function(){for(;this.length--;)delete this.tags[this.length];this.src=null;this.tags.length=0};a.get=function(){if(0==this.tags.length)return null;this.available=this.tags.length;var a=this.tags.pop();return null==a.parentNode&&document.body.appendChild(a),a};a.set=function(a){-1==createjs.indexOf(this.tags,
a)&&this.tags.push(a);this.available=this.tags.length};a.checkSrcChange=function(){for(var a=this.tags.length-1,c=this.tags[a].src;a--;)this.tags[a].src=c};a.toString=function(){return"[HTMLAudioPlugin TagPool]"};createjs.HTMLAudioPlugin.TagPool=c})();
(function(c){c.hideAddressbar=function(a){a="string"===typeof a?document.querySelector(a):a;var b=navigator.userAgent,h=~b.indexOf("iPhone")||~b.indexOf("iPod"),d=~b.indexOf("iPad"),e=h||d,f=~b.indexOf("Android"),g=c.navigator.standalone,k=0;(e||f)&&a&&(f&&c.addEventListener("scroll",function(){a.style.height=c.innerHeight+"px"},!1),function n(){var b=a.offsetWidth;k!==b&&(k=b,b=0,e?(b=document.documentElement.clientHeight,h&&!g&&(b+=60)):f&&(b=c.innerHeight+56),a.style.height=b+"px",setTimeout(scrollTo,
0,0,1),c.addEventListener("resize",n,!1),console.log("resizefunt"))}())}})(this);function isArrayContains(c,a){return-1<c.indexOf(a)}function addToArray(c,a){isArrayContains(c,a)||c.push(a)}function removeFromArray(c,a){isArrayContains(c,a)&&c.splice(c.indexOf(a,0),1)}function y260(c,a){c.cacheCanvas=a.cacheCanvas;c.cacheID=a.cacheID;c._cacheWidth=a._cacheWidth;c._cacheHeight=a._cacheHeight;c._cacheOffsetX=a._cacheOffsetX;c._cacheOffsetY=a._cacheOffsetY;c._cacheScale=a._cacheScale}
function deleteCache(c){c.cacheCanvas=null;c.cacheID=0}function y122(c){isLevelEditor&&console.log(c)}function y72(c){c.scaleX=c.scaleY=1.2*y227*(c.defaultScale?c.defaultScale:1)}function y208(c){c.scaleX=c.scaleY=y227*(c.defaultScale?c.defaultScale:1)}function y149(c){c.parent&&c.parent.removeChild(c)}function y154(c,a){y149(c);a&&a.addChild(c)}function setSpriteScale(c,a){c.scaleX=c.scaleY=a}
function setTextAndCenter(c,a,b,h){h.text!=b&&(h.text=b,b=h.getBounds(),h.x=c-(b.width>>1)*h.scaleX,a&&(h.y=a-(b.height>>1)*h.scaleY))}function setAnimationSpeed(c,a){c._animation.speed=a}
(function(c,a){function b(){function b(){var c;c=a("amd");c.fork=b;return c}return b()}function h(){function b(){var e,f=[],g={};e=a("global");e.fork=b;e.noConflict=function(){var a,b;b=Array.prototype.slice.apply(arguments);for(a=0;a<f.length;a+=1)"undefined"===typeof g[f[a]]?delete c[f[a]]:c[f[a]]=g[f[a]];g={};for(a=0;a<b.length;a+=1){if("string"!==typeof b[a])throw Error("Cannot replace namespaces. All new namespaces must be strings.");g[b[a]]=c[b[a]];c[b[a]]=e}return f=b};return e}b().noConflict("y399",
"k")}[].indexOf||(Array.prototype.indexOf=function(a,b,c){c=this.length;for(b=(c+~~b)%c;b<c&&(!(b in this)||this[b]!==a);b++);return b^c?b:-1});"function"===typeof define&&define.amd?define(b):h()})(this,function(c){function a(){window.addEventListener?(document.addEventListener("keydown",h,!1),document.addEventListener("keyup",d,!1),window.addEventListener("blur",b,!1),window.addEventListener("webkitfullscreenchange",b,!1),window.addEventListener("mozfullscreenchange",b,!1)):window.attachEvent&&
(document.attachEvent("onkeydown",h),document.attachEvent("onkeyup",d),window.attachEvent("onblur",b))}function b(a){K=[];g();k(a)}function h(a){var b,c;b=e(a.keyCode);if(!(1>b.length)){for(c=0;c<b.length;c+=1)y(b[c]);for(b=0;b<C.length;b+=1)if(c=s(C[b][0]),-1===N.indexOf(C[b])&&n(c))for(N.push(C[b]),c=0;c<C[b][1].length;c+=1)y(C[b][1][c]);var d,g,p,u,r,f,Q=[];c=[].concat(K);for(b=0;b<F.length;b+=1)d=w(F[b].keyCombo).length,Q[d]||(Q[d]=[]),Q[d].push(F[b]);for(d=Q.length-1;0<=d;d-=1)if(Q[d])for(b=
0;b<Q[d].length;b+=1){g=Q[d][b];p=w(g.keyCombo);f=!0;for(r=0;r<p.length;r+=1)if(-1===c.indexOf(p[r])){f=!1;break}if(f&&n(g.keyCombo)){I.push(g);for(r=0;r<p.length;r+=1)f=c.indexOf(p[r]),-1<f&&(c.splice(f,1),r-=1);for(p=0;p<g.keyDownCallback.length;p+=1)!1===g.keyDownCallback[p](a,x(),g.keyCombo)&&(u=!0);!0===u&&(a.preventDefault(),a.stopPropagation())}}}}function d(a){var b,c;b=e(a.keyCode);if(!(1>b.length)){for(c=0;c<b.length;c+=1)q(b[c]);g();k(a)}}function e(a){return G[a]||[]}function f(a){for(var b in G)if(G.hasOwnProperty(b)&&
-1<G[b].indexOf(a))return b;return!1}function g(){var a,b;for(a=0;a<N.length;a+=1)if(b=s(N[a][0]),!1===n(b)){for(b=0;b<N[a][1].length;b+=1)q(N[a][1][b]);N.splice(a,1);a-=1}}function k(a){var b,c,d,g;for(b=0;b<I.length;b+=1)if(d=I[b],!1===n(d.keyCombo)){for(c=0;c<d.keyUpCallback.length;c+=1)!1===d.keyUpCallback[c](a,x(),d.keyCombo)&&(g=!0);!0===g&&(a.preventDefault(),a.stopPropagation());I.splice(b,1);b-=1}}function m(a,b){var c,d,g;a=s(a);b=s(b);if(a.length!==b.length)return!1;for(c=0;c<a.length;c+=
1){if(a[c].length!==b[c].length)return!1;for(d=0;d<a[c].length;d+=1){if(a[c][d].length!==b[c][d].length)return!1;for(g=0;g<a[c][d].length;g+=1)if(-1===b[c][d].indexOf(a[c][d][g]))return!1}}return!0}function n(a){var b,c,d,g,e=0,u,r;a=s(a);for(b=0;b<a.length;b+=1){r=!0;for(c=e=0;c<a[b].length;c+=1){d=[].concat(a[b][c]);for(g=e;g<K.length;g+=1)u=d.indexOf(K[g]),-1<u&&(d.splice(u,1),e=g);if(0!==d.length){r=!1;break}}if(r)return!0}return!1}function w(a){var b,c,d=[];a=s(a);for(b=0;b<a.length;b+=1)for(c=
0;c<a[b].length;c+=1)d=d.concat(a[b][c]);return d}function s(a){var b=0,c=0,d=!1,g=!1,e=[],u=[],r=[],p="";if("object"===typeof a&&"function"===typeof a.push)return a;if("string"!==typeof a)throw Error('Cannot parse "keyCombo" because its type is "'+typeof a+'". It must be a "string".');for(;" "===a.charAt(b);)b+=1;for(;;){if(" "===a.charAt(b)){for(;" "===a.charAt(b);)b+=1;d=!0}else if(","===a.charAt(b)){if(c||g)throw Error("Failed to parse key combo. Unexpected , at character index "+b+".");g=!0;
b+=1}else if("+"===a.charAt(b)){p.length&&(r.push(p),p="");if(c||g)throw Error("Failed to parse key combo. Unexpected + at character index "+b+".");c=!0;b+=1}else if(">"===a.charAt(b)){p.length&&(r.push(p),p="");r.length&&(u.push(r),r=[]);if(c||g)throw Error("Failed to parse key combo. Unexpected > at character index "+b+".");c=!0;b+=1}else if(b<a.length-1&&"!"===a.charAt(b)&&(">"===a.charAt(b+1)||","===a.charAt(b+1)||"+"===a.charAt(b+1)))p+=a.charAt(b+1),g=d=c=!1,b+=2;else if(b<a.length&&"+"!==a.charAt(b)&&
">"!==a.charAt(b)&&","!==a.charAt(b)&&" "!==a.charAt(b)){if(!1===c&&!0===d||!0===g)p.length&&(r.push(p),p=""),r.length&&(u.push(r),r=[]),u.length&&(e.push(u),u=[]);for(g=d=c=!1;b<a.length&&"+"!==a.charAt(b)&&">"!==a.charAt(b)&&","!==a.charAt(b)&&" "!==a.charAt(b);)p+=a.charAt(b),b+=1}else{b+=1;continue}if(b>=a.length){p.length&&r.push(p);r.length&&u.push(r);u.length&&e.push(u);break}}return e}function t(a){var b,c,d=[];if("string"===typeof a)return a;if("object"!==typeof a||"function"!==typeof a.push)throw Error("Cannot stringify key combo.");
for(b=0;b<a.length;b+=1){d[b]=[];for(c=0;c<a[b].length;c+=1)d[b][c]=a[b][c].join(" + ");d[b]=d[b].join(" > ")}return d.join(" ")}function x(a){return[].concat(K)}function y(a){if(a.match(/\s/))throw Error("Cannot add key name "+a+" to active keys because it contains whitespace.");-1<K.indexOf(a)||K.push(a)}function q(a){var b=f(a);"91"===b||"92"===b?K=[]:K.splice(K.indexOf(a),1)}function A(a,b){if("string"!==typeof a)throw Error("Cannot register new locale. The locale name must be a string.");if("object"!==
typeof b)throw Error("Cannot register "+a+" locale. The locale map must be an object.");if("object"!==typeof b.map)throw Error("Cannot register "+a+" locale. The locale map is invalid.");b.macros||(b.macros=[]);H[a]=b}function z(a){if(a){if("string"!==typeof a)throw Error("Cannot set locale. The locale name must be a string.");if(!H[a])throw Error("Cannot set locale to "+a+" because it does not exist. If you would like to submit a "+a+" locale map for y399 please submit it at https://github.com/RobertWHurst/y399/issues.");
G=H[a].map;C=H[a].macros;E=a}return E}c={};var H={},E,G,C,K=[],F=[],I=[],N=[],L,p;p={map:{3:["cancel"],8:["backspace"],9:["tab"],12:["clear"],13:["enter"],16:["shift"],17:["ctrl"],18:["alt","menu"],19:["pause","break"],20:["capslock"],27:["escape","esc"],32:["space","spacebar"],33:["pageup"],34:["pagedown"],35:["end"],36:["home"],37:["left"],38:["up"],39:["right"],40:["down"],41:["select"],42:["printscreen"],43:["execute"],44:["snapshot"],45:["insert","ins"],46:["delete","del"],47:["help"],91:"command windows win super leftcommand leftwindows leftwin leftsuper".split(" "),
92:"command windows win super rightcommand rightwindows rightwin rightsuper".split(" "),145:["scrolllock","scroll"],186:["semicolon",";"],187:["equal","equalsign","="],188:["comma",","],189:["dash","-"],190:["period","."],191:["slash","forwardslash","/"],192:["graveaccent","`"],219:["openbracket","["],220:["backslash","\\"],221:["closebracket","]"],222:["apostrophe","'"],48:["zero","0"],49:["one","1"],50:["two","2"],51:["three","3"],52:["four","4"],53:["five","5"],54:["six","6"],55:["seven","7"],
56:["eight","8"],57:["nine","9"],96:["numzero","num0"],97:["numone","num1"],98:["numtwo","num2"],99:["numthree","num3"],100:["numfour","num4"],101:["numfive","num5"],102:["numsix","num6"],103:["numseven","num7"],104:["numeight","num8"],105:["numnine","num9"],106:["nummultiply","num*"],107:["numadd","num+"],108:["numenter"],109:["numsubtract","num-"],110:["numdecimal","num."],111:["numdevide","num/"],144:["numlock","num"],112:["f1"],113:["f2"],114:["f3"],115:["f4"],116:["f5"],117:["f6"],118:["f7"],
119:["f8"],120:["f9"],121:["f10"],122:["f11"],123:["f12"]},macros:[["shift + `",["tilde","~"]],["shift + 1",["exclamation","exclamationpoint","!"]],["shift + 2",["at","@"]],["shift + 3",["number","#"]],["shift + 4",["dollar","dollars","dollarsign","$"]],["shift + 5",["percent","%"]],["shift + 6",["caret","^"]],["shift + 7",["ampersand","and","&"]],["shift + 8",["asterisk","*"]],["shift + 9",["openparen","("]],["shift + 0",["closeparen",")"]],["shift + -",["underscore","_"]],["shift + =",["plus","+"]],
["shift + (",["opencurlybrace","opencurlybracket","{"]],["shift + )",["closecurlybrace","closecurlybracket","}"]],["shift + \\",["verticalbar","|"]],["shift + ;",["colon",":"]],["shift + '",["quotationmark",'"']],["shift + !,",["openanglebracket","<"]],["shift + .",["closeanglebracket",">"]],["shift + /",["questionmark","?"]]]};for(L=65;90>=L;L+=1)p.map[L]=String.fromCharCode(L+32),p.macros.push(["shift + "+String.fromCharCode(L+32)+", capslock + "+String.fromCharCode(L+32),[String.fromCharCode(L)]]);
A("us",p);z("us");a();c.enable=a;c.disable=function(){b();window.removeEventListener?(document.removeEventListener("keydown",h,!1),document.removeEventListener("keyup",d,!1),window.removeEventListener("blur",b,!1),window.removeEventListener("webkitfullscreenchange",b,!1),window.removeEventListener("mozfullscreenchange",b,!1)):window.detachEvent&&(document.detachEvent("onkeydown",h),document.detachEvent("onkeyup",d),window.detachEvent("onblur",b))};c.activeKeys=x;c.isPressed=function(a){return-1<K.indexOf(a)};
c.on=function(a,b,c){var d={},g,e=[],u,r;"string"===typeof a&&(a=s(a));for(u=0;u<a.length;u+=1){g={};r=t([a[u]]);if("string"!==typeof r)throw Error("Failed to bind key combo. The key combo must be string.");g.keyCombo=r;g.keyDownCallback=[];g.keyUpCallback=[];b&&g.keyDownCallback.push(b);c&&g.keyUpCallback.push(c);F.push(g);e.push(g)}d.clear=function(){var a;for(a=0;a<e.length;a+=1)F.splice(F.indexOf(e[a]),1)};d.on=function(a){var b={},c,d,u;if("string"!==typeof a)throw Error("Cannot bind callback. The event name must be a string.");
if("keyup"!==a&&"keydown"!==a)throw Error('Cannot bind callback. The event name must be a "keyup" or "keydown".');c=Array.prototype.slice.apply(arguments,[1]);for(d=0;d<c.length;d+=1)if("function"===typeof c[d])if("keyup"===a)for(u=0;u<e.length;u+=1)e[u].keyUpCallback.push(c[d]);else if("keydown"===a)for(u=0;u<e.length;u+=1)e[u].keyDownCallback.push(c[d]);b.clear=function(){var b,d;for(b=0;b<c.length;b+=1)if("function"===typeof c[b])if("keyup"===a)for(d=0;d<e.length;d+=1)e[d].keyUpCallback.splice(e[d].keyUpCallback.indexOf(c[b]),
1);else for(d=0;d<e.length;d+=1)e[d].keyDownCallback.splice(e[d].keyDownCallback.indexOf(c[b]),1)};return b};return d};c.clear=function(a){var b,c;for(b=0;b<F.length;b+=1)c=F[b],m(a,c.keyCombo)&&(F.splice(b,1),b-=1)};c.clear.key=function(a){var b,c,d;if(a)for(b=0;b<F.length;b+=1)for(d=F[b],c=0;c<d.keyCombo.length;c+=1){if(-1<d.keyCombo[c].indexOf(a)){F.splice(b,1);b-=1;break}}else F=[]};c.locale=z;c.locale.register=A;c.macro=function(a,b){if("string"!==typeof a&&("object"!==typeof a||"function"!==
typeof a.push))throw Error("Cannot create macro. The combo must be a string or array.");if("object"!==typeof b||"function"!==typeof b.push)throw Error("Cannot create macro. The injectedKeys must be an array.");C.push([a,b])};c.macro.remove=function(a){var b;if("string"!==typeof a&&("object"!==typeof a||"function"!==typeof a.push))throw Error("Cannot remove macro. The combo must be a string or array.");for(mI=0;mI<C.length;mI+=1)if(b=C[mI],m(a,b[0])){q(b[1]);C.splice(mI,1);break}};c.key={};c.key.name=
e;c.key.code=f;c.combo={};c.combo.active=n;c.combo.parse=s;c.combo.stringify=t;return c});
var y291=[[["DECOR_LAND_TYPE",367.15,241.1,0.58,0.58,0,[""]],["DECOR_HOUSE_TYPE",251.05,220.3,0.54,0.54,0,[""]],["DECOR_KUST_TYPE",272.55,233.8,0.61,0.61,0,[""]],["DECOR_KUST_TYPE",229.15,233.3,0.61,0.61,0,[""]],["DECOR_ZABOR_TYPE",217.6,232.45,0.62,0.62,0,[""]],["DECOR_KUST_TYPE",138.1,223.75,0.4,0.4,0,[""]],["DECOR_KUST_TYPE",100.75,229.65,0.41,0.41,0,[""]],["DECOR_MELNICA_TYPE",120.75,215.5,0.71,0.71,0,[""]],["DECOR_MELNICA_ROT_TYPE",117.85,203.9,0.41,0.41,0,[""]],["DECOR_ARROW_TYPE",129.7,240.35,
0.43,0.43,0,[""]],["DECOR_HELP_1_TYPE",255.45,144.25,0.72,0.72,0,[""]],["DECOR_BALK_3_TYPE",391,222.6,0.33,0.434,90,[""]],["DECOR_BALK_2_TYPE",26.95,210.5,0.29,0.289,25,[""]],["DECOR_BALK_4_TYPE",325.8,229.9,0.41,0.41,0,[""]],["DECOR_BALK_2_TYPE",177.15,93.45,0.28,0.28,43,[""]],["DECOR_BALK_5_TYPE",198.8,149.25,0.51,0.51,90,[""]],["DECOR_BALK_5_TYPE",198.8,218.45,0.55,0.55,90,[""]],["DECOR_BALK_4_TYPE",79.95,10.65,0.379,0.379,-23,[""]],["DECOR_BALK_4_TYPE",145.9,6.6,0.51,0.399,11,[""]],["DECOR_BALK_2_TYPE",
130.65,74.15,0.28,0.28,0,[""]],["DECOR_BALK_2_TYPE",82.45,92.75,0.298,0.297,-38,[""]],["AIM_TYPE",164.25,235.85,0.73,0.73,0,[""]],["BONUS_STAR_TYPE",324.05,81.9,0.68,0.68,0,[""]],["BONUS_STAR_TYPE",43.7,181.5,0.68,0.68,0,[""]],["BONUS_STAR_TYPE",88.7,29.85,0.65,0.65,0,[""]],["BONUS_DIAMOND_TYPE",41.15,89.2,0.7,0.7,0,[""]],["BONUS_MONEY_TYPE",197.4,46.55,0.71,0.71,0,[""]],["DECOR_BALK_3_TYPE",391,171,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",391,119,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",391,75.65,
0.19,0.4,90,[""]],["DECOR_BALK_3_TYPE",6.95,231.9,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",6.95,180.3,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",6.95,128.3,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",6.95,76.3,0.33,0.434,90,[""]],["DECOR_BALK_2_TYPE",73.7,232.25,0.29,0.289,25,[""]],["DECOR_BALK_4_TYPE",24.2,33.5,0.43,0.379,-22,[""]],["DECOR_BALK_4_TYPE",219.7,21.1,0.51,0.399,11,[""]],["DECOR_BALK_4_TYPE",294.2,34.75,0.51,0.399,11,[""]],["DECOR_BALK_4_TYPE",368.85,49.15,0.51,0.399,11,[""]],["HERO_TYPE",
324.9,199.3,0.51,0.51,0,[""]],["PHYSICS_RECT_TYPE",198.75,190.35,0.2,1.7,0,[""]],["PHYSICS_RECT_TYPE",244.65,19.75,3.728,0.248,11,[""]],["PHYSICS_RECT_TYPE",177.1,93.4,0.56,0.1,44,[""]],["PHYSICS_RECT_TYPE",393.3,158.3,0.2,2.19,0,[""]],["PHYSICS_RECT_TYPE",3.95,131.5,0.2,1.91,0,[""]],["PHYSICS_RECT_TYPE",48.1,229,1.13,0.29,25,[""]],["PHYSICS_RECT_TYPE",45.6,19.25,1.4,0.24,157,[""]],["PHYSICS_RECT_TYPE",129.65,73.45,0.56,0.1,-1,[""]],["PHYSICS_RECT_TYPE",82.55,92.55,0.57,0.124,-38,[""]],["PHYSICS_RECT_TYPE",
325.2,229.9,0.63,0.14,0,[""]],["PHYSICS_RECT_TYPE",200.8,263.15,4.53,0.25,0,[""]]],[["DECOR_MELNICA_TYPE",198.4,216.75,0.71,0.71,0,[""]],["DECOR_MELNICA_ROT_TYPE",195.5,205.15,0.41,0.41,0,[""]],["DECOR_HOUSE_2_TYPE",261.4,217.55,0.63,0.63,0,[""]],["DECOR_COW_TYPE",371.15,223.65,0.32,0.32,0,[""]],["DECOR_COW_TYPE",94.3,226.9,0.32,0.32,0,[""]],["DECOR_COW_TYPE",24.85,231,0.3,0.3,0,[""]],["DECOR_KUST_TYPE",219.05,239.7,0.61,0.61,0,[""]],["DECOR_KUST_TYPE",115.25,232.7,0.45,0.45,0,[""]],["DECOR_BALK_5_TYPE",
169.45,49.7,0.454,0.454,9,[""]],["DECOR_BALK_5_TYPE",230.55,59.5,0.489,0.489,9,[""]],["DECOR_BALK_5_TYPE",293.1,69.4,0.489,0.489,9,[""]],["DECOR_BALK_5_TYPE",46.45,35.35,0.454,0.454,0,[""]],["DECOR_BALK_5_TYPE",108.55,39.85,0.489,0.489,9,[""]],["BONUS_STAR_TYPE",315.05,103.35,0.65,0.65,0,[""]],["BONUS_STAR_TYPE",161.05,137.2,0.65,0.65,0,[""]],["BONUS_STAR_TYPE",46.05,60.4,0.65,0.65,0,[""]],["DECOR_BALK_2_TYPE",35.85,238.1,0.297,0.297,20,[""]],["AIM_TYPE",90.55,233.7,0.73,0.73,0,[""]],["DYNAMIC_BOX_TYPE",
145.55,230.95,0.71,0.71,0,[""]],["DECOR_BALK_3_TYPE",175.25,212.2,0.48,0.48,90,[""]],["DECOR_BALK_2_TYPE",191,151.15,0.28,0.28,-14,[""]],["DECOR_BALK_2_TYPE",143.35,163,0.28,0.28,-14,[""]],["DECOR_BALK_3_TYPE",392.55,223.15,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",392.55,171.55,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",392.55,119.55,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",8.5,216.8,0.386,0.508,90,[""]],["DECOR_BALK_3_TYPE",8.5,156.45,0.386,0.508,90,[""]],["DECOR_BALK_3_TYPE",8.5,95.6,0.386,0.508,
90,[""]],["DECOR_BALK_3_TYPE",8.5,34.75,0.386,0.508,90,[""]],["DECOR_BALK_5_TYPE",356.65,79.75,0.489,0.489,9,[""]],["HERO_DOC_TYPE",327.2,232.8,0.58,0.58,0,["INITED"]],["PHYSICS_RECT_TYPE",175.45,210.2,0.15,0.81,0,[""]],["PHYSICS_RECT_TYPE",242.45,59.5,3.728,0.248,9,[""]],["PHYSICS_RECT_TYPE",393.5,173,0.2,1.68,0,[""]],["PHYSICS_RECT_TYPE",8,142.95,0.2,2.33,0,[""]],["PHYSICS_RECT_TYPE",168.65,157.55,0.12,1.12,-104,[""]],["PHYSICS_RECT_TYPE",200.8,262.15,4.53,0.25,0,[""]],["PHYSICS_RECT_TYPE",47.8,
32.3,0.7,0.25,0,[""]],["PHYSICS_RECT_TYPE",36.1,238.05,0.57,0.124,20,[""]],["PHYSICS_RECT_TYPE",90.15,253.7,0.76,0.124,0,[""]]],[["DECOR_CIRCUS_TYPE",328.15,236.25,0.85,0.85,0,[""]],["DECOR_MELNICA_TYPE",53.35,222.8,0.71,0.71,0,[""]],["DECOR_MELNICA_ROT_TYPE",50.45,211.2,0.41,0.41,0,[""]],["DECOR_COW_TYPE",177.45,232.05,0.32,0.32,0,[""]],["BONUS_STAR_TYPE",354,147.4,0.65,0.65,0,[""]],["BONUS_STAR_TYPE",188,173,0.65,0.65,0,[""]],["DECOR_BALK_2_TYPE",87.7,28.45,0.299,0.299,-17,[""]],["DECOR_BALK_2_TYPE",
36.4,44.05,0.299,0.299,-17,[""]],["BONUS_STAR_TYPE",95.8,53,0.65,0.65,0,[""]],["DECOR_BALK_2_TYPE",362.5,126.65,0.263,0.263,17,[""]],["AIM_TYPE",364.6,106.25,0.73,0.73,0,[""]],["DECOR_BALK_2_TYPE",217.7,226.1,0.263,0.263,17,[""]],["DECOR_BALK_2_TYPE",172.7,212.15,0.263,0.263,17,[""]],["TELEPORT_TYPE",102.35,215.35,0.74,0.71,0,["IN"]],["TELEPORT_TYPE",189.6,46.9,0.74,0.71,0,["OUT"]],["DECOR_BALK_3_TYPE",8.5,214.2,0.386,0.508,90,[""]],["DECOR_BALK_3_TYPE",8.5,153.85,0.386,0.508,90,[""]],["DECOR_BALK_3_TYPE",
8.5,93,0.386,0.508,90,[""]],["DECOR_BALK_3_TYPE",8.5,32.15,0.386,0.508,90,[""]],["DECOR_BALK_3_TYPE",391.65,214.2,0.386,0.508,90,[""]],["DECOR_BALK_3_TYPE",391.65,153.85,0.386,0.508,90,[""]],["DECOR_BALK_3_TYPE",391.65,93,0.386,0.508,90,[""]],["DECOR_BALK_3_TYPE",391.65,32.15,0.386,0.508,90,[""]],["DECOR_BALK_2_TYPE",263.1,240.2,0.263,0.263,17,[""]],["DECOR_BALK_2_TYPE",342.7,36.95,0.299,0.299,-20,[""]],["DECOR_BALK_2_TYPE",294.3,54.7,0.299,0.299,-20,[""]],["DECOR_BALK_4_TYPE",44.1,144.4,0.27,0.27,
0,[""]],["BONUS_MONEY_TYPE",102.2,150.75,0.66,0.66,0,[""]],["BONUS_DIAMOND_TYPE",308.3,185.5,0.7,0.7,0,[""]],["DECOR_BALK_5_TYPE",146,25.45,0.453,0.453,90,[""]],["DECOR_BALK_5_TYPE",145.75,87.35,0.489,0.489,90,[""]],["DECOR_BALK_5_TYPE",145.55,150.65,0.489,0.489,90,[""]],["DECOR_BALK_5_TYPE",145.05,215.05,0.489,0.489,90,[""]],["DECOR_BALK_5_TYPE",266.1,21.8,0.322,0.322,90,[""]],["DECOR_BALK_5_TYPE",266.45,65.7,0.347,0.347,90,[""]],["DECOR_BALK_5_TYPE",266.3,110.65,0.347,0.347,90,[""]],["DECOR_BALK_5_TYPE",
265.95,156.4,0.347,0.347,90,[""]],["DECOR_BALK_4_TYPE",207.15,1.5,0.509,0.399,1,[""]],["HERO_WOMAN_TYPE",49.35,120.45,0.56,0.56,0,[""]],["PHYSICS_RECT_TYPE",145.1,133.15,0.18,3.05,0,[""]],["PHYSICS_RECT_TYPE",207.55,-0.85,0.84,0.2,0,[""]],["PHYSICS_RECT_TYPE",392.15,120.55,0.2,2.8,0,[""]],["PHYSICS_RECT_TYPE",8.2,123.95,0.2,2.91,0,[""]],["PHYSICS_RECT_TYPE",214.3,230.75,0.22,1.64,-73,[""]],["PHYSICS_RECT_TYPE",44.1,145.15,0.45,0.11,0,[""]],["PHYSICS_RECT_TYPE",266.05,89.35,0.14,1.98,0,[""]],["PHYSICS_RECT_TYPE",
59.8,34.25,1.31,0.19,-17,[""]],["PHYSICS_RECT_TYPE",328.75,39.7,1.45,0.17,-20,[""]],["PHYSICS_RECT_TYPE",364.15,127.15,0.56,0.11,18,[""]],["PHYSICS_RECT_TYPE",200.8,263.15,4.53,0.25,0,[""]]],[["DECOR_COW_TYPE",233.35,242.5,0.3,0.3,0,[""]],["DECOR_COW_TYPE",77.1,226.2,0.3,0.3,0,[""]],["DECOR_KUST_TYPE",62,235.3,0.45,0.45,0,[""]],["DECOR_KUST_TYPE",282.15,235.3,0.45,0.45,0,[""]],["DECOR_LAND_TYPE",215.25,255,0.58,0.58,0,[""]],["DECOR_HOUSE_3_TYPE",183.1,209.25,0.61,0.61,0,[""]],["DECOR_HOUSE_4_TYPE",
376.35,211.15,0.53,0.53,5,[""]],["DECOR_HELP_3_TYPE",328.9,159.45,0.75,0.75,0,[""]],["BONUS_STAR_TYPE",35.6,123.9,0.65,0.65,0,[""]],["DECOR_BALK_2_TYPE",28.75,236.65,0.263,0.263,29,[""]],["BONUS_STAR_TYPE",60.4,195.35,0.65,0.65,0,[""]],["BONUS_STAR_TYPE",82.55,39.75,0.65,0.65,0,[""]],["AIM_TYPE",118.35,232.75,0.73,0.73,0,[""]],["y125",321.2,232.25,0.62,0.62,0,["STRENGHT20"]],["DECOR_BALK_4_TYPE",257.2,198.05,0.32,0.35,0,[""]],["DECOR_BALK_5_TYPE",142.1,222.8,0.4,0.4,-90,[""]],["DECOR_BALK_4_TYPE",
79.95,15.15,0.379,0.379,-23,[""]],["DECOR_BALK_3_TYPE",6.95,231.9,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",6.95,180.3,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",6.95,128.3,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",6.95,76.3,0.33,0.434,90,[""]],["DECOR_BALK_4_TYPE",24.2,38,0.43,0.379,-22,[""]],["BONUS_MONEY_TYPE",142.2,78.05,0.71,0.71,0,[""]],["HERO_DOC_TYPE",256.35,174.45,0.58,0.58,0,["INITED"]],["PHYSICS_RECT_TYPE",142.25,232.5,0.15,0.81,0,[""]],["PHYSICS_RECT_TYPE",13.45,20.75,2.06,0.56,-22,[""]],
["PHYSICS_RECT_TYPE",1.25,148.1,0.31,2.32,0,[""]],["PHYSICS_RECT_TYPE",258.25,198.15,0.12,0.52,-90,[""]],["PHYSICS_RECT_TYPE",23.1,235.55,0.15,0.64,-61,[""]],["PHYSICS_RECT_TYPE",200.8,263.15,4.53,0.25,0,[""]]],[["DECOR_MELNICA_TYPE",365.85,223.75,0.71,0.71,0,[""]],["DECOR_MELNICA_ROT_TYPE",362.95,212.15,0.41,0.41,0,[""]],["DECOR_COW_TYPE",141.4,227.6,0.3,0.3,0,[""]],["DANGER_TYPE",279.45,37.45,0.86,0.86,0,[""]],["DECOR_BALK_3_TYPE",5.35,221.75,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",5.35,170.15,
0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",5.35,118.15,0.33,0.434,90,[""]],["DECOR_BALK_2_TYPE",78,33,0.299,0.299,-17,[""]],["DECOR_BALK_2_TYPE",27.5,49.1,0.299,0.299,-17,[""]],["DECOR_BALK_3_TYPE",5.35,70.95,0.24,0.434,90,[""]],["DECOR_BALK_3_TYPE",393.15,221.75,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",393.15,170.15,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",393.15,118.15,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",393.15,66.15,0.33,0.434,90,[""]],["DECOR_BALK_4_TYPE",131.25,26.7,0.509,0.399,0,[""]],["DECOR_BALK_4_TYPE",
206.35,27.05,0.509,0.399,0,[""]],["DECOR_BALK_4_TYPE",281.1,27.05,0.509,0.399,0,[""]],["DECOR_BALK_4_TYPE",356.1,26.65,0.509,0.399,0,[""]],["AIM_TYPE",373.9,116.3,0.73,0.73,0,[""]],["DECOR_BALK_2_TYPE",179.35,119.05,0.263,0.263,5,[""]],["DECOR_BALK_2_TYPE",224.9,123.05,0.263,0.263,5,[""]],["DECOR_BALK_2_TYPE",270.2,127,0.263,0.263,5,[""]],["DECOR_BALK_2_TYPE",315.5,131,0.263,0.263,5,[""]],["DECOR_BALK_2_TYPE",361.35,135,0.263,0.263,5,[""]],["DECOR_BALK_4_TYPE",151.65,172.05,0.33,0.33,16,[""]],["DECOR_BALK_2_TYPE",
179.45,159.7,0.263,0.263,0,[""]],["DECOR_BALK_2_TYPE",225.2,159.85,0.263,0.263,0,[""]],["DECOR_BALK_4_TYPE",293.75,172.05,0.33,0.33,16,[""]],["DECOR_BALK_2_TYPE",270.7,160,0.263,0.263,0,[""]],["DECOR_BALK_2_TYPE",316.1,160.2,0.263,0.263,0,[""]],["DECOR_BALK_2_TYPE",362.15,160.3,0.263,0.263,0,[""]],["DECOR_BALK_2_TYPE",133.45,159.95,0.263,0.263,0,[""]],["DECOR_BALK_5_TYPE",132.25,133.15,0.38,0.35,137,[""]],["DECOR_BALK_2_TYPE",179.35,240.25,0.292,0.291,-14,[""]],["DECOR_BALK_2_TYPE",250.25,234.75,
0.16,0.3,-92,[""]],["DECOR_BALK_2_TYPE",230.55,227.85,0.292,0.291,-14,[""]],["DECOR_BALK_2_TYPE",45.6,240.25,0.292,0.291,-14,[""]],["DECOR_BALK_2_TYPE",116.5,234.75,0.16,0.3,-92,[""]],["DECOR_BALK_2_TYPE",96.8,227.85,0.292,0.291,-14,[""]],["BONUS_STAR_TYPE",210.15,185.2,0.65,0.65,0,[""]],["BONUS_STAR_TYPE",42.45,70.8,0.65,0.65,0,[""]],["BONUS_STAR_TYPE",257.8,98.4,0.65,0.65,0,[""]],["BONUS_MONEY_TYPE",200.8,51.95,0.71,0.71,0,[""]],["BONUS_DIAMOND_TYPE",38,211.25,0.7,0.7,0,[""]],["HERO_TYPE",293.9,
225.55,0.51,0.51,0,[""]],["PHYSICS_RECT_TYPE",3.6,158,0.2,2.91,0,[""]],["PHYSICS_RECT_TYPE",395.9,146,0.2,2.91,0,[""]],["PHYSICS_RECT_TYPE",241.3,24.3,0.2,3.23,90,[""]],["PHYSICS_RECT_TYPE",49.45,38.25,0.22,1.54,73,[""]],["PHYSICS_RECT_TYPE",246.3,156.9,0.17,3.05,90,[""]],["PHYSICS_RECT_TYPE",283,130.6,0.17,3.05,95,[""]],["PHYSICS_RECT_TYPE",130.5,133.4,0.11,0.55,47,[""]],["PHYSICS_RECT_TYPE",149,170.2,0.13,0.6,-75,[""]],["PHYSICS_RECT_TYPE",291.35,170.4,0.13,0.6,-75,[""]],["PHYSICS_RECT_TYPE",68.15,
234.8,0.13,1.2,-104,[""]],["PHYSICS_RECT_TYPE",202.65,234.75,0.13,1.2,-104,[""]],["PHYSICS_RECT_TYPE",115.65,240.9,0.14,0.3,179,[""]],["PHYSICS_RECT_TYPE",200.8,263.15,4.53,0.25,0,[""]]],[["DECOR_WINDOW_TYPE",58.75,183.15,1,1,0,[""]],["DECOR_WINDOW_TYPE",329.05,184.15,1,1,0,[""]],["DECOR_VENT_TYPE",62.1,29.65,1,1,0,[""]],["DECOR_GRAM_TYPE",259.2,225.5,1,1,0,[""]],["DECOR_PICT_1_TYPE",209.25,114.6,1,1,0,[""]],["DECOR_VESHALKA_TYPE",137.35,221.1,1,1,-90,[""]],["BONUS_STAR_TYPE",191.5,116,0.65,0.65,
0,[""]],["BONUS_MONEY_TYPE",204.35,57.8,0.71,0.71,0,[""]],["BONUS_GHOST_TYPE",138.6,168.5,1.29,0.74,0,["7"]],["BONUS_DIAMOND_TYPE",278.45,66.35,0.7,0.7,0,[""]],["DECOR_BALK_2_TYPE",269.45,95.65,0.289,0.289,-172,[""]],["DECOR_BALK_2_TYPE",184,34.8,0.289,0.289,158,[""]],["DECOR_BALK_2_TYPE",234.95,25.4,0.289,0.289,0,[""]],["DECOR_BALK_2_TYPE",286.25,25.9,0.289,0.289,0,[""]],["BONUS_GHOST_TYPE",279.1,132.15,1.36,0.81,0,["12"]],["DECOR_BALK_2_TYPE",320.7,103.05,0.289,0.289,-172,[""]],["DECOR_BALK_2_TYPE",
365.7,82.65,0.289,0.289,123,[""]],["AIM_TYPE",339.35,85.55,0.73,0.73,0,[""]],["BONUS_GHOST_TYPE",79.05,90.3,1.08,0.74,0,["7"]],["HERO_WOMAN_TYPE",196.35,232.7,0.56,0.56,0,[""]],["PHYSICS_RECT_TYPE",200.8,262.65,4.53,0.25,0,[""]],["PHYSICS_RECT_TYPE",259.95,23.7,0.16,1.17,90,[""]],["PHYSICS_RECT_TYPE",295.25,99.7,0.13,1.17,-82,[""]],["PHYSICS_RECT_TYPE",193.4,30.5,0.12,0.81,-113,[""]],["PHYSICS_RECT_TYPE",366.6,83.3,0.12,0.62,-147,[""]]],[["DECOR_MELNICA_TYPE",72.9,220.95,0.71,0.71,0,[""]],["DECOR_MELNICA_ROT_TYPE",
70,209.35,0.41,0.41,0,[""]],["DECOR_COW_TYPE",290.7,232.3,0.3,0.3,0,[""]],["DECOR_KUST_TYPE",299.05,234.9,0.45,0.45,0,[""]],["DECOR_KUST_TYPE",95.5,232,0.45,0.45,0,[""]],["DECOR_HOUSE_3_TYPE",172.8,217.85,0.3,0.3,0,[""]],["DECOR_BALK_3_TYPE",5.35,221.75,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",5.35,170.15,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",5.35,118.15,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",393.15,221.75,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",393.15,170.15,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",
393.15,118.15,0.33,0.434,90,[""]],["DECOR_BALK_4_TYPE",206.35,27.05,0.509,0.399,0,[""]],["DECOR_BALK_4_TYPE",279.95,34.6,0.509,0.399,11,[""]],["DECOR_BALK_4_TYPE",350.65,54.65,0.509,0.399,21,[""]],["DECOR_BALK_2_TYPE",182.8,233.9,0.289,0.289,143,[""]],["DECOR_BALK_2_TYPE",36.35,233.4,0.292,0.291,26,[""]],["BONUS_STAR_TYPE",134.45,189.9,0.65,0.65,0,[""]],["BONUS_STAR_TYPE",127.95,50.05,0.65,0.65,0,[""]],["BONUS_STAR_TYPE",356.8,85.1,0.65,0.65,0,[""]],["BONUS_MONEY_TYPE",231.25,61.1,0.71,0.71,0,[""]],
["DECOR_BALK_2_TYPE",239.65,239.2,0.289,0.289,22,[""]],["BONUS_DIAMOND_TYPE",238.55,211.25,0.7,0.7,0,[""]],["AIM_TYPE",46.05,123.9,0.73,0.73,0,[""]],["DOOR_TYPE",48.9,144.65,0.59,0.59,0,["A_80"]],["DECOR_BALK_3_TYPE",91.7,181.75,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",91.7,102.45,0.4,0.434,90,[""]],["DECOR_BALK_3_TYPE",91.7,50.45,0.33,0.434,90,[""]],["DECOR_BALK_4_TYPE",126.75,26.7,0.58,0.399,0,[""]],["BONUS_GHOST_TYPE",319,165,0.91,0.64,0,["7"]],["DECOR_BALK_5_TYPE",212.35,140.25,0.347,0.347,90,
[""]],["DECOR_BALK_5_TYPE",212.2,185.2,0.347,0.347,90,[""]],["DECOR_BALK_5_TYPE",211.85,230.95,0.347,0.347,90,[""]],["ACTIVATOR_TYPE",126.75,248.4,0.7,0.7,0,["A"]],["DECOR_BALK_3_TYPE",5.35,63.8,0.33,0.434,90,[""]],["BONUS_GHOST_TYPE",153.35,116.8,0.74,0.64,0,["6"]],["HERO_DOC_TYPE",354.7,228,0.58,0.58,0,["INITED"]],["PHYSICS_RECT_TYPE",3.6,141.75,0.2,2.42,0,[""]],["PHYSICS_RECT_TYPE",395.9,146,0.2,2.91,0,[""]],["PHYSICS_RECT_TYPE",163.6,23.6,0.2,1.77,90,[""]],["PHYSICS_RECT_TYPE",36.35,234,0.11,
0.6,115,[""]],["PHYSICS_RECT_TYPE",183.15,233.7,0.12,0.539,53,[""]],["PHYSICS_RECT_TYPE",91.6,81.95,0.13,1.2,0,[""]],["PHYSICS_RECT_TYPE",200.8,263.15,4.53,0.25,0,[""]],["PHYSICS_RECT_TYPE",279.15,33.15,0.15,0.83,101,[""]],["PHYSICS_RECT_TYPE",350.15,54.45,0.15,0.82,111,[""]],["PHYSICS_RECT_TYPE",92.1,181.7,0.13,0.6,0,[""]],["PHYSICS_RECT_TYPE",212.2,184.85,0.13,1.45,0,[""]],["PHYSICS_RECT_TYPE",239.85,240,0.119,0.538,-68,[""]]],[["DECOR_VENT_TYPE",330.35,38.3,1,1,0,[""]],["DECOR_VENT_TYPE",58.45,
41.35,1,1,0,[""]],["DECOR_PICT_1_TYPE",199.3,96.25,0.73,0.73,0,[""]],["DECOR_WINDOW_TYPE",371.4,189.45,1,1,0,[""]],["DECOR_WINDOW_TYPE",40.6,186.65,1,1,0,[""]],["DECOR_BALK_6_TYPE",162.2,222.2,0.84,0.67,-90,[""]],["DECOR_BALK_6_TYPE",241.25,223.35,0.84,0.67,-90,[""]],["DECOR_BALK_6_TYPE",73.75,222.55,0.84,0.49,-90,[""]],["DECOR_BALK_6_TYPE",327.25,221.85,0.84,0.49,-90,[""]],["DOOR_TYPE",197.15,48.15,0.59,0.59,0,["A_80"]],["ACTIVATOR_TYPE",117.5,246.2,0.7,0.7,0,["A"]],["ACTIVATOR_TYPE",287.2,246.2,
0.7,0.7,0,["B"]],["PHYSICS_MAN_BLOCK_TYPE",284,186.8,0.51,0.51,0,[""]],["PHYSICS_WOMAN_BLOCK_TYPE",118.95,186.2,0.51,0.51,0,[""]],["GLASS_BLOCK_TYPE",200.95,177.9,0.5,0.5,0,[""]],["DOOR_TYPE",197.5,66.55,0.59,0.59,0,["B_80"]],["AIM_TYPE",197.65,26.5,0.73,0.73,0,[""]],["DECOR_BALK_2_TYPE",130.55,73.1,0.289,0.289,169,[""]],["DECOR_BALK_2_TYPE",30.7,96.95,0.289,0.289,158,[""]],["DECOR_BALK_2_TYPE",79.6,82.9,0.289,0.289,169,[""]],["DECOR_BALK_2_TYPE",362.85,112.25,0.289,0.289,-154,[""]],["DECOR_BALK_2_TYPE",
264.5,81.55,0.289,0.289,-166,[""]],["DECOR_BALK_2_TYPE",314.2,94.55,0.289,0.289,-165,[""]],["DECOR_BALK_3_TYPE",152.05,33.25,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",240.05,12.8,0.33,0.434,90,[""]],["BONUS_STAR_TYPE",199.2,83.7,0.65,0.65,0,[""]],["BONUS_MONEY_TYPE",78.2,118.9,0.71,0.71,0,[""]],["BONUS_MONEY_TYPE",316.6,128.3,0.71,0.71,0,[""]],["BONUS_DIAMOND_TYPE",200.7,153.85,0.7,0.7,0,[""]],["HERO_TYPE",36.3,231.75,0.51,0.51,0,[""]],["HERO_DOC_TYPE",199.2,232.45,0.58,0.58,0,["INITED"]],["HERO_WOMAN_TYPE",
366.65,234.2,0.56,0.56,0,[""]],["PHYSICS_RECT_TYPE",200.8,262.65,4.53,0.25,0,[""]],["PHYSICS_RECT_TYPE",73.45,222.15,0.1,0.65,0,[""]],["PHYSICS_RECT_TYPE",327.75,221.75,0.1,0.65,0,[""]],["PHYSICS_RECT_TYPE",145.05,32.05,0.31,0.67,0,[""]],["PHYSICS_RECT_TYPE",238.85,10.9,0.1,0.65,0,[""]],["PHYSICS_RECT_TYPE",162.3,222.15,0.13,0.65,0,[""]],["PHYSICS_RECT_TYPE",240.95,223.35,0.13,0.65,0,[""]],["PHYSICS_RECT_TYPE",105.3,76.6,0.13,1.16,79,[""]],["PHYSICS_RECT_TYPE",289.75,88.05,0.13,1.16,105,[""]],["PHYSICS_RECT_TYPE",
29.45,97.55,0.12,0.56,67,[""]],["PHYSICS_RECT_TYPE",363,112.4,0.12,0.56,115,[""]]],[["DECOR_BALK_1_TYPE",83.8,231.5,0.24,0.31,90,[""]],["DECOR_BALK_1_TYPE",116.2,223.75,0.31,0.31,18,[""]],["DECOR_BALK_1_TYPE",167.9,240.1,0.31,0.31,18,[""]],["DANGER_TYPE",242.2,161.1,0.86,0.86,0,[""]],["AIM_TYPE",371.8,235.1,0.73,0.73,0,[""]],["DECOR_BALK_1_TYPE",47,85.45,0.309,0.309,-32,[""]],["DECOR_BALK_1_TYPE",92.7,56.45,0.309,0.309,-32,[""]],["DECOR_BALK_1_TYPE",124.95,72.85,0.31,0.31,90,[""]],["DECOR_BALK_1_TYPE",
125.4,127.05,0.31,0.31,90,[""]],["BONUS_STAR_TYPE",325.15,232.4,0.65,0.65,0,[""]],["BONUS_MONEY_TYPE",136.7,210.6,0.71,0.71,0,[""]],["BONUS_DIAMOND_TYPE",97.1,88.6,0.7,0.7,0,[""]],["BONUS_STAR_TYPE",22.7,136,0.65,0.65,0,[""]],["HERO_TYPE",50.05,230.9,0.51,0.51,0,[""]],["HERO_WOMAN_TYPE",246.2,234.55,0.56,0.56,0,[""]],["PHYSICS_RECT_TYPE",200.8,262.65,4.53,0.25,0,[""]],["PHYSICS_RECT_TYPE",410,152.85,0.2,2.19,0,[""]],["PHYSICS_RECT_TYPE",141.2,231.75,0.12,1.189,107,[""]],["PHYSICS_RECT_TYPE",125,100.9,
0.12,1.19,0,[""]],["PHYSICS_RECT_TYPE",69.45,70.75,0.12,1.19,58,[""]],["PHYSICS_RECT_TYPE",83.8,230.1,0.11,0.43,0,[""]]],[["DECOR_STUL_TYPE",275.5,220.05,1,1,-90,[""]],["DECOR_STUL_TYPE",248.9,220.35,1,1,-90,[""]],["DECOR_CAT_2_TYPE",383.6,250.25,1,1,0,[""]],["DECOR_VENT_TYPE",355.45,24.85,1,1,0,[""]],["DECOR_PICT_2_TYPE",218.5,141.5,0.95,0.95,-90,[""]],["DECOR_VENT_TYPE",97.5,22.65,1,1,0,[""]],["DECOR_PICT_3_TYPE",370.3,142.1,1,1,-90,[""]],["TELEGA_TYPE",275.2,72.05,1.57,0.72,180,["10"]],["TELEPORT_TYPE",
203.1,223.7,0.74,0.71,0,["IN"]],["TELEPORT_TYPE",33.35,54.95,0.74,0.71,0,["OUT"]],["DECOR_BALK_2_TYPE",28.25,116.85,0.35,0.31,15,[""]],["DECOR_BALK_2_TYPE",113.2,173,0.35,0.31,-26,[""]],["DECOR_BALK_2_TYPE",28.25,237.35,0.35,0.31,15,[""]],["DECOR_BALK_2_TYPE",144.2,60,0.35,0.31,90,[""]],["DECOR_BALK_2_TYPE",144.2,122.75,0.35,0.31,90,[""]],["DECOR_BALK_2_TYPE",157.4,221.95,0.35,0.31,90,[""]],["AIM_TYPE",128.65,235.65,0.73,0.73,0,[""]],["BONUS_DIAMOND_TYPE",274.2,92.3,0.7,0.7,0,[""]],["BONUS_STAR_TYPE",
32.3,94.6,0.65,0.65,0,[""]],["BONUS_STAR_TYPE",105.7,146.05,0.65,0.65,0,[""]],["BONUS_STAR_TYPE",33.2,212.6,0.65,0.65,0,[""]],["HERO_DOC_TYPE",332,230.3,0.58,0.58,0,["INITED"]],["PHYSICS_RECT_TYPE",200.8,262.65,4.53,0.25,0,[""]],["PHYSICS_RECT_TYPE",-10.5,147.3,0.2,2.33,0,[""]],["PHYSICS_RECT_TYPE",112.75,172.7,0.13,0.67,64,[""]],["PHYSICS_RECT_TYPE",28.65,116.85,0.13,0.67,105,[""]],["PHYSICS_RECT_TYPE",28.65,237.4,0.13,0.67,104,[""]],["PHYSICS_RECT_TYPE",157.4,220.5,0.13,0.67,0,[""]],["PHYSICS_RECT_TYPE",
144.2,91.55,0.13,1.39,0,[""]]],[["DECOR_VENT_TYPE",168.85,43.1,1,1,0,[""]],["DECOR_WINDOW_TYPE",114.05,187.95,1,1,0,[""]],["DECOR_CAT_1_TYPE",186.15,246.3,1,1,0,[""]],["DECOR_PIANO_TYPE",372.85,224.6,1,1,0,[""]],["DECOR_BALK_7_TYPE",48.8,111.3,0.83,0.83,20,[""]],["DECOR_BALK_7_TYPE",123.5,125.6,0.83,0.83,0,[""]],["DANGER_TYPE",118.8,7.5,0.86,0.86,0,[""]],["DECOR_BALK_7_TYPE",198.8,140.4,0.83,0.83,19,[""]],["DECOR_BALK_7_TYPE",361.15,154.05,0.83,0.83,0,[""]],["DECOR_BALK_7_TYPE",286.4,154.5,0.83,0.83,
0,[""]],["DECOR_BALK_6_TYPE",371.8,124.95,0.63,1.45,-90,[""]],["PHYSICS_MAN_BLOCK_TYPE",241.9,116.55,0.46,0.46,-90,[""]],["DECOR_BALK_7_TYPE",259.35,73.65,0.83,0.83,0,[""]],["DECOR_BALK_7_TYPE",333.85,27.8,0.83,0.83,33,[""]],["DECOR_BALK_7_TYPE",260.1,7.15,0.83,0.83,0,[""]],["DECOR_BALK_7_TYPE",215.9,38.75,0.83,0.83,90,[""]],["AIM_TYPE",244.55,50.95,0.73,0.73,0,[""]],["DECOR_BALK_7_TYPE",215.35,227.3,0.83,0.83,21,[""]],["TELEPORT_TYPE",312.1,226,0.74,0.71,0,["IN"]],["TELEPORT_TYPE",47.8,47.35,0.74,
0.71,0,["OUT"]],["DECOR_BALK_7_TYPE",47.6,152.45,0.83,0.83,-31,[""]],["DECOR_BALK_7_TYPE",100.9,218,0.83,0.83,90,[""]],["DECOR_BALK_7_TYPE",145.4,199.75,0.83,0.83,21,[""]],["BONUS_STAR_TYPE",299.35,131.1,0.65,0.65,0,[""]],["BONUS_MONEY_TYPE",211.3,105.65,0.71,0.71,0,[""]],["BONUS_DIAMOND_TYPE",336.45,66.35,0.7,0.7,0,[""]],["BONUS_STAR_TYPE",130.35,169.1,0.65,0.65,0,[""]],["BONUS_MONEY_TYPE",258.8,212.65,0.71,0.71,0,[""]],["HERO_TYPE",120,95.5,0.51,0.51,0,[""]],["HERO_WOMAN_TYPE",46.8,238.9,0.56,0.56,
0,[""]],["PHYSICS_RECT_TYPE",200.8,262.65,4.53,0.25,0,[""]],["PHYSICS_RECT_TYPE",317.25,154.15,0.138,1.48,90,[""]],["PHYSICS_RECT_TYPE",178.25,213.2,0.138,1.68,111,[""]],["PHYSICS_RECT_TYPE",100.75,214.9,0.13,0.75,0,[""]],["PHYSICS_RECT_TYPE",215.5,38.7,0.13,0.81,0,[""]],["PHYSICS_RECT_TYPE",264.25,7.4,0.13,0.75,90,[""]],["PHYSICS_RECT_TYPE",333.6,28.05,0.13,0.82,124,[""]],["PHYSICS_RECT_TYPE",258.25,73.5,0.13,0.79,90,[""]],["PHYSICS_RECT_TYPE",124.05,125.2,0.13,0.79,90,[""]],["PHYSICS_RECT_TYPE",
198.8,140.4,0.13,0.79,110,[""]],["PHYSICS_RECT_TYPE",48.4,111.3,0.13,0.79,110,[""]],["PHYSICS_RECT_TYPE",47.75,152.1,0.13,0.79,58,[""]],["PHYSICS_RECT_TYPE",371.35,124.85,0.31,0.5,0,[""]]],[["DECOR_BALK_2_TYPE",111.6,147.75,0.28,0.32,31,[""]],["DECOR_BALK_2_TYPE",176.5,157.05,0.16,0.34,90,[""]],["DECOR_BALK_2_TYPE",183.25,163.8,0.51,0.39,0,[""]],["DECOR_BALK_3_TYPE",7.25,230.65,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",7.25,179.05,0.33,0.434,90,[""]],["DECOR_BALK_2_TYPE",-10.5,138,0.379,0.399,0,[""]],
["DECOR_BALK_2_TYPE",21.35,89.4,0.379,0.399,12,[""]],["DECOR_BALK_3_TYPE",7.25,127.05,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",7.25,75.05,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",397.95,230.65,0.33,0.434,90,[""]],["AIM_TYPE",374.55,159.95,0.73,0.73,0,[""]],["DECOR_BALK_2_TYPE",366.15,181.3,0.28,0.32,2,[""]],["DECOR_BALK_3_TYPE",397.95,179.05,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",397.95,127.05,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",397.95,75.05,0.33,0.434,90,[""]],["DECOR_BALK_2_TYPE",343.15,
22.6,0.649,0.35,15,[""]],["DECOR_BALK_3_TYPE",397.2,21,0.33,0.434,90,[""]],["DYNAMIC_RECT_TYPE",59.1,124.75,0.79,0.79,0,[""]],["y125",79.25,103.65,0.62,0.62,0,["STRENGHT20"]],["DECOR_BALK_3_TYPE",7.25,20.8,0.33,0.434,90,[""]],["DANGER_TYPE",194.1,18.05,0.86,0.86,0,[""]],["DECOR_BALK_4_TYPE",52.5,6.4,0.509,0.399,0,[""]],["DECOR_BALK_4_TYPE",127.6,6.75,0.509,0.399,0,[""]],["DECOR_BALK_4_TYPE",202.35,6.75,0.509,0.399,0,[""]],["DECOR_BALK_4_TYPE",277.35,6.35,0.509,0.399,0,[""]],["DECOR_BALK_4_TYPE",352.5,
6.35,0.509,0.399,0,[""]],["DANGER_TYPE",309.2,250,0.86,0.86,0,[""]],["DECOR_BALK_2_TYPE",367.4,106.75,0.28,0.32,2,[""]],["DECOR_BALK_2_TYPE",217.25,245.1,0.51,0.39,-8,[""]],["BONUS_DIAMOND_TYPE",218.45,220.15,0.7,0.7,0,[""]],["BONUS_STAR_TYPE",220.5,58.65,0.65,0.65,0,[""]],["BONUS_MONEY_TYPE",49.95,188.45,0.71,0.71,0,[""]],["HERO_DOC_TYPE",368.7,80.35,0.58,0.58,0,["INITED"]],["HERO_TYPE",215.7,139.85,0.51,0.51,0,["INITED"]],["PHYSICS_RECT_TYPE",200.8,268.65,4.53,0.25,0,[""]],["PHYSICS_RECT_TYPE",
181.25,165.2,0.15,1.04,90,[""]],["PHYSICS_RECT_TYPE",-15,137.65,0.15,0.84,90,[""]],["PHYSICS_RECT_TYPE",110.3,147.85,0.11,0.58,-60,[""]],["PHYSICS_RECT_TYPE",5.5,128.7,0.2,2.91,0,[""]],["PHYSICS_RECT_TYPE",399.7,126.45,0.2,2.91,0,[""]],["PHYSICS_RECT_TYPE",178.1,157.1,0.18,0.33,0,[""]],["PHYSICS_RECT_TYPE",216.6,245.05,0.15,1.04,82,[""]],["PHYSICS_RECT_TYPE",369.5,106.1,0.12,0.59,-88,[""]],["PHYSICS_RECT_TYPE",342.75,21.35,0.17,1.129,-76,[""]],["PHYSICS_RECT_TYPE",202.1,3.05,4.09,0.27,0,[""]],["PHYSICS_RECT_TYPE",
366.85,181.3,0.15,0.59,-89,[""]],["PHYSICS_RECT_TYPE",14.6,88.05,0.15,0.92,-77,[""]]],[["DECOR_MELNICA_TYPE",233.4,222.05,0.71,0.71,0,[""]],["DECOR_MELNICA_ROT_TYPE",230.5,210.45,0.41,0.41,0,[""]],["DECOR_MELNICA_TYPE",32.55,233.1,0.916,0.916,0,[""]],["DECOR_MELNICA_ROT_TYPE",28.85,218.15,0.529,0.529,0,[""]],["DECOR_HOUSE_3_TYPE",370.95,220.5,0.62,0.62,0,[""]],["DECOR_CIRCUS_TYPE",101.8,238.5,0.85,0.85,0,[""]],["DECOR_LAND_TYPE",203,246.85,0.58,0.58,0,[""]],["DECOR_HELP_2_TYPE",29.2,158.7,0.7,0.7,
0,[""]],["AIM_TYPE",156.8,182.6,0.73,0.73,0,[""]],["DECOR_BALK_4_TYPE",154.3,203,0.41,0.41,0,[""]],["TELEGA_TYPE",248.75,46.3,1.84,0.72,180,["7"]],["GLASS_BLOCK_TYPE",155.3,112.4,0.68,0.68,0,[""]],["DECOR_BALK_2_TYPE",30.45,69.85,0.29,0.289,18,[""]],["DECOR_BALK_2_TYPE",79.5,85.7,0.29,0.289,18,[""]],["MONSTER_TYPE",54.75,58.1,0.42,0.42,17,[""]],["BONUS_DIAMOND_TYPE",235.3,78.6,0.7,0.7,0,[""]],["BONUS_STAR_TYPE",155.75,138.75,0.65,0.65,0,[""]],["BONUS_MONEY_TYPE",311.35,150.95,0.71,0.71,0,[""]],["HERO_WOMAN_TYPE",
307.75,234.55,0.56,0.56,0,[""]],["DECOR_BALK_5_TYPE",259.95,224.9,0.42,0.42,90,[""]],["PHYSICS_RECT_TYPE",200.8,263.15,4.53,0.25,0,[""]],["PHYSICS_RECT_TYPE",54.85,79.1,0.13,1.119,-72,[""]],["PHYSICS_RECT_TYPE",154.8,203.4,0.15,0.68,90,[""]],["PHYSICS_RECT_TYPE",259.25,223.8,0.15,0.56,0,[""]]],[["DECOR_VENT_TYPE",72.75,47.35,1,1,0,[""]],["DECOR_TABLE_TYPE",153.2,225.8,1,1,-90,[""]],["DECOR_COVER_TYPE",227,254.8,1,1,0,[""]],["DECOR_PICT_1_TYPE",157.75,22.3,1,1,0,[""]],["DECOR_VELO_TYPE",345.65,225.1,
1,1,0,[""]],["DECOR_BALK_2_TYPE",8.9,113.85,0.377,0.31,6,[""]],["MONSTER_TYPE",20.05,95.05,0.42,0.42,5,[""]],["DECOR_BALK_2_TYPE",278.15,94.5,0.32,0.32,-163,[""]],["DECOR_BALK_2_TYPE",202.3,99.5,0.519,0.35,153,[""]],["DECOR_BALK_2_TYPE",205.6,192.45,0.377,0.31,0,[""]],["DECOR_BALK_2_TYPE",136.95,184.4,0.377,0.31,12,[""]],["DECOR_BALK_2_TYPE",273.8,192.45,0.377,0.31,0,[""]],["DECOR_BALK_5_TYPE",105.55,135.85,0.489,0.489,90,[""]],["DECOR_BALK_2_TYPE",74.25,234.65,0.377,0.309,21,[""]],["DECOR_BALK_5_TYPE",
38.05,218.7,0.489,0.489,90,[""]],["DYNAMIC_RECT_TYPE",342.75,55.95,0.8,0.8,1,[""]],["DECOR_BALK_2_TYPE",280.2,71.25,0.37,0.31,173,[""]],["DECOR_BALK_2_TYPE",199,130.65,0.377,0.31,0,[""]],["AIM_TYPE",222.8,111,0.73,0.73,0,[""]],["DECOR_BALK_2_TYPE",404.75,70.1,0.28,0.34,0,[""]],["DECOR_BALK_2_TYPE",361.5,12.3,0.428,0.35,-20,[""]],["DECOR_BALK_3_TYPE",398.2,224.1,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",398.2,172.5,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",398.2,133.25,0.33,0.434,90,[""]],["DYNAMIC_CIRCLE_TYPE",
312.45,35.65,0.8,0.8,0,[""]],["DECOR_BALK_2_TYPE",308.05,137.3,0.32,0.32,-90,[""]],["BONUS_DIAMOND_TYPE",277.6,136,0.7,0.7,0,[""]],["BONUS_STAR_TYPE",370.45,226.95,0.65,0.65,0,[""]],["BONUS_MONEY_TYPE",349.6,99.25,0.71,0.71,0,[""]],["HERO_WOMAN_TYPE",208.4,171.1,0.56,0.56,0,[""]],["HERO_DOC_TYPE",289.2,233.45,0.58,0.58,0,["INITED"]],["PHYSICS_RECT_TYPE",200.8,262.65,4.53,0.25,0,[""]],["PHYSICS_RECT_TYPE",36.7,219.6,0.15,0.68,0,[""]],["PHYSICS_RECT_TYPE",104.35,137.15,0.15,0.68,0,[""]],["PHYSICS_RECT_TYPE",
10.5,115.3,0.15,0.68,95,[""]],["PHYSICS_RECT_TYPE",74.55,236.25,0.15,0.68,112,[""]],["PHYSICS_RECT_TYPE",137.35,184.4,0.15,0.78,102,[""]],["PHYSICS_RECT_TYPE",239.7,192.65,0.12,1.5,90,[""]],["PHYSICS_RECT_TYPE",405.85,70,0.15,0.59,90,[""]],["PHYSICS_RECT_TYPE",359.95,12.85,0.15,0.809,70,[""]],["PHYSICS_RECT_TYPE",398.65,165.9,0.15,1.84,0,[""]],["PHYSICS_RECT_TYPE",198.7,132.1,0.12,0.7,90,[""]],["PHYSICS_RECT_TYPE",201.15,99.4,0.12,1.039,63,[""]],["PHYSICS_RECT_TYPE",280.05,71.7,0.13,0.82,83,[""]],
["PHYSICS_RECT_TYPE",274.65,93.05,0.119,0.738,106,[""]],["PHYSICS_RECT_TYPE",308.05,137,0.13,0.63,0,[""]],["PHYSICS_RECT_TYPE",409.75,28.35,0.13,0.63,0,[""]]],[["DECOR_MELNICA_TYPE",236.55,219.75,0.71,0.71,0,[""]],["DECOR_MELNICA_ROT_TYPE",233.65,208.15,0.41,0.41,0,[""]],["DECOR_HOUSE_TYPE",159.65,226.1,0.54,0.54,0,[""]],["DECOR_ZABOR_TYPE",143.9,238.45,0.62,0.62,0,[""]],["DECOR_ZABOR_TYPE",234.6,231.95,0.62,0.62,0,[""]],["DECOR_LAND_TYPE",360.7,237.65,0.58,0.58,0,[""]],["DECOR_BALK_2_TYPE",218.45,
183.95,0.349,0.309,1,[""]],["DECOR_BALK_2_TYPE",155.25,183.2,0.349,0.309,1,[""]],["DECOR_BALK_2_TYPE",92.05,182.85,0.349,0.309,1,[""]],["DECOR_BALK_2_TYPE",29.35,182.45,0.349,0.309,1,[""]],["DECOR_BALK_2_TYPE",280.35,184.7,0.349,0.309,1,[""]],["DECOR_BALK_2_TYPE",13.25,220.7,0.349,0.309,-70,[""]],["AIM_TYPE",56.5,240.05,0.73,0.73,0,[""]],["y125",361.75,75,0.62,0.62,0,["STRENGHT20"]],["DECOR_BALK_2_TYPE",395.15,222.45,0.349,0.309,-90,[""]],["DECOR_BALK_4_TYPE",37.5,6.4,0.56,0.399,0,[""]],["DECOR_BALK_4_TYPE",
120.1,6.75,0.56,0.399,0,[""]],["DECOR_BALK_4_TYPE",202.35,6.75,0.56,0.399,0,[""]],["DECOR_BALK_4_TYPE",284.85,6.35,0.56,0.399,0,[""]],["DECOR_BALK_4_TYPE",367.5,6.35,0.56,0.399,0,[""]],["DECOR_BALK_3_TYPE",15.9,105.15,0.33,0.434,0,[""]],["DANGER_TYPE",154.8,131.45,0.67,0.67,90,[""]],["GLASS_BLOCK_TYPE",334.05,100.6,0.83,0.83,-1,[""]],["DECOR_BALK_3_TYPE",249.65,68.95,0.37,0.434,0,[""]],["DECOR_BALK_5_TYPE",340.2,43.15,0.45,0.43,90,[""]],["DECOR_BALK_5_TYPE",318.85,160.65,0.45,0.43,90,[""]],["BONUS_DIAMOND_TYPE",
97.2,60.6,0.7,0.7,0,[""]],["BONUS_STAR_TYPE",311.05,36.55,0.65,0.65,0,[""]],["BONUS_MONEY_TYPE",105.95,222.65,0.71,0.71,0,[""]],["HERO_TYPE",307.1,229.55,0.51,0.51,0,["INITED"]],["HERO_WOMAN_TYPE",95.6,161.7,0.56,0.56,0,["INITED"]],["MONSTER_TYPE",252.65,48.75,0.42,0.42,0,[""]],["y125",28.6,82.25,0.62,0.62,0,["STRENGHT20"]],["y125",192.4,160.6,0.62,0.62,0,["STRENGHT20"]],["PHYSICS_RECT_TYPE",200.8,264.65,4.53,0.25,0,[""]],["PHYSICS_RECT_TYPE",160.6,183.15,3.65,0.11,0,[""]],["PHYSICS_RECT_TYPE",202.35,
1.9,0.25,4.49,90,[""]],["PHYSICS_RECT_TYPE",319.15,160.6,0.16,0.66,0,[""]],["PHYSICS_RECT_TYPE",340.65,42.85,0.16,0.66,0,[""]],["PHYSICS_RECT_TYPE",395.6,221.9,0.16,0.66,0,[""]],["PHYSICS_RECT_TYPE",-4,214.25,0.539,0.699,21,[""]],["PHYSICS_RECT_TYPE",249.5,69.1,0.16,0.66,90,[""]],["PHYSICS_RECT_TYPE",13.7,104.45,0.16,0.66,90,[""]]],[["DECOR_BALK_7_TYPE",44.45,117.25,0.83,0.83,15,[""]],["DECOR_BALK_7_TYPE",119.8,126.8,0.83,0.83,0,[""]],["TELEGA_TYPE",279.55,51.2,1.69,0.72,180,["9"]],["DECOR_BALK_7_TYPE",
201.15,195.05,0.83,0.83,0,[""]],["DECOR_BALK_7_TYPE",279.25,151.7,0.83,0.83,0,[""]],["TELEPORT_TYPE",277.2,116.6,0.74,0.71,0,["IN"]],["TELEPORT_TYPE",199.45,162.55,0.74,0.71,0,["OUT"]],["AIM_TYPE",375.3,236.65,0.73,0.73,0,[""]],["MONSTER_TYPE",34.05,92.55,0.42,0.42,12,[""]],["HERO_DOC_TYPE",139.25,100.95,0.58,0.58,0,["INITED"]],["BONUS_DIAMOND_TYPE",331.3,83.8,0.7,0.7,0,[""]],["BONUS_STAR_TYPE",218.9,111.15,0.65,0.65,0,[""]],["BONUS_MONEY_TYPE",370.35,160.55,0.71,0.71,0,[""]],["PHYSICS_RECT_TYPE",
200.8,264.65,4.53,0.25,0,[""]],["PHYSICS_RECT_TYPE",31.9,113.7,0.13,1.12,-75,[""]],["PHYSICS_RECT_TYPE",121.7,126.9,0.82,0.15,0,[""]],["PHYSICS_RECT_TYPE",200.8,196.45,0.82,0.15,0,[""]],["PHYSICS_RECT_TYPE",279.65,151.6,0.82,0.15,0,[""]]],[["DECOR_VENT_TYPE",57.55,47.35,1,1,0,[""]],["DECOR_VENT_TYPE",205.85,47.75,1,1,0,[""]],["DECOR_PIANO_TYPE",202.7,226.05,1,1,0,[""]],["DECOR_FLOWER_1_TYPE",145.15,225.55,1,1,-90,[""]],["DECOR_GRAM_TYPE",105.3,240.55,1,1,0,[""]],["DECOR_SVECHA_TYPE",279.55,98.4,1,
1,0,[""]],["DECOR_SVECHA_TYPE",127.25,77.6,1,1,0,[""]],["DECOR_PICT_2_TYPE",198.35,136.3,1,1,-90,[""]],["BONUS_DIAMOND_TYPE",328.25,104.85,0.7,0.7,0,[""]],["BONUS_STAR_TYPE",70.1,68.45,0.65,0.65,0,[""]],["BONUS_MONEY_TYPE",104,175,0.71,0.71,0,[""]],["BONUS_STAR_TYPE",36.5,162.1,0.65,0.65,0,[""]],["DECOR_BALK_2_TYPE",287.35,146.1,0.349,0.309,15,[""]],["DECOR_BALK_2_TYPE",348.3,162.45,0.349,0.309,15,[""]],["DECOR_BALK_2_TYPE",408.55,178.8,0.349,0.309,15,[""]],["DECOR_BALK_2_TYPE",264.85,219.35,0.349,
0.309,12,[""]],["DECOR_BALK_2_TYPE",326.7,232.3,0.349,0.309,12,[""]],["DECOR_BALK_2_TYPE",387.75,245.3,0.349,0.309,12,[""]],["DECOR_BALK_2_TYPE",273.45,50.35,0.349,0.309,13,[""]],["DECOR_BALK_2_TYPE",335.05,64.4,0.349,0.309,13,[""]],["DECOR_BALK_2_TYPE",396,78.45,0.349,0.309,13,[""]],["AIM_TYPE",30.85,111.85,0.73,0.73,0,[""]],["DECOR_BALK_2_TYPE",-7.3,139.45,0.349,0.309,-9,[""]],["DECOR_BALK_2_TYPE",55.1,129.8,0.349,0.309,-9,[""]],["DECOR_BALK_2_TYPE",116.85,120.4,0.349,0.309,-9,[""]],["DECOR_BALK_2_TYPE",
-7.95,250.55,0.349,0.309,-22,[""]],["DECOR_BALK_2_TYPE",50.65,227.05,0.349,0.309,-22,[""]],["DECOR_BALK_2_TYPE",108.65,204.05,0.349,0.309,-22,[""]],["DECOR_BALK_3_TYPE",395.7,230.65,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",395.7,179.05,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",395.7,127.05,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",395.7,75.05,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",394.95,21,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",4.95,226.1,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",4.95,174.5,0.33,
0.434,90,[""]],["DECOR_BALK_3_TYPE",4.95,122.5,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",4.95,70.5,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",4.2,16.45,0.33,0.434,90,[""]],["DECOR_BALK_4_TYPE",48.65,5.7,0.509,0.399,0,[""]],["DECOR_BALK_4_TYPE",123.75,6.05,0.509,0.399,0,[""]],["DECOR_BALK_4_TYPE",198.5,6.05,0.509,0.399,0,[""]],["DECOR_BALK_4_TYPE",273.5,5.65,0.509,0.399,0,[""]],["DECOR_BALK_4_TYPE",348.65,5.65,0.509,0.399,0,[""]],["y125",370.9,219.2,0.62,0.62,0,["STRENGHT20"]],["y125",26.35,211.15,0.62,
0.62,0,["STRENGHT20"]],["y125",367.85,142.4,0.62,0.62,0,["STRENGHT20"]],["HERO_WOMAN_TYPE",338.7,207.45,0.56,0.56,0,["INITED"]],["PHYSICS_RECT_TYPE",200.8,264.65,4.53,0.25,0,[""]],["PHYSICS_RECT_TYPE",323.7,231.55,0.14,2.02,-78,[""]],["PHYSICS_RECT_TYPE",58.1,129.7,0.14,2.02,-99,[""]],["PHYSICS_RECT_TYPE",72.75,217.95,0.14,1.54,-112,[""]],["PHYSICS_RECT_TYPE",3.45,120.65,0.2,2.91,0,[""]],["PHYSICS_RECT_TYPE",397.15,119.9,0.2,2.91,0,[""]],["PHYSICS_RECT_TYPE",345.1,161.45,0.14,2.02,-75,[""]],["PHYSICS_RECT_TYPE",
330.85,63.8,0.14,2.02,-77,[""]],["PHYSICS_RECT_TYPE",199.45,1.4,0.21,4,90,[""]]],[["DECOR_BALK_2_TYPE",85.6,214,0.2,0.31,90,[""]],["DECOR_BALK_2_TYPE",-1.6,169.15,0.349,0.309,13,[""]],["DECOR_BALK_2_TYPE",59.35,183.2,0.349,0.309,13,[""]],["DECOR_BALK_3_TYPE",397.95,224.65,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",397.95,173.05,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",397.95,121.05,0.33,0.434,90,[""]],["DECOR_BALK_2_TYPE",371.5,84.4,0.349,0.309,13,[""]],["DECOR_BALK_3_TYPE",1.55,225.35,0.33,0.434,90,
[""]],["DECOR_BALK_3_TYPE",1.55,173.75,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",1.55,121.75,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",1.55,69.75,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",0.8,15.7,0.33,0.434,90,[""]],["DECOR_BALK_2_TYPE",123,226.3,0.349,0.309,0,[""]],["DECOR_BALK_2_TYPE",185.5,226.5,0.349,0.309,0,[""]],["HERO_DOC_TYPE",159.15,203.1,0.58,0.58,0,["INITED"]],["DANGER_TYPE",256.55,238.4,0.71,0.71,0,[""]],["DECOR_BALK_2_TYPE",310.5,70.5,0.349,0.309,13,[""]],["DANGER_TYPE",132.6,118.65,0.86,
0.86,0,[""]],["DECOR_BALK_2_TYPE",190.55,43.85,0.349,0.309,13,[""]],["DECOR_BALK_2_TYPE",250.05,56.95,0.349,0.309,13,[""]],["AIM_TYPE",367.8,235.1,0.73,0.73,0,[""]],["DECOR_BALK_4_TYPE",46.8,34.85,0.509,0.399,0,[""]],["DECOR_BALK_4_TYPE",121.9,35.2,0.509,0.399,0,[""]],["MONSTER_TYPE",30.5,156.55,0.42,0.42,12,[""]],["BONUS_DIAMOND_TYPE",33.1,91.75,0.7,0.7,0,[""]],["BONUS_MONEY_TYPE",155.85,65.25,0.71,0.71,0,[""]],["BONUS_STAR_TYPE",69.2,166.3,0.65,0.65,0,[""]],["BONUS_DIAMOND_TYPE",369.55,176.2,0.7,
0.7,0,[""]],["PHYSICS_RECT_TYPE",200.8,264.65,4.53,0.25,0,[""]],["PHYSICS_RECT_TYPE",282.1,64.15,0.14,2.799,-77,[""]],["PHYSICS_RECT_TYPE",401.2,170.9,0.2,1.75,0,[""]],["PHYSICS_RECT_TYPE",-0.2,124.25,0.2,2.91,0,[""]],["PHYSICS_RECT_TYPE",86.55,35.15,0.14,1.7,90,[""]],["PHYSICS_RECT_TYPE",151.5,226.75,0.14,1.46,-90,[""]],["PHYSICS_RECT_TYPE",44.7,179.95,0.14,1.04,103,[""]]],[["DECOR_VENT_TYPE",171.05,44.3,1,1,0,[""]],["DECOR_PICT_3_TYPE",242.05,93.65,1,1,-90,[""]],["DECOR_SVECHA_TYPE",171.55,184.7,
1,1,0,[""]],["DECOR_BALK_2_TYPE",205.7,219,0.35,0.31,0,[""]],["DECOR_BALK_2_TYPE",145.2,234,0.35,0.31,154,[""]],["DECOR_BALK_2_TYPE",268.9,219,0.35,0.31,0,[""]],["DECOR_BALK_2_TYPE",331.35,219.2,0.35,0.31,0,[""]],["DECOR_BALK_2_TYPE",394.55,219,0.35,0.31,0,[""]],["DECOR_BALK_3_TYPE",4.15,224.95,0.33,0.434,90,[""]],["DECOR_BALK_5_TYPE",72.5,121.05,0.489,0.489,90,[""]],["DECOR_BALK_2_TYPE",24.25,160.6,0.349,0.309,-6,[""]],["DECOR_BALK_2_TYPE",86.95,153.95,0.349,0.309,-6,[""]],["DECOR_BALK_3_TYPE",4.15,
173.35,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",4.15,121.35,0.33,0.434,90,[""]],["DECOR_BALK_2_TYPE",45.5,73.95,0.377,0.31,6,[""]],["DECOR_BALK_2_TYPE",113.35,80.65,0.377,0.31,6,[""]],["DECOR_BALK_3_TYPE",4.15,69.35,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",4.15,15.1,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",395.7,218.05,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",395.7,166.45,0.33,0.434,90,[""]],["DECOR_BALK_2_TYPE",253.75,144.25,0.349,0.31,6,[""]],["DECOR_BALK_2_TYPE",316.6,150.65,0.349,0.31,6,[""]],
["DECOR_BALK_2_TYPE",378.75,157.15,0.349,0.31,6,[""]],["DECOR_BALK_3_TYPE",395.7,114.45,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",395.7,62.45,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",395.7,8.2,0.33,0.434,90,[""]],["DECOR_BALK_4_TYPE",48.65,5.7,0.509,0.399,0,[""]],["DECOR_BALK_4_TYPE",123.75,6.05,0.509,0.399,0,[""]],["DECOR_BALK_4_TYPE",198.5,6.05,0.509,0.399,0,[""]],["DECOR_BALK_2_TYPE",299.65,43.2,0.41,0.41,-90,[""]],["DECOR_BALK_4_TYPE",273.5,5.65,0.509,0.399,0,[""]],["DECOR_BALK_4_TYPE",348.65,
5.65,0.509,0.399,0,[""]],["y125",29.15,139.9,0.62,0.62,0,["STRENGHT20"]],["y125",257.65,197.3,0.62,0.62,0,["STRENGHT20"]],["GLASS_BLOCK_TYPE",135.7,161.35,0.99,0.99,-90,[""]],["y125",93.85,131.25,0.62,0.62,0,["STRENGHT20"]],["AIM_TYPE",349.25,46.85,0.73,0.73,0,[""]],["GLASS_BLOCK_TYPE",349,69.75,0.58,0.58,0,[""]],["BONUS_DIAMOND_TYPE",187.4,140.35,0.7,0.7,0,[""]],["BONUS_STAR_TYPE",343.45,120.75,0.65,0.65,0,[""]],["BONUS_MONEY_TYPE",239.4,37.6,0.71,0.71,0,[""]],["HERO_TYPE",41.75,229.25,0.51,0.51,
0,["INITED"]],["MONSTER_TYPE",88.35,57.3,0.42,0.42,5,[""]],["PHYSICS_RECT_TYPE",200.8,262.4,4.53,0.25,0,[""]],["PHYSICS_RECT_TYPE",199.85,-1.45,4.09,0.27,0,[""]],["PHYSICS_RECT_TYPE",2.9,119.35,0.2,2.91,0,[""]],["PHYSICS_RECT_TYPE",397.45,119.7,0.2,2.91,0,[""]],["PHYSICS_RECT_TYPE",80.75,77.45,0.14,1.47,-84,[""]],["PHYSICS_RECT_TYPE",306.4,150.85,0.13,1.85,-84,[""]],["PHYSICS_RECT_TYPE",279.2,218.8,0.13,2.32,90,[""]],["PHYSICS_RECT_TYPE",58.65,157.5,0.13,1.3,-96,[""]],["PHYSICS_RECT_TYPE",299.25,
42.15,0.18,0.85,0,[""]],["PHYSICS_RECT_TYPE",71.85,119.65,0.15,0.68,0,[""]],["PHYSICS_RECT_TYPE",146.15,234.4,0.15,0.68,65,[""]]],[["DECOR_PICT_1_TYPE",115,143.45,0.82,0.82,0,[""]],["DECOR_SVECHA_TYPE",274.2,153.2,1,1,0,[""]],["DECOR_CAT_2_TYPE",271.05,54.05,1,1,0,[""]],["DECOR_VELO_TYPE",356.05,225.1,1,1,0,[""]],["DECOR_BALK_7_TYPE",12,211.1,0.56,0.64,40,[""]],["DECOR_BALK_7_TYPE",6.8,175.85,0.85,0.85,90,[""]],["DECOR_BALK_7_TYPE",100.05,6.6,0.83,0.83,0,[""]],["DECOR_BALK_7_TYPE",6.8,99.05,0.85,
0.85,90,[""]],["DECOR_BALK_7_TYPE",28.3,31.35,0.85,0.85,141,[""]],["DECOR_BALK_7_TYPE",298.1,6.6,0.83,0.83,0,[""]],["DECOR_BALK_7_TYPE",361.75,45.5,0.83,0.83,45,[""]],["DECOR_BALK_7_TYPE",98.75,241.3,0.85,0.85,18,[""]],["DECOR_BALK_7_TYPE",24.2,229.55,0.85,0.85,0,[""]],["DECOR_BALK_7_TYPE",394.25,117.25,0.85,0.85,90,[""]],["DANGER_TYPE",202.6,7.5,0.86,0.86,0,[""]],["DECOR_BALK_7_TYPE",106.35,87.5,0.83,0.83,-30,[""]],["AIM_TYPE",151.6,98.5,0.73,0.73,0,[""]],["DECOR_BALK_7_TYPE",287.75,104.35,0.92,
0.92,36,[""]],["DECOR_BALK_7_TYPE",256.2,69.25,0.83,0.83,0,[""]],["DECOR_BALK_7_TYPE",329.6,151.85,0.78,0.92,90,[""]],["DECOR_BALK_7_TYPE",213.1,192.4,0.85,0.85,0,[""]],["DECOR_BALK_7_TYPE",181.3,151.1,0.85,0.85,90,[""]],["DOOR_TYPE",138.2,120.95,0.59,0.59,180,["A_80"]],["DOOR_TYPE",288.6,193.75,0.59,0.59,0,["B_80"]],["DECOR_BALK_7_TYPE",362.75,181.3,0.83,0.83,0,[""]],["ACTIVATOR_TYPE",361.25,168.6,0.7,0.7,0,["B"]],["DECOR_BALK_7_TYPE",181.3,110.9,0.85,0.85,90,[""]],["DECOR_BALK_7_TYPE",179.95,69.25,
0.83,0.83,0,[""]],["ACTIVATOR_TYPE",213.7,180.7,0.7,0.7,0,["A"]],["HERO_WOMAN_TYPE",181.8,238.9,0.56,0.56,0,[""]],["HERO_DOC_TYPE",46.7,202.4,0.58,0.58,0,[""]],["MONSTER_TYPE",100.3,221.3,0.42,0.42,17,[""]],["DECOR_BALK_7_TYPE",399.2,226.75,0.85,0.85,90,[""]],["BONUS_DIAMOND_TYPE",236,125.3,0.7,0.7,0,[""]],["BONUS_STAR_TYPE",366,135.05,0.65,0.65,0,[""]],["BONUS_MONEY_TYPE",41.95,88.6,0.71,0.71,0,[""]],["BONUS_STAR_TYPE",301.85,225.95,0.65,0.65,0,[""]],["BONUS_MONEY_TYPE",306.6,42.2,0.71,0.71,0,[""]],
["PHYSICS_RECT_TYPE",200.8,268.4,4.53,0.25,0,[""]],["PHYSICS_RECT_TYPE",217.5,69.25,0.13,1.71,-90,[""]],["PHYSICS_RECT_TYPE",181.45,135.55,0.13,1.38,0,[""]],["PHYSICS_RECT_TYPE",6.6,137.1,0.13,1.72,0,[""]],["PHYSICS_RECT_TYPE",215.35,191.8,0.13,0.8,-90,[""]],["PHYSICS_RECT_TYPE",363,181.3,0.13,0.8,-90,[""]],["PHYSICS_RECT_TYPE",106.9,86.7,0.13,0.8,-122,[""]],["PHYSICS_RECT_TYPE",15.85,229.6,0.13,1.04,90,[""]],["PHYSICS_RECT_TYPE",99,241.3,0.13,0.81,109,[""]],["PHYSICS_RECT_TYPE",330.55,150.45,0.13,
0.77,0,[""]],["PHYSICS_RECT_TYPE",394.4,119.65,0.13,1.01,0,[""]],["PHYSICS_RECT_TYPE",287,104.65,0.13,1.05,-53,[""]],["PHYSICS_RECT_TYPE",361.05,45.05,0.13,0.9,-45,[""]],["PHYSICS_RECT_TYPE",29.25,30.6,0.13,0.9,51,[""]],["PHYSICS_RECT_TYPE",108.45,7.1,0.13,1,90,[""]],["PHYSICS_RECT_TYPE",299.05,6.4,0.13,0.9,90,[""]],["PHYSICS_RECT_TYPE",16.1,217,0.13,0.49,-49,[""]],["PHYSICS_RECT_TYPE",398.8,223.2,0.13,0.59,0,[""]]],[["DECOR_MELNICA_TYPE",365.85,223.75,0.71,0.71,0,[""]],["DECOR_MELNICA_ROT_TYPE",
362.95,212.15,0.41,0.41,0,[""]],["DECOR_COW_TYPE",141.4,227.6,0.3,0.3,0,[""]],["DECOR_BALK_2_TYPE",78,33,0.299,0.299,-17,[""]],["DECOR_BALK_2_TYPE",27.5,49.1,0.299,0.299,-17,[""]],["DECOR_BALK_4_TYPE",131.25,26.7,0.509,0.399,0,[""]],["DECOR_BALK_4_TYPE",206.35,27.05,0.509,0.399,0,[""]],["DECOR_BALK_4_TYPE",281.1,27.05,0.509,0.399,0,[""]],["DECOR_BALK_4_TYPE",356.1,26.65,0.509,0.399,0,[""]],["BONUS_STAR_TYPE",42.45,70.8,0.65,0.65,0,[""]],["BONUS_MONEY_TYPE",157.8,51.95,0.71,0.71,0,[""]],["PHYSICS_MAN_BLOCK_TYPE",
28.15,184.1,0.58,0.58,-14,[""]],["HERO_TYPE",131.2,233,0.51,0.51,0,[""]],["HERO_WOMAN_TYPE",303.1,231.7,0.56,0.56,0,[""]],["PHYSICS_WOMAN_BLOCK_TYPE",180.45,88.9,0.66,0.66,-51,[""]],["MONSTER_TYPE",274,88.3,0.42,0.42,-5,[""]],["GLASS_BLOCK_TYPE",226.05,143.4,0.79,0.79,19,[""]],["GLASS_BLOCK_TYPE",187.35,201,0.79,0.79,-105,[""]],["GLASS_BLOCK_TYPE",302,110.65,0.79,0.79,-6,[""]],["HERO_WOMAN_TYPE",59.65,231.7,0.56,0.56,0,[""]],["PHYSICS_WOMAN_BLOCK_TYPE",80.35,106.8,0.66,0.66,0,[""]],["PHYSICS_RECT_TYPE",
241.3,24.3,0.2,3.23,90,[""]],["PHYSICS_RECT_TYPE",49.45,38.25,0.22,1.54,73,[""]],["PHYSICS_RECT_TYPE",200.8,263.15,4.53,0.25,0,[""]]],[["DECOR_MELNICA_TYPE",365.85,223.75,0.71,0.71,0,[""]],["DECOR_MELNICA_ROT_TYPE",362.95,212.15,0.41,0.41,0,[""]],["DECOR_COW_TYPE",141.4,227.6,0.3,0.3,0,[""]],["DECOR_BALK_2_TYPE",26.95,210.5,0.29,0.289,25,[""]],["DECOR_BALK_4_TYPE",325.8,229.9,0.41,0.41,0,[""]],["DECOR_BALK_4_TYPE",79.95,10.65,0.379,0.379,-23,[""]],["DECOR_BALK_4_TYPE",147.9,51.3,0.51,0.399,11,[""]],
["BONUS_STAR_TYPE",324.05,81.9,0.68,0.68,0,[""]],["BONUS_STAR_TYPE",43.7,181.5,0.68,0.68,0,[""]],["BONUS_STAR_TYPE",135.2,73,0.65,0.65,0,[""]],["DECOR_BALK_3_TYPE",6.95,231.9,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",6.95,180.3,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",6.95,128.3,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",6.95,76.3,0.33,0.434,90,[""]],["DECOR_BALK_2_TYPE",73.7,232.25,0.29,0.289,25,[""]],["DECOR_BALK_4_TYPE",24.2,33.5,0.43,0.379,-22,[""]],["DECOR_BALK_4_TYPE",221.7,65.8,0.51,0.399,11,
[""]],["DECOR_BALK_4_TYPE",295.7,79.95,0.51,0.399,11,[""]],["DECOR_BALK_4_TYPE",369.85,94.35,0.51,0.399,11,[""]],["ACTIVATOR_TYPE",223.1,250.85,0.7,0.7,0,["A"]],["DOOR_TYPE",51.7,113.85,0.59,0.59,180,["A_100"]],["HERO_TYPE",324.9,199.3,0.51,0.51,0,[""]],["ACTIVATOR_TYPE",144.1,250.2,0.7,0.7,0,["B"]],["DOOR_TYPE",55.3,94.7,0.59,0.59,0,["B_100"]],["AIM_TYPE",54.15,75.2,0.73,0.73,0,[""]],["BONUS_GHOST_TYPE",243.1,229.1,0.74,0.74,0,["7"]],["BONUS_GHOST_TYPE",203.5,113.15,1.59,0.74,0,["10"]],["BONUS_GHOST_TYPE",
105,177.75,0.43,0.74,0,["4"]],["ACTIVATOR_TYPE",332.3,97.6,0.7,0.7,180,["B"]],["PHYSICS_RECT_TYPE",243.85,65.15,3.728,0.248,11,[""]],["PHYSICS_RECT_TYPE",3.95,131.5,0.2,1.91,0,[""]],["PHYSICS_RECT_TYPE",48.1,229,1.13,0.29,25,[""]],["PHYSICS_RECT_TYPE",45.6,19.25,1.4,0.24,157,[""]],["PHYSICS_RECT_TYPE",325.2,229.9,0.65,0.14,0,[""]],["DECOR_BALK_2_TYPE",79.9,70.3,0.289,0.289,90,[""]],["PHYSICS_RECT_TYPE",79.75,69.05,0.608,0.1,90,[""]],["PHYSICS_RECT_TYPE",200.8,263.15,4.53,0.25,0,[""]]],[["DECOR_MELNICA_TYPE",
365.85,223.75,0.71,0.71,0,[""]],["DECOR_MELNICA_ROT_TYPE",362.95,212.15,0.41,0.41,0,[""]],["DECOR_COW_TYPE",141.4,227.6,0.3,0.3,0,[""]],["DECOR_BALK_2_TYPE",26.95,210.5,0.29,0.289,25,[""]],["DECOR_BALK_4_TYPE",325.8,229.9,0.41,0.41,0,[""]],["DECOR_BALK_4_TYPE",79.95,10.65,0.379,0.379,-23,[""]],["DECOR_BALK_4_TYPE",147.9,51.3,0.51,0.399,11,[""]],["BONUS_STAR_TYPE",324.05,81.9,0.68,0.68,0,[""]],["BONUS_STAR_TYPE",43.7,181.5,0.68,0.68,0,[""]],["BONUS_STAR_TYPE",135.2,73,0.65,0.65,0,[""]],["DECOR_BALK_3_TYPE",
6.95,231.9,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",6.95,180.3,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",6.95,128.3,0.33,0.434,90,[""]],["DECOR_BALK_3_TYPE",6.95,76.3,0.33,0.434,90,[""]],["DECOR_BALK_2_TYPE",73.7,232.25,0.29,0.289,25,[""]],["DECOR_BALK_4_TYPE",24.2,33.5,0.43,0.379,-22,[""]],["DECOR_BALK_4_TYPE",221.7,65.8,0.51,0.399,11,[""]],["DECOR_BALK_4_TYPE",295.7,79.95,0.51,0.399,11,[""]],["DECOR_BALK_4_TYPE",369.85,94.35,0.51,0.399,11,[""]],["DOOR_TYPE",51.7,113.85,0.59,0.59,180,["A_100"]],["HERO_TYPE",
324.9,199.3,0.51,0.51,0,[""]],["DOOR_TYPE",55.3,94.7,0.59,0.59,0,["B_50"]],["AIM_TYPE",54.15,75.2,0.73,0.73,0,[""]],["DYNAMIC_RECT_TYPE",118.25,156.2,0.79,0.79,0,[""]],["DYNAMIC_CIRCLE_TYPE",116.85,116.85,1,1,0,[""]],["DYNAMIC_CIRCLE_TYPE",271.1,102.85,1,1,0,[""]],["DYNAMIC_CIRCLE_TYPE",156.7,19.25,1,1,0,[""]],["DYNAMIC_RECT_TYPE",248.7,129.25,0.79,0.79,-139,[""]],["PHYSICS_RECT_TYPE",243.35,69.65,3.725,0.15,11,[""]],["PHYSICS_RECT_TYPE",3.95,131.5,0.2,1.91,0,[""]],["PHYSICS_RECT_TYPE",48.1,229,1.13,
0.29,25,[""]],["PHYSICS_RECT_TYPE",45.6,19.25,1.4,0.24,157,[""]],["PHYSICS_RECT_TYPE",325.2,229.9,0.65,0.14,0,[""]],["DECOR_BALK_2_TYPE",79.9,70.3,0.289,0.289,90,[""]],["PHYSICS_RECT_TYPE",79.75,69.05,0.608,0.1,90,[""]],["DECOR_BALK_2_TYPE",85.55,201.4,0.289,0.289,90,[""]],["PHYSICS_RECT_TYPE",85.4,200.15,0.608,0.1,90,[""]],["DECOR_BALK_2_TYPE",146.5,201.4,0.289,0.289,90,[""]],["PHYSICS_RECT_TYPE",146.35,200.15,0.608,0.1,90,[""]],["PHYSICS_RECT_TYPE",100.2,263.15,2.233,0.25,0,[""]],["PHYSICS_RECT_TYPE",
301.2,263.15,2.233,0.25,0,[""]]],[["TELEGA_TYPE",189.5,27.35,1.95,0.84,180,["10"]],["TELEGA_TYPE",231.5,104.2,1.57,0.72,180,["20"]],["HERO_TYPE",122.2,229.25,0.51,0.51,0,[""]],["HERO_TYPE",36.9,229.25,0.51,0.51,0,[""]],["ACTIVATOR_TYPE",42.45,172.05,0.7,0.7,180,["A"]],["DOOR_TYPE",305.1,180.15,0.59,0.59,180,["A_100"]],["PHYSICS_RECT_TYPE",80.45,156.9,0.22,1.54,90,[""]],["DOOR_TYPE",305.7,201.05,0.59,0.59,0,["B_50"]],["ACTIVATOR_TYPE",120.45,172.05,0.7,0.7,180,["B"]],["PHYSICS_RECT_TYPE",200.8,263.15,
4.53,0.25,0,[""]]]],y380=[0,0,0,0,0,4,0,4,3,1,4,3,0,4,0,3,4,3,1,4,4,4,4,4,0],y59=[{src:PRELOADER_LOGO,id:"y373erlogo"},{src:"cheapbg.jpg",id:"bgspritesheet"},{src:"cheapassets.png",id:"zoespritesheet"}],y246={framerate:24,images:["assets/cheapassets.png"],frames:[[1173,1557,34,32,0,15,15],[2001,940,49,49,0,23,23],[759,1594,27,27,0,12,12],[758,2,333,142,0,165,70],[1444,2,135,130,0,59,1],[234,1513,210,42,0,97,16],[1671,1251,65,68,0,31,30],[1535,1057,89,91,0,43,51],[1268,1057,89,91,0,43,51],[1748,1402,
175,51,0,84,22],[1334,1251,73,72,0,35,33],[1262,1251,72,72,0,35,34],[1190,1251,72,72,0,35,34],[1118,1251,72,72,0,33,34],[907,1165,84,83,0,37,37],[1736,1251,105,68,0,45,1],[1094,1402,54,54,0,25,25],[101,1057,203,107,0,101,22],[1007,1513,36,40,0,0,0],[450,1402,182,55,0,89,24],[55,1557,242,37,0,119,15],[377,1334,272,66,0,134,37],[2,1165,81,86,0,39,39],[171,1165,81,86,0,39,39],[1446,1057,89,91,0,43,51],[1357,1057,89,91,0,43,51],[1624,1057,89,91,0,43,51],[1217,2,227,131,0,113,142],[1044,1251,74,72,0,35,
34],[1173,1057,95,92,0,46,42],[672,1513,135,41,0,69,20],[179,2,165,165,0,80,80],[1207,1557,313,32,0,153,12],[1479,1251,119,69,0,0,-14],[991,1165,131,83,0,0,0],[1122,1165,131,83,0,0,0],[607,1057,131,94,0,0,0],[1253,1165,131,83,0,0,0],[383,1165,131,83,0,0,0],[2,1251,131,83,0,0,0],[776,1165,131,83,0,0,0],[514,1165,131,83,0,0,0],[645,1165,131,83,0,0,0],[1384,1165,131,83,0,0,0],[1515,1165,131,83,0,0,0],[252,1165,131,83,0,0,0],[1777,1165,131,83,0,0,0],[1646,1165,131,83,0,0,0],[1908,1165,131,83,0,0,0],[2045,
2,4,4,0,200,200],[1043,1513,230,39,0,113,16],[1705,1334,278,62,0,136,16],[293,1251,284,81,0,141,40],[722,1402,279,54,0,137,14],[513,1557,269,35,0,132,15],[2,1334,307,68,0,150,33],[1449,1513,209,38,0,105,19],[332,462,126,125,0,60,60],[1351,1462,274,47,0,137,20],[1713,1057,194,90,0,94,7],[2,2,177,206,0,84,0],[224,1594,171,28,0,90,14],[451,2,200,155,0,90,0],[1028,1557,77,35,0,63,14],[901,1594,157,26,0,75,11],[734,1251,233,78,0,99,44],[649,1334,204,66,0,100,32],[46,1513,148,42,0,72,19],[1991,1557,21,
29,0,0,-10],[1945,1557,23,29,0,0,-10],[1968,1557,23,29,0,-1,-10],[1643,1557,26,30,0,0,-7],[1701,1557,23,30,0,0,-10],[1622,1557,21,30,0,0,-10],[2012,1557,25,29,0,0,-9],[1599,1557,23,31,0,0,-10],[202,1594,22,28,0,0,-10],[2024,1057,23,31,0,0,-7],[1696,1513,184,38,0,90,17],[444,1513,186,42,0,91,19],[1273,1513,176,38,0,86,17],[359,1557,154,36,0,75,16],[867,1513,140,40,0,70,18],[738,1057,94,94,0,0,0],[1396,940,119,115,0,51,1],[1579,2,219,130,0,110,70],[1245,1462,67,47,0,32,19],[967,1251,77,75,0,38,44],
[1619,1594,37,20,0,16,8],[1589,1594,30,22,0,13,9],[2017,1402,28,44,0,12,20],[630,1513,42,41,0,20,19],[194,1513,40,42,0,19,20],[360,1402,90,58,0,43,27],[2,1557,53,37,0,22,16],[832,1057,131,93,0,62,41],[222,1251,71,81,0,34,39],[577,1251,75,80,0,35,38],[786,1594,76,26,0,36,11],[1289,940,107,116,0,43,56],[1093,1594,36,24,0,16,10],[862,1594,39,26,0,18,11],[1999,705,38,52,0,17,24],[1598,1251,73,68,0,31,1],[395,1594,62,28,0,29,12],[964,1557,64,35,0,30,16],[711,1594,48,28,0,22,12],[122,1402,60,60,0,28,28],
[2,1513,44,44,0,20,25],[1148,1402,76,53,0,35,23],[807,1513,60,41,0,28,19],[657,1594,54,28,0,25,12],[1677,1402,71,51,0,32,22],[297,1557,62,37,0,29,16],[661,1462,78,50,0,37,23],[1256,1594,45,23,0,21,9],[1428,1594,34,23,0,16,8],[1983,1334,58,61,0,27,28],[1656,1594,97,20,0,46,8],[1091,2,126,132,0,61,64],[651,2,107,155,0,25,99],[344,2,107,165,0,36,101],[941,462,109,124,0,51,73],[588,462,113,124,0,55,73],[701,462,118,124,0,60,73],[819,462,122,124,0,64,73],[1280,462,126,124,0,68,73],[458,462,130,125,0,72,
73],[1806,337,134,125,0,76,73],[1670,337,136,125,0,79,73],[1210,208,134,126,0,76,74],[1596,208,131,125,0,73,73],[1468,208,128,125,0,70,73],[1344,208,124,125,0,66,73],[228,337,120,125,0,62,73],[2,337,116,125,0,58,73],[1338,337,112,125,0,54,73],[1228,337,110,125,0,51,73],[1118,337,110,125,0,51,73],[1008,337,110,125,0,51,73],[898,337,110,125,0,51,73],[788,337,110,125,0,51,73],[678,337,110,125,0,51,73],[568,337,110,125,0,51,73],[1727,208,110,125,0,51,73],[348,337,110,125,0,51,73],[2,462,110,125,0,51,
73],[112,462,110,125,0,51,73],[1935,2,110,125,0,51,73],[1560,337,110,125,0,51,73],[1837,208,110,125,0,51,73],[1940,337,110,125,0,51,73],[118,337,110,125,0,51,73],[222,462,110,125,0,51,73],[1450,337,110,125,0,51,73],[458,337,110,125,0,51,73],[1406,462,109,124,0,51,73],[1515,462,114,121,0,55,69],[1162,462,118,124,0,55,67],[1094,208,116,128,0,56,63],[1050,462,112,124,0,54,60],[302,1402,58,58,0,27,27],[242,1402,60,60,0,28,29],[182,1402,60,60,0,28,29],[2,1402,60,60,0,28,29],[62,1402,60,60,0,28,29],[1195,
1462,50,48,0,24,22],[83,1165,88,86,0,42,42],[1669,1557,32,30,0,14,13],[1105,1557,68,32,0,34,14],[782,1557,87,35,0,46,14],[1520,1557,79,32,0,45,14],[869,1557,95,35,0,55,15],[1466,1334,79,62,0,23,33],[1625,1334,80,62,0,23,33],[853,1334,77,63,0,23,34],[1970,1251,78,64,0,23,35],[1390,1334,76,62,0,23,33],[1312,1334,78,62,0,23,33],[1545,1334,80,62,0,23,33],[930,1334,76,63,0,23,34],[1082,1334,76,62,0,23,33],[1006,1334,76,62,0,23,33],[1236,1334,76,62,0,23,33],[1158,1334,78,62,0,23,33],[2002,1057,22,47,0,
-5,-6],[1963,1462,38,46,0,-5,-7],[1928,1462,35,46,0,-5,-7],[1312,1462,39,47,0,-5,-6],[1892,1462,36,46,0,-5,-7],[1857,1462,35,46,0,-5,-7],[2001,1462,36,46,0,-5,-7],[1625,1462,39,47,0,-6,-7],[1664,1462,43,46,0,-6,-7],[1707,1462,38,46,0,-6,-7],[1505,1402,172,52,0,-7,-1],[91,705,90,118,0,37,73],[1955,587,87,118,0,36,73],[1718,462,86,118,0,36,73],[1897,823,83,117,0,35,72],[657,705,82,117,0,35,72],[739,705,81,117,0,34,72],[820,705,81,117,0,34,72],[901,705,80,117,0,34,72],[981,705,79,117,0,33,72],[108,823,
79,117,0,33,72],[792,940,79,117,0,33,72],[1053,940,79,116,0,33,71],[1211,940,78,116,0,33,71],[1132,940,79,116,0,34,71],[976,940,77,116,0,33,71],[714,940,78,117,0,34,72],[637,940,77,117,0,33,72],[559,940,78,117,0,33,72],[481,940,78,117,0,33,72],[403,940,78,117,0,33,72],[324,940,79,117,0,33,72],[245,940,79,117,0,33,72],[165,940,80,117,0,34,72],[84,940,81,117,0,34,72],[2,940,82,117,0,35,72],[1804,462,82,118,0,35,73],[1886,462,84,118,0,36,73],[2,587,86,118,0,36,73],[88,587,87,118,0,36,73],[175,587,89,
118,0,36,73],[264,587,89,118,0,36,73],[353,587,89,118,0,36,73],[442,587,89,118,0,36,73],[531,587,89,118,0,36,73],[620,587,89,118,0,36,73],[709,587,89,118,0,36,73],[798,587,89,118,0,36,73],[887,587,89,118,0,36,73],[976,587,89,118,0,36,73],[1065,587,89,118,0,36,73],[1154,587,89,118,0,36,73],[1332,587,89,118,0,36,73],[1947,208,89,118,0,36,73],[1243,587,89,118,0,36,73],[1599,587,89,118,0,36,73],[1421,587,89,118,0,36,73],[1510,587,89,118,0,36,73],[1866,587,89,118,0,36,73],[1688,587,89,118,0,36,73],[1777,
587,89,118,0,36,73],[2,705,89,118,0,36,73],[1629,462,89,118,0,36,73],[181,705,87,118,0,36,73],[1603,940,103,108,0,42,67],[1706,940,101,108,0,41,67],[956,208,138,129,0,65,89],[1798,2,137,129,0,65,89],[2,208,134,129,0,65,89],[136,208,133,129,0,65,89],[269,208,139,129,0,65,89],[541,208,138,129,0,65,89],[679,208,139,129,0,65,89],[818,208,138,129,0,65,89],[2,1057,99,108,0,41,67],[1904,940,97,108,0,40,67],[268,705,81,117,0,34,72],[1970,462,80,117,0,34,72],[408,208,133,129,0,65,89],[1374,705,102,117,0,58,
76],[1060,705,103,117,0,59,76],[1580,705,103,117,0,59,76],[1683,705,104,117,0,60,76],[1476,705,104,117,0,60,76],[1893,705,106,117,0,61,76],[2,823,106,117,0,61,76],[1787,705,106,117,0,61,76],[187,823,107,117,0,62,76],[294,823,107,117,0,62,76],[401,823,107,117,0,62,76],[508,823,107,117,0,62,76],[615,823,107,117,0,62,76],[722,823,107,117,0,62,76],[829,823,107,117,0,62,76],[936,823,107,117,0,62,76],[1043,823,107,117,0,62,76],[1150,823,107,117,0,62,76],[1257,823,107,117,0,62,76],[1364,823,107,117,0,62,
76],[1471,823,107,117,0,62,76],[1578,823,107,117,0,62,76],[1685,823,106,117,0,61,76],[1791,823,106,117,0,61,76],[1163,705,106,117,0,61,76],[871,940,105,117,0,60,76],[1269,705,105,117,0,60,76],[554,705,103,117,0,59,76],[349,705,103,117,0,59,76],[452,705,102,117,0,58,76],[1515,940,88,114,0,44,74],[1807,940,97,108,0,54,69],[304,1057,95,105,0,48,66],[1407,1251,72,70,0,34,33],[1906,1251,64,65,0,28,38],[92,1462,55,51,0,25,27],[1841,1251,65,66,0,29,33],[652,1251,82,79,0,37,43],[133,1251,89,81,0,39,44],[1907,
1057,95,88,0,43,46],[399,1057,102,95,0,44,49],[1068,1057,105,92,0,45,47],[501,1057,106,94,0,47,48],[963,1057,105,93,0,44,49],[1880,1513,131,37,0,64,17],[632,1402,90,55,0,45,26],[1001,1402,93,54,0,46,25],[1318,1402,94,52,0,47,24],[1224,1402,94,52,0,47,24],[1923,1402,94,51,0,47,24],[1412,1402,93,52,0,46,25],[2,1462,90,51,0,45,25],[2,1594,200,28,0,98,12],[457,1594,200,28,0,98,12],[1980,823,68,69,0,32,33],[309,1334,68,67,0,31,33],[1813,1557,132,29,0,64,12],[1778,1557,35,29,0,15,15],[1749,1557,29,29,0,
13,14],[1724,1557,25,29,0,15,12],[2011,1513,35,33,0,16,16],[1058,1594,35,25,0,16,8],[1129,1594,127,23,0,65,10],[1462,1594,127,23,0,65,10],[1301,1594,127,23,0,65,10],[263,1462,59,50,0,27,22],[545,1462,59,50,0,27,22],[604,1462,57,50,0,26,22],[488,1462,57,50,0,26,22],[1138,1462,57,49,0,26,21],[968,1462,56,49,0,26,21],[1082,1462,56,49,0,26,21],[434,1462,54,50,0,25,21],[322,1462,56,50,0,26,21],[378,1462,56,50,0,26,21],[911,1462,57,49,0,26,21],[206,1462,57,50,0,26,22],[854,1462,57,49,0,26,22],[797,1462,
57,49,0,26,22],[739,1462,58,49,0,27,22],[1024,1462,58,49,0,27,22],[147,1462,59,50,0,27,22],[1753,1594,116,19,0,56,7],[1658,1513,38,38,0,17,17],[1745,1462,112,46,0,54,21]],animations:{0:{speed:1,frames:[76]},1:{speed:1,frames:[68]},2:{speed:1,frames:[69]},3:{speed:1,frames:[70]},4:{speed:1,frames:[71]},5:{speed:1,frames:[72,72]},6:{speed:1,frames:[77]},9:{speed:1,frames:[75]},8:{speed:1,frames:[74]},7:{speed:1,frames:[73]},musicoffbtn:{speed:1,frames:[12]},particle1v:{speed:1,frames:[0]},levelinstruction2:{speed:1,
frames:[51]},achievmenutitle:{speed:1,frames:[32]},levelbuttonlocked:{speed:1,frames:[8]},achievdesc8:{speed:1,frames:[42]},levelinsruction1:{speed:1,frames:[50]},achievdesc14:{speed:1,frames:[48,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49,49]},quitbtn:{speed:1,frames:[10]},"6ll":{speed:1,frames:[194]},splashlogo:{speed:1,frames:[65]},nextlevelwin:{speed:1,frames:[28]},achievdesc1:{speed:1,frames:[35]},y73v:{speed:1,frames:[31]},"3ll":{speed:1,frames:[187]},
levelselecttitle:{speed:1,frames:[5]},allcollectedstars:{speed:1,frames:[59]},lvlLabelStar1:{speed:1,frames:[24]},moregamesbtn:{speed:1,frames:[67]},achievclosed:{speed:1,frames:[33]},"8ll":{speed:1,frames:[191]},levelinstruction8:{speed:1,frames:[56]},playbtnup:{speed:1,frames:[4]},BONUS_STAR_TYPE:{speed:1,frames:[168]},achievdesc7:{speed:1,frames:[41]},achievdesc13:{speed:1,frames:[47]},"9ll":{speed:1,frames:[192]},achievdesc0:{speed:1,frames:[34]},herowomantransformv:{speed:1,frames:[294,294,295,
295,296]},levelinstruction6:{speed:1,frames:[55]},herodoctransformv:{speed:1,frames:[247,248,249,250,251,252,253,254]},MONSTER_TYPE:{speed:1,frames:[318,319,318]},herotransformrevv:{speed:1,frames:[160,160,160,159,159,159,158,158,158,157,157,157,156,156,156]},achievdesc12:{speed:1,frames:[46]},growCircle:{speed:1,frames:[57]},musiconbtn:{speed:1,frames:[11]},herotransformv:{speed:1,frames:[156,156,156,157,157,157,158,158,158,159,159,159,160,160,160]},levelinstruction3:{speed:1,frames:[52]},TELEPORT_TYPE:{speed:1,
frames:[297]},deathanimv:{speed:1,frames:[309,309,310,310,311,311,312,312,313,313,314,314,315,315,314,314,313,313,312,312,311,311,310,310,309]},achievdesc6:{speed:1,frames:[40]},herowomanfly:{speed:1,frames:[296]},GLASS_BLOCK_TYPE:{speed:1,frames:[320]},BONUS_DIAMOND_TYPE:{speed:1,frames:[162,162,162,163,163,163,164,164,164,165,165,165]},DECOR_HELP_3_TYPE:{speed:1,frames:[121,49,49,49,49,49,49,49,49,49]},logov:{speed:1,frames:[3]},DECOR_BALK_7_TYPE:{speed:1,frames:[118]},achievdesc11:{speed:1,frames:[45]},
DYNAMIC_BOX_TYPE:{speed:1,frames:[161]},HERO_TYPE:{speed:1,frames:[122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,137,138,138,139,139,140,140,141,142,142,143,143,143,142,142,141,140,140,139,139,138,138,137,137,144,145,145,146,146,147,148,148,149,149,150,151,151,152,152,153,154,154,155,155,152,151,151,150,150]},bombexplosionv:{speed:1,frames:[298,299,300,301,302,302,303,303,304,304,305,305,306,306,307,307]},lvlLabelStar0:{speed:1,frames:[7]},"2ll":{speed:1,frames:[186]},DECOR_HELP_1_TYPE:{speed:1,
frames:[119]},heroflyv:{speed:1,frames:[160]},DECOR_BALK_2_TYPE:{speed:1,frames:[79]},nextlevels:{speed:1,frames:[22]},DECOR_HELP_2_TYPE:{speed:1,frames:[120]},levelinstruction5:{speed:1,frames:[54]},achievdesc10:{speed:1,frames:[44]},"4ll":{speed:1,frames:[188]},achievdesc5:{speed:1,frames:[39]},notcollidegrow:{speed:1,frames:[21]},DECOR_PIANO_TYPE:{speed:1,frames:[117]},DECOR_COVER_TYPE:{speed:1,frames:[115]},DECOR_COW_2_TYPE:{speed:1,frames:[116]},particle2v:{speed:1,frames:[1]},ACTIVATOR_TYPE:{speed:1,
frames:[324,325,325]},previouslevels:{speed:1,frames:[23]},achievdesc9:{speed:1,frames:[43]},herodocfly:{speed:1,frames:[263]},tryagaintitle:{speed:1,frames:[19]},lll:{speed:1,frames:[195,49]},DECOR_STUL_TYPE:{speed:1,frames:[111]},DYNAMIC_RECT_TYPE:{speed:1,frames:[346]},DECOR_VESHALKA_TYPE:{speed:1,frames:[113]},PHYSICS_MAN_BLOCK_TYPE:{speed:1,frames:[317]},DECOR_VELO_TYPE:{speed:1,frames:[114]},DECOR_LAND_TYPE:{speed:1,frames:[86]},DYNAMIC_CIRCLE_TYPE:{speed:1,frames:[347,347,347,347]},DOOR_TYPE:{speed:1,
frames:[326,327,328]},DECOR_BALK_3_TYPE:{speed:1,frames:[80]},"0ll":{speed:1,frames:[193]},lvlLabelStar3:{speed:1,frames:[26]},DECOR_BALK_5_TYPE:{speed:1,frames:[82]},lvlcompletebgnew:{speed:1,frames:[27]},moregames2v:{speed:1,frames:[30]},tint2:{speed:1,frames:[83]},readytitle:{speed:1,frames:[17]},mainmenumore:{speed:1,frames:[84]},TELEGA_TYPE:{speed:1,frames:[348,49,49]},DECOR_BALK_4_TYPE:{speed:1,frames:[81]},DECOR_ZABOR_TYPE:{speed:1,frames:[89]},winbgv:{speed:1,frames:[85]},pausetitle:{speed:1,
frames:[9]},tintbg:{speed:1,frames:[18]},particleglass1:{speed:1,frames:[321]},BONUS_GHOST_TYPE:{speed:1,frames:[329,329,330,331,332,332,333,333,334,334,335,335,336,337,337,338,334,339,333,340,341,342,343,344,345,329]},lvlLabelStar2:{speed:1,frames:[25]},herodoctransformrevv:{speed:1,frames:[255,256,257,258,259,260,261,262]},spelelogo:{speed:1,frames:[66]},DECOR_PICT_2_TYPE:{speed:1,frames:[109]},BONUS_MONEY_TYPE:{speed:1,frames:[166]},DECOR_BALK_1_TYPE:{speed:1,frames:[78]},"1ll":{speed:1,frames:[185]},
PART_50:{speed:1,frames:[169]},DECOR_SVECHA_TYPE:{speed:1,frames:[108]},pausebtn:{speed:1,frames:[16]},DECOR_BALK_6_TYPE:{speed:1,frames:[98]},y125:{speed:1,frames:[173,174,175,176,177,178,178,179,177,177,180,181,182,183,184]},DECOR_TABLE_TYPE:{speed:1,frames:[110]},DECOR_DOOR_TYPE:{speed:1,frames:[107]},PART_150:{speed:1,frames:[171]},DECOR_HOUSE_4_TYPE:{speed:1,frames:[97]},totalscoreslabel:{speed:1,frames:[64]},HERO_DOC_TYPE:{speed:1,frames:[196,197,198,199,200,201,202,203,204,205,206,207,208,
209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,225,226,227,227,228,228,229,229,229,230,230,231,231,231,232,232,232,233,233,233,233,233,232,232,232,231,231,231,230,230,227,227,234,227,228,227,227,226,225,225,235,236,236,236,237,237,238,238,238,239,239,239,240,240,240,241,241,241,242,242,242,243,243,244,244,244,245,245,246,246,246,246,245,245,244,244,243,243,242,242,242,242,241,241,241,240,240,239,239,239,238,238,238,238,237,237,236,236,225,225]},DECOR_COW_TYPE:{speed:1,frames:[94]},
levelreadylabel:{speed:1,frames:[63]},DECOR_WINDOW_TYPE:{speed:1,frames:[99]},completestar:{speed:1,frames:[29,29]},DECOR_HOUSE_3_TYPE:{speed:1,frames:[96]},achievdesc4:{speed:1,frames:[38]},"5ll":{speed:1,frames:[189,189]},DECOR_MELNICA_ROT_TYPE:{speed:1,frames:[91]},AIM_TYPE:{speed:1,frames:[167]},achievbtn:{speed:1,frames:[14]},DECOR_CIRCUS_TYPE:{speed:1,frames:[95]},biglimetxt:{speed:1,frames:[62]},DECOR_HOUSE_2_TYPE:{speed:1,frames:[93]},gamecompletedTitle:{speed:1,frames:[58]},restartbtn:{speed:1,
frames:[13]},DECOR_MELNICA_TYPE:{speed:1,frames:[90]},particleglass3:{speed:1,frames:[323]},levelinstruction4:{speed:1,frames:[53]},PART_200:{speed:1,frames:[172,172]},DECOR_ARROW_TYPE:{speed:1,frames:[92]},DECOR_VENT_TYPE:{speed:1,frames:[105]},PART_100:{speed:1,frames:[170]},DECOR_KUST_TYPE:{speed:1,frames:[88]},particle3v:{speed:1,frames:[2]},DECOR_ELECTR_TYPE:{speed:1,frames:[106]},DECOR_FLOWER_1_TYPE:{speed:1,frames:[104]},HERO_WOMAN_TYPE:{speed:1,frames:[264,265,266,267,268,269,270,271,272,
273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293,293]},achievdesc3:{speed:1,
frames:[37]},"7ll":{speed:1,frames:[190]},DECOR_GRAM_TYPE:{speed:1,frames:[102]},inspiredby:{speed:1,frames:[61]},DANGER_TYPE:{speed:1,frames:[308]},DECOR_CAT_2_TYPE:{speed:1,frames:[101]},lostallfishes:{speed:1,frames:[20]},DECOR_PICT_1_TYPE:{speed:1,frames:[103]},herowomantransformrevv:{speed:1,frames:[296,295,295,294,294]},backbtn:{speed:1,frames:[6]},DECOR_CAT_1_TYPE:{speed:1,frames:[100]},particleglass2:{speed:1,frames:[322]},DECOR_PICT_3_TYPE:{speed:1,frames:[112]},achievdesc2:{speed:1,frames:[36]},
creditstitle:{speed:1,frames:[60]},btnbaseup:{speed:1,frames:[15]},DECOR_HOUSE_TYPE:{speed:1,frames:[87]},PHYSICS_WOMAN_BLOCK_TYPE:{speed:1,frames:[316]}}},interfaceCFG={},y350={framerate:24,images:["assets/cheapbg.jpg"],frames:[[0,270,401,270,0,0,0],[401,270,401,270,0,0,0],[0,540,401,270,0,0,0],[401,0,401,270,0,0,0],[0,0,401,270,0,0,0]],animations:{bigbg:{speed:1,frames:[0,1,2,3,4]}}},y223=1,y130=2,y390=3,y242=4,PART_GLASS_TYPE=5,PART_ACHIEV_TYPE=6,y324=12;
(function(c){function a(a,b,c){this.initialize(a,b,c)}var b=a.prototype;b.initialize=function(a,b,c){var f=new createjs.Sprite(y162);f.snapToPixel=!0;f.baseBlock=this;this.vis=f;this.reset(a,b,c)};b.reset=function(a,b,c){this.type=a;this.vis.parent!=b&&y149(this.vis);createjs.Tween.removeTweens(this.vis);this.parent=b;this.vis.alpha=1;this.vis.mouseEnabled=!1;this.y11=this.y10=this.y9=0;this.speedScale=0.05;this.maxScale=1.2;this.y11lpha=0.08;this.y12=0.6;this.isNum=!1;this.beforeHideTimer=0.1;this.isNeedDispose=
this.isInstruction=!1;this.vis.spriteSheet=y162;deleteCache(this.vis);var f="numb0";a==y223?f=0.7<Math.random()?"particle1v":0.5<Math.random()?"particle3v":"particle2v":a==y390||a==PART_ACHIEV_TYPE?this.isNum=!0:a==y130?(this.y12=0,f=0.5<Math.random()?"cloud1v":"cloud2v"):a==y242?this.isInstruction=!0:a===PART_GLASS_TYPE&&(f=0.7<Math.random()?"particleglass1":0.5<Math.random()?"particleglass2":"particleglass3");this.vis.gotoAndStop(f);this.scale=c;this.y14();b.addChild(this.vis)};b.setPos=function(a,
b){this.vis.x=a;this.vis.y=b};b.y31=function(a){this.beforeHideTimer=10;this.y11lpha=0.03;this.y12=0;this.vis.y7=0;this.vis.gotoAndStop("PART_"+a)};b.y32=function(a,b){this.y12=0;this.vis.y7=0;b?this.vis.gotoAndPlay(a):this.vis.gotoAndStop(a)};b.tick=function(){if(!(this.isNeedDispose||(this.vis.x+=this.y9*dtScale,this.vis.y+=this.y10*dtScale,this.y10+=this.y12*dtScale,this.vis.y7+=this.y11*dtScale,this.beforeHideTimer-=dtScale,0<this.beforeHideTimer))){if(this.isNum)this.vis.alpha-=this.y11lpha*
dtScale;else{if(this.isInstruction)return;this.vis.visible=!0;this.vis.scaleX+=this.speedScale*dtScale;this.vis.scaleX>this.maxScale&&(this.vis.alpha-=this.y11lpha*dtScale);this.vis.scaleY=this.vis.scaleX}0.01>this.vis.alpha&&(this.isNeedDispose=!0)}};b.y14=function(){this.vis.scaleX=this.vis.scaleY=this.scale};b.dispose=function(){isArrayContains(y93,this)&&y93.splice(y93.indexOf(this,0),1);y134(this);this.vis.removeAllEventListeners();this.vis.stop();y149(this.vis)};c.y400=a})(window);
var y93=[],disposedParts=[];function initParticleManager(){y374.addChild(particleContainer)}var partSin,partCos,partScale;function y58Explode(c,a,b,h,d,e){for(var f,g=0;g<b;g++){f=g*(2*Math.PI/b);partSin=Math.cos(f);partCos=Math.sin(f);f=y58(h,c,a,1,d?d:particleContainer);if(!f)break;setParticleParamsByIndex(f,e?e:0)}}
function setParticleParamsByIndex(c,a){var b=1.3;c.y12=0;c.y11=20*Math.random();0===a?(c.maxScale=0.7,c.beforeHideTimer=0.2*FPS,partScale=0.2+0.2*Math.random()):1===a?(b=4,c.maxScale=1.3,c.beforeHideTimer=0.3*FPS,c.y12=0,c.y11lpha=0.05,c.y11=20*Math.random(),partScale=0.4+0.6*Math.random()):2===a&&(b=2,c.maxScale=1.3,c.vis.alpha=1,c.beforeHideTimer=0.3*FPS,c.y11=20*Math.random(),partScale=0.4+0.6*Math.random());c.vis.scaleX=c.vis.scaleY=partScale;c.y9=(b+Math.random()*b)*partCos;c.y10=(b+Math.random()*
b)*partSin}function createDiePart(c,a){var b=y58(y390,c,a,1,particleContainer);b&&(b.y31(11),b.y32("deathanimv",!0),b.y11lpha=0.05,b.beforeHideTimer=1.5*FPS,b.y9=0,b.y10=-1,b.y11=0)}
function createGoodPlayExplode(c,a){for(var b,h=0==a?90:-120,d=0;8>d;d++){var e=d*(Math.PI/2/8)-Math.PI/4;0<a&&(e+=Math.PI);var f=Math.cos(e),e=Math.sin(e);b=0.2+0.2*Math.random();b=y58(y223,h,0,b,monsterCont);if(!b)break;b.y32("particle1v");b.y11lpha=0.1;b.speedScale=0.02;b.vis.visible=!1;b.beforeHideTimer=0.5*FPS;b.maxScale=0.6;b.y9=(1.5+1.5*Math.random())*f;b.y10=(1.5+1.5*Math.random())*e;b.y11=20*Math.random()}}
function y66(c,a,b){if(c=y58(y390,c,a,0.8,particleContainer))c.y31(b),c.beforeHideTimer=0.2*FPS,c.y9=0,c.y10=-0.8,c.y11=0}
function createGlassExplode(c,a,b,h){for(var d,e=0;5>e;e++){var f=h*Math.PI/180;d=Math.cos(f);var f=Math.sin(f),g=(24.4*e-60)*b;d=y58(PART_GLASS_TYPE,c+g*d,a+g*f,1,particleContainer);if(!d)break;d.y12=0;d.y11=20*Math.random();d.maxScale=0.7;d.beforeHideTimer=0.1*FPS;d.y12=0;d.y11lpha=0.05;partScale=0.6;d.vis.scaleX=d.vis.scaleY=partScale;d.y9=1.3-2.6*Math.random();d.y10=1.3-2.6*Math.random()}}
function createAwesomePart(){var c=y58(y390,160,topVisionLine+y56/2,1,particleContainer);c&&(c.y31(11),c.y11lpha=1,c.beforeHideTimer=1.5*FPS,c.y9=0,c.y10=0,c.y11=0,c.vis.y7=-360,c.vis.scaleX=c.vis.scaleY=0.1,createjs.Tween.get(c.vis,{override:!0}).to({y7:0,scaleX:1,scaleY:1},600).wait(600).to({alpha:0},200))}
function createAchievPart(c){for(var a=210,b=10,h=0,d,e=0;e<y93.length;e++)d=y93[e],d.type===PART_ACHIEV_TYPE&&(a=d.vis.y-50,b+=200,h++);if(d=y58(PART_ACHIEV_TYPE,-130,a,0.8,y374))d.y32("achievdesc"+c),d.y11lpha=1,d.beforeHideTimer=3.2*FPS+0.2*h,d.y9=0,d.y10=0,d.y11=0,d.vis.y7=0,d.vis.scaleX=d.vis.scaleY=0.7,d.vis.alpha=1,createjs.Tween.get(d.vis,{override:!0}).wait(b).to({x:5},600,y363).wait(2E3).to({x:-130},400,createjs.Ease.sineIn)}var y93Lenght=0;
function y58(c,a,b,h,d){var e;y93Lenght=y93.length;if(y93Lenght>y324){for(var f=0;f<y93Lenght;f++)if(y93[f].type===y223){e=y93[f];break}e||(e=y93[0]);e.reset(c,d,h)}else e=y322(c,d,h);e.setPos(a,b);isArrayContains(y93,e)||y93.push(e);return e}function y134(c){isArrayContains(disposedParts,c)||disposedParts.push(c)}function y322(c,a,b){if(0<disposedParts.length){var h=disposedParts.pop();h.reset(c,a,b);return h}return new y400(c,a,b)}var y62=0,y140=null,disposeNeededParts=[];
function y111(){y62=y93.length;for(var c=0;c<y62;c++)y140=y93[c],y140.tick(),y140.isNeedDispose&&disposeNeededParts.push(y140);for(;0<disposeNeededParts.length;)disposeNeededParts.pop().dispose()}var Box2D={};
(function(c,a){function b(){}!(Object.prototype.defineProperty instanceof Function)&&Object.prototype.__defineGetter__ instanceof Function&&Object.prototype.__defineSetter__ instanceof Function&&(Object.defineProperty=function(a,b,c){c.get instanceof Function&&a.__defineGetter__(b,c.get);c.set instanceof Function&&a.__defineSetter__(b,c.set)});c.inherit=function(a,c){b.prototype=c.prototype;a.prototype=new b;a.prototype.constructor=a};c.generateCallback=function(a,b){return function(){b.apply(a,arguments)}};
c.NVector=function(b){b===a&&(b=0);for(var c=Array(b||0),e=0;e<b;++e)c[e]=0;return c};c.is=function(b,c){return null===b?!1:c instanceof Function&&b instanceof c||b.constructor.__implements!=a&&b.constructor.__implements[c]?!0:!1};c.parseUInt=function(a){return Math.abs(parseInt(a))}})(Box2D);var Vector=Array,Vector_a2j_Number=Box2D.NVector;"undefined"===typeof Box2D&&(Box2D={});"undefined"===typeof Box2D.Collision&&(Box2D.Collision={});
"undefined"===typeof Box2D.Collision.Shapes&&(Box2D.Collision.Shapes={});"undefined"===typeof Box2D.Common&&(Box2D.Common={});"undefined"===typeof Box2D.Common.Math&&(Box2D.Common.Math={});"undefined"===typeof Box2D.Dynamics&&(Box2D.Dynamics={});"undefined"===typeof Box2D.Dynamics.Contacts&&(Box2D.Dynamics.Contacts={});"undefined"===typeof Box2D.Dynamics.Controllers&&(Box2D.Dynamics.Controllers={});"undefined"===typeof Box2D.Dynamics.Joints&&(Box2D.Dynamics.Joints={});
(function(){function c(){c.b2AABB.apply(this,arguments)}function a(){a.b2Bound.apply(this,arguments)}function b(){b.b2BoundValues.apply(this,arguments);this.constructor===b&&this.b2BoundValues.apply(this,arguments)}function h(){h.b2Collision.apply(this,arguments)}function d(){d.b2ContactID.apply(this,arguments);this.constructor===d&&this.b2ContactID.apply(this,arguments)}function e(){e.b2ContactPoint.apply(this,arguments)}function f(){f.b2Distance.apply(this,arguments)}function g(){g.b2DistanceInput.apply(this,
arguments)}function k(){k.b2DistanceOutput.apply(this,arguments)}function m(){m.b2DistanceProxy.apply(this,arguments)}function n(){n.b2DynamicTree.apply(this,arguments);this.constructor===n&&this.b2DynamicTree.apply(this,arguments)}function w(){w.b2DynamicTreeBroadPhase.apply(this,arguments)}function s(){s.b2DynamicTreeNode.apply(this,arguments)}function t(){t.b2DynamicTreePair.apply(this,arguments)}function x(){x.b2Manifold.apply(this,arguments);this.constructor===x&&this.b2Manifold.apply(this,arguments)}
function y(){y.b2ManifoldPoint.apply(this,arguments);this.constructor===y&&this.b2ManifoldPoint.apply(this,arguments)}function q(){q.b2Point.apply(this,arguments)}function A(){A.b2RayCastInput.apply(this,arguments);this.constructor===A&&this.b2RayCastInput.apply(this,arguments)}function z(){z.b2RayCastOutput.apply(this,arguments)}function H(){H.b2Segment.apply(this,arguments)}function E(){E.b2SeparationFunction.apply(this,arguments)}function G(){G.b2Simplex.apply(this,arguments);this.constructor===
G&&this.b2Simplex.apply(this,arguments)}function C(){C.b2SimplexCache.apply(this,arguments)}function K(){K.b2SimplexVertex.apply(this,arguments)}function F(){F.b2TimeOfImpact.apply(this,arguments)}function I(){I.b2TOIInput.apply(this,arguments)}function N(){N.b2WorldManifold.apply(this,arguments);this.constructor===N&&this.b2WorldManifold.apply(this,arguments)}function L(){L.ClipVertex.apply(this,arguments)}function p(){p.Features.apply(this,arguments)}function v(){v.b2CircleShape.apply(this,arguments);
this.constructor===v&&this.b2CircleShape.apply(this,arguments)}function D(){D.b2EdgeChainDef.apply(this,arguments);this.constructor===D&&this.b2EdgeChainDef.apply(this,arguments)}function B(){B.b2EdgeShape.apply(this,arguments);this.constructor===B&&this.b2EdgeShape.apply(this,arguments)}function J(){J.b2MassData.apply(this,arguments)}function M(){M.b2PolygonShape.apply(this,arguments);this.constructor===M&&this.b2PolygonShape.apply(this,arguments)}function O(){O.b2Shape.apply(this,arguments);this.constructor===
O&&this.b2Shape.apply(this,arguments)}function u(){u.b2Color.apply(this,arguments);this.constructor===u&&this.b2Color.apply(this,arguments)}function r(){r.b2Settings.apply(this,arguments)}function P(){P.b2Mat22.apply(this,arguments);this.constructor===P&&this.b2Mat22.apply(this,arguments)}function Q(){Q.b2Mat33.apply(this,arguments);this.constructor===Q&&this.b2Mat33.apply(this,arguments)}function Ba(){Ba.b2Math.apply(this,arguments)}function Ca(){Ca.b2Sweep.apply(this,arguments)}function R(){R.b2Transform.apply(this,
arguments);this.constructor===R&&this.b2Transform.apply(this,arguments)}function S(){S.b2Vec2.apply(this,arguments);this.constructor===S&&this.b2Vec2.apply(this,arguments)}function T(){T.b2Vec3.apply(this,arguments);this.constructor===T&&this.b2Vec3.apply(this,arguments)}function U(){U.b2Body.apply(this,arguments);this.constructor===U&&this.b2Body.apply(this,arguments)}function V(){V.b2BodyDef.apply(this,arguments);this.constructor===V&&this.b2BodyDef.apply(this,arguments)}function Da(){Da.b2ContactFilter.apply(this,
arguments)}function Ea(){Ea.b2ContactImpulse.apply(this,arguments)}function Fa(){Fa.b2ContactListener.apply(this,arguments)}function W(){W.b2ContactManager.apply(this,arguments);this.constructor===W&&this.b2ContactManager.apply(this,arguments)}function X(){X.b2DebugDraw.apply(this,arguments);this.constructor===X&&this.b2DebugDraw.apply(this,arguments)}function Ga(){Ga.b2DestructionListener.apply(this,arguments)}function Ha(){Ha.b2FilterData.apply(this,arguments)}function Y(){Y.b2Fixture.apply(this,
arguments);this.constructor===Y&&this.b2Fixture.apply(this,arguments)}function Z(){Z.b2FixtureDef.apply(this,arguments);this.constructor===Z&&this.b2FixtureDef.apply(this,arguments)}function $(){$.b2Island.apply(this,arguments);this.constructor===$&&this.b2Island.apply(this,arguments)}function Ia(){Ia.b2TimeStep.apply(this,arguments)}function aa(){aa.b2World.apply(this,arguments);this.constructor===aa&&this.b2World.apply(this,arguments)}function Ja(){Ja.b2CircleContact.apply(this,arguments)}function ba(){ba.b2Contact.apply(this,
arguments);this.constructor===ba&&this.b2Contact.apply(this,arguments)}function ca(){ca.b2ContactConstraint.apply(this,arguments);this.constructor===ca&&this.b2ContactConstraint.apply(this,arguments)}function Ka(){Ka.b2ContactConstraintPoint.apply(this,arguments)}function La(){La.b2ContactEdge.apply(this,arguments)}function da(){da.b2ContactFactory.apply(this,arguments);this.constructor===da&&this.b2ContactFactory.apply(this,arguments)}function Ma(){Ma.b2ContactRegister.apply(this,arguments)}function Na(){Na.b2ContactResult.apply(this,
arguments)}function ea(){ea.b2ContactSolver.apply(this,arguments);this.constructor===ea&&this.b2ContactSolver.apply(this,arguments)}function Oa(){Oa.b2EdgeAndCircleContact.apply(this,arguments)}function fa(){fa.b2NullContact.apply(this,arguments);this.constructor===fa&&this.b2NullContact.apply(this,arguments)}function Pa(){Pa.b2PolyAndCircleContact.apply(this,arguments)}function Qa(){Qa.b2PolyAndEdgeContact.apply(this,arguments)}function Ra(){Ra.b2PolygonContact.apply(this,arguments)}function ga(){ga.b2PositionSolverManifold.apply(this,
arguments);this.constructor===ga&&this.b2PositionSolverManifold.apply(this,arguments)}function Sa(){Sa.b2BuoyancyController.apply(this,arguments)}function Ta(){Ta.b2ConstantAccelController.apply(this,arguments)}function Ua(){Ua.b2ConstantForceController.apply(this,arguments)}function Va(){Va.b2Controller.apply(this,arguments)}function Wa(){Wa.b2ControllerEdge.apply(this,arguments)}function Xa(){Xa.b2GravityController.apply(this,arguments)}function Ya(){Ya.b2TensorDampingController.apply(this,arguments)}
function ha(){ha.b2DistanceJoint.apply(this,arguments);this.constructor===ha&&this.b2DistanceJoint.apply(this,arguments)}function ia(){ia.b2DistanceJointDef.apply(this,arguments);this.constructor===ia&&this.b2DistanceJointDef.apply(this,arguments)}function ja(){ja.b2FrictionJoint.apply(this,arguments);this.constructor===ja&&this.b2FrictionJoint.apply(this,arguments)}function ka(){ka.b2FrictionJointDef.apply(this,arguments);this.constructor===ka&&this.b2FrictionJointDef.apply(this,arguments)}function la(){la.b2GearJoint.apply(this,
arguments);this.constructor===la&&this.b2GearJoint.apply(this,arguments)}function ma(){ma.b2GearJointDef.apply(this,arguments);this.constructor===ma&&this.b2GearJointDef.apply(this,arguments)}function Za(){Za.b2Jacobian.apply(this,arguments)}function na(){na.b2Joint.apply(this,arguments);this.constructor===na&&this.b2Joint.apply(this,arguments)}function oa(){oa.b2JointDef.apply(this,arguments);this.constructor===oa&&this.b2JointDef.apply(this,arguments)}function $a(){$a.b2JointEdge.apply(this,arguments)}
function pa(){pa.b2LineJoint.apply(this,arguments);this.constructor===pa&&this.b2LineJoint.apply(this,arguments)}function qa(){qa.b2LineJointDef.apply(this,arguments);this.constructor===qa&&this.b2LineJointDef.apply(this,arguments)}function ra(){ra.b2MouseJoint.apply(this,arguments);this.constructor===ra&&this.b2MouseJoint.apply(this,arguments)}function sa(){sa.b2MouseJointDef.apply(this,arguments);this.constructor===sa&&this.b2MouseJointDef.apply(this,arguments)}function ta(){ta.b2PrismaticJoint.apply(this,
arguments);this.constructor===ta&&this.b2PrismaticJoint.apply(this,arguments)}function ua(){ua.b2PrismaticJointDef.apply(this,arguments);this.constructor===ua&&this.b2PrismaticJointDef.apply(this,arguments)}function va(){va.b2PulleyJoint.apply(this,arguments);this.constructor===va&&this.b2PulleyJoint.apply(this,arguments)}function wa(){wa.b2PulleyJointDef.apply(this,arguments);this.constructor===wa&&this.b2PulleyJointDef.apply(this,arguments)}function xa(){xa.b2RevoluteJoint.apply(this,arguments);
this.constructor===xa&&this.b2RevoluteJoint.apply(this,arguments)}function ya(){ya.b2RevoluteJointDef.apply(this,arguments);this.constructor===ya&&this.b2RevoluteJointDef.apply(this,arguments)}function za(){za.b2WeldJoint.apply(this,arguments);this.constructor===za&&this.b2WeldJoint.apply(this,arguments)}function Aa(){Aa.b2WeldJointDef.apply(this,arguments);this.constructor===Aa&&this.b2WeldJointDef.apply(this,arguments)}Box2D.Collision.IBroadPhase="Box2D.Collision.IBroadPhase";Box2D.Collision.b2AABB=
c;Box2D.Collision.b2Bound=a;Box2D.Collision.b2BoundValues=b;Box2D.Collision.b2Collision=h;Box2D.Collision.b2ContactID=d;Box2D.Collision.b2ContactPoint=e;Box2D.Collision.b2Distance=f;Box2D.Collision.b2DistanceInput=g;Box2D.Collision.b2DistanceOutput=k;Box2D.Collision.b2DistanceProxy=m;Box2D.Collision.b2DynamicTree=n;Box2D.Collision.b2DynamicTreeBroadPhase=w;Box2D.Collision.b2DynamicTreeNode=s;Box2D.Collision.b2DynamicTreePair=t;Box2D.Collision.b2Manifold=x;Box2D.Collision.b2ManifoldPoint=y;Box2D.Collision.b2Point=
q;Box2D.Collision.b2RayCastInput=A;Box2D.Collision.b2RayCastOutput=z;Box2D.Collision.b2Segment=H;Box2D.Collision.b2SeparationFunction=E;Box2D.Collision.b2Simplex=G;Box2D.Collision.b2SimplexCache=C;Box2D.Collision.b2SimplexVertex=K;Box2D.Collision.b2TimeOfImpact=F;Box2D.Collision.b2TOIInput=I;Box2D.Collision.b2WorldManifold=N;Box2D.Collision.ClipVertex=L;Box2D.Collision.Features=p;Box2D.Collision.Shapes.b2CircleShape=v;Box2D.Collision.Shapes.b2EdgeChainDef=D;Box2D.Collision.Shapes.b2EdgeShape=B;Box2D.Collision.Shapes.b2MassData=
J;Box2D.Collision.Shapes.b2PolygonShape=M;Box2D.Collision.Shapes.b2Shape=O;Box2D.Common.b2internal="Box2D.Common.b2internal";Box2D.Common.b2Color=u;Box2D.Common.b2Settings=r;Box2D.Common.Math.b2Mat22=P;Box2D.Common.Math.b2Mat33=Q;Box2D.Common.Math.b2Math=Ba;Box2D.Common.Math.b2Sweep=Ca;Box2D.Common.Math.b2Transform=R;Box2D.Common.Math.b2Vec2=S;Box2D.Common.Math.b2Vec3=T;Box2D.Dynamics.b2Body=U;Box2D.Dynamics.b2BodyDef=V;Box2D.Dynamics.b2ContactFilter=Da;Box2D.Dynamics.b2ContactImpulse=Ea;Box2D.Dynamics.b2ContactListener=
Fa;Box2D.Dynamics.b2ContactManager=W;Box2D.Dynamics.b2DebugDraw=X;Box2D.Dynamics.b2DestructionListener=Ga;Box2D.Dynamics.b2FilterData=Ha;Box2D.Dynamics.b2Fixture=Y;Box2D.Dynamics.b2FixtureDef=Z;Box2D.Dynamics.b2Island=$;Box2D.Dynamics.b2TimeStep=Ia;Box2D.Dynamics.b2World=aa;Box2D.Dynamics.Contacts.b2CircleContact=Ja;Box2D.Dynamics.Contacts.b2Contact=ba;Box2D.Dynamics.Contacts.b2ContactConstraint=ca;Box2D.Dynamics.Contacts.b2ContactConstraintPoint=Ka;Box2D.Dynamics.Contacts.b2ContactEdge=La;Box2D.Dynamics.Contacts.b2ContactFactory=
da;Box2D.Dynamics.Contacts.b2ContactRegister=Ma;Box2D.Dynamics.Contacts.b2ContactResult=Na;Box2D.Dynamics.Contacts.b2ContactSolver=ea;Box2D.Dynamics.Contacts.b2EdgeAndCircleContact=Oa;Box2D.Dynamics.Contacts.b2NullContact=fa;Box2D.Dynamics.Contacts.b2PolyAndCircleContact=Pa;Box2D.Dynamics.Contacts.b2PolyAndEdgeContact=Qa;Box2D.Dynamics.Contacts.b2PolygonContact=Ra;Box2D.Dynamics.Contacts.b2PositionSolverManifold=ga;Box2D.Dynamics.Controllers.b2BuoyancyController=Sa;Box2D.Dynamics.Controllers.b2ConstantAccelController=
Ta;Box2D.Dynamics.Controllers.b2ConstantForceController=Ua;Box2D.Dynamics.Controllers.b2Controller=Va;Box2D.Dynamics.Controllers.b2ControllerEdge=Wa;Box2D.Dynamics.Controllers.b2GravityController=Xa;Box2D.Dynamics.Controllers.b2TensorDampingController=Ya;Box2D.Dynamics.Joints.b2DistanceJoint=ha;Box2D.Dynamics.Joints.b2DistanceJointDef=ia;Box2D.Dynamics.Joints.b2FrictionJoint=ja;Box2D.Dynamics.Joints.b2FrictionJointDef=ka;Box2D.Dynamics.Joints.b2GearJoint=la;Box2D.Dynamics.Joints.b2GearJointDef=ma;
Box2D.Dynamics.Joints.b2Jacobian=Za;Box2D.Dynamics.Joints.b2Joint=na;Box2D.Dynamics.Joints.b2JointDef=oa;Box2D.Dynamics.Joints.b2JointEdge=$a;Box2D.Dynamics.Joints.b2LineJoint=pa;Box2D.Dynamics.Joints.b2LineJointDef=qa;Box2D.Dynamics.Joints.b2MouseJoint=ra;Box2D.Dynamics.Joints.b2MouseJointDef=sa;Box2D.Dynamics.Joints.b2PrismaticJoint=ta;Box2D.Dynamics.Joints.b2PrismaticJointDef=ua;Box2D.Dynamics.Joints.b2PulleyJoint=va;Box2D.Dynamics.Joints.b2PulleyJointDef=wa;Box2D.Dynamics.Joints.b2RevoluteJoint=
xa;Box2D.Dynamics.Joints.b2RevoluteJointDef=ya;Box2D.Dynamics.Joints.b2WeldJoint=za;Box2D.Dynamics.Joints.b2WeldJointDef=Aa})();Box2D.postDefs=[];
(function(){var c=Box2D.Collision.Shapes.b2CircleShape,a=Box2D.Collision.Shapes.b2PolygonShape,b=Box2D.Collision.Shapes.b2Shape,h=Box2D.Common.b2Settings,d=Box2D.Common.Math.b2Math,e=Box2D.Common.Math.b2Sweep,f=Box2D.Common.Math.b2Transform,g=Box2D.Common.Math.b2Vec2,k=Box2D.Collision.b2AABB,m=Box2D.Collision.b2Bound,n=Box2D.Collision.b2BoundValues,w=Box2D.Collision.b2Collision,s=Box2D.Collision.b2ContactID,t=Box2D.Collision.b2ContactPoint,x=Box2D.Collision.b2Distance,y=Box2D.Collision.b2DistanceInput,
q=Box2D.Collision.b2DistanceOutput,A=Box2D.Collision.b2DistanceProxy,z=Box2D.Collision.b2DynamicTree,H=Box2D.Collision.b2DynamicTreeBroadPhase,E=Box2D.Collision.b2DynamicTreeNode,G=Box2D.Collision.b2DynamicTreePair,C=Box2D.Collision.b2Manifold,K=Box2D.Collision.b2ManifoldPoint,F=Box2D.Collision.b2Point,I=Box2D.Collision.b2RayCastInput,N=Box2D.Collision.b2RayCastOutput,L=Box2D.Collision.b2Segment,p=Box2D.Collision.b2SeparationFunction,v=Box2D.Collision.b2Simplex,D=Box2D.Collision.b2SimplexCache,B=
Box2D.Collision.b2SimplexVertex,J=Box2D.Collision.b2TimeOfImpact,M=Box2D.Collision.b2TOIInput,O=Box2D.Collision.b2WorldManifold,u=Box2D.Collision.ClipVertex,r=Box2D.Collision.Features,P=Box2D.Collision.IBroadPhase;k.b2AABB=function(){this.lowerBound=new g;this.upperBound=new g};k.prototype.IsValid=function(){var a=this.upperBound.y-this.lowerBound.y;return a=(a=0<=this.upperBound.x-this.lowerBound.x&&0<=a)&&this.lowerBound.IsValid()&&this.upperBound.IsValid()};k.prototype.GetCenter=function(){return new g((this.lowerBound.x+
this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)};k.prototype.GetExtents=function(){return new g((this.upperBound.x-this.lowerBound.x)/2,(this.upperBound.y-this.lowerBound.y)/2)};k.prototype.Contains=function(a){var b;return b=(b=(b=(b=this.lowerBound.x<=a.lowerBound.x)&&this.lowerBound.y<=a.lowerBound.y)&&a.upperBound.x<=this.upperBound.x)&&a.upperBound.y<=this.upperBound.y};k.prototype.RayCast=function(a,b){var c=-Number.MAX_VALUE,d=Number.MAX_VALUE,u=b.p1.x,g=b.p1.y,e=b.p2.x-b.p1.x,
r=b.p2.y-b.p1.y,p=Math.abs(e),f=Math.abs(r),h=a.normal,v=0,B=0,k=v=0,k=0;if(p<Number.MIN_VALUE){if(u<this.lowerBound.x||this.upperBound.x<u)return!1}else if(v=1/e,B=(this.lowerBound.x-u)*v,v*=this.upperBound.x-u,k=-1,B>v&&(k=B,B=v,v=k,k=1),B>c&&(h.x=k,h.y=0,c=B),d=Math.min(d,v),c>d)return!1;if(f<Number.MIN_VALUE){if(g<this.lowerBound.y||this.upperBound.y<g)return!1}else if(v=1/r,B=(this.lowerBound.y-g)*v,v*=this.upperBound.y-g,k=-1,B>v&&(k=B,B=v,v=k,k=1),B>c&&(h.y=k,h.x=0,c=B),d=Math.min(d,v),c>d)return!1;
a.fraction=c;return!0};k.prototype.TestOverlap=function(a){var b=a.lowerBound.y-this.upperBound.y,c=this.lowerBound.y-a.upperBound.y;return 0<a.lowerBound.x-this.upperBound.x||0<b||0<this.lowerBound.x-a.upperBound.x||0<c?!1:!0};k.Combine=function(a,b){var c=new k;c.Combine(a,b);return c};k.prototype.Combine=function(a,b){this.lowerBound.x=Math.min(a.lowerBound.x,b.lowerBound.x);this.lowerBound.y=Math.min(a.lowerBound.y,b.lowerBound.y);this.upperBound.x=Math.max(a.upperBound.x,b.upperBound.x);this.upperBound.y=
Math.max(a.upperBound.y,b.upperBound.y)};m.b2Bound=function(){};m.prototype.IsLower=function(){return 0==(this.value&1)};m.prototype.IsUpper=function(){return 1==(this.value&1)};m.prototype.Swap=function(a){var b=this.value,c=this.proxy,d=this.stabbingCount;this.value=a.value;this.proxy=a.proxy;this.stabbingCount=a.stabbingCount;a.value=b;a.proxy=c;a.stabbingCount=d};n.b2BoundValues=function(){};n.prototype.b2BoundValues=function(){this.lowerValues=new Vector_a2j_Number;this.lowerValues[0]=0;this.lowerValues[1]=
0;this.upperValues=new Vector_a2j_Number;this.upperValues[0]=0;this.upperValues[1]=0};w.b2Collision=function(){};w.ClipSegmentToLine=function(a,b,c,d){void 0===d&&(d=0);var u,g=0;u=b[0];var e=u.v;u=b[1];var r=u.v,p=c.x*e.x+c.y*e.y-d;u=c.x*r.x+c.y*r.y-d;0>=p&&a[g++].Set(b[0]);0>=u&&a[g++].Set(b[1]);0>p*u&&(c=p/(p-u),u=a[g],u=u.v,u.x=e.x+c*(r.x-e.x),u.y=e.y+c*(r.y-e.y),u=a[g],u.id=(0<p?b[0]:b[1]).id,++g);return g};w.EdgeSeparation=function(a,b,c,d,u){void 0===c&&(c=0);parseInt(a.m_vertexCount);var g=
a.m_vertices;a=a.m_normals;var e=parseInt(d.m_vertexCount),r=d.m_vertices,p,f;p=b.R;f=a[c];a=p.col1.x*f.x+p.col2.x*f.y;d=p.col1.y*f.x+p.col2.y*f.y;p=u.R;var h=p.col1.x*a+p.col1.y*d;p=p.col2.x*a+p.col2.y*d;for(var v=0,B=Number.MAX_VALUE,k=0;k<e;++k)f=r[k],f=f.x*h+f.y*p,f<B&&(B=f,v=k);f=g[c];p=b.R;c=b.position.x+(p.col1.x*f.x+p.col2.x*f.y);b=b.position.y+(p.col1.y*f.x+p.col2.y*f.y);f=r[v];p=u.R;g=u.position.x+(p.col1.x*f.x+p.col2.x*f.y);u=u.position.y+(p.col1.y*f.x+p.col2.y*f.y);return(g-c)*a+(u-b)*
d};w.FindMaxSeparation=function(a,b,c,d,u){var g=parseInt(b.m_vertexCount),e=b.m_normals,p,r;r=u.R;p=d.m_centroid;var f=u.position.x+(r.col1.x*p.x+r.col2.x*p.y),h=u.position.y+(r.col1.y*p.x+r.col2.y*p.y);r=c.R;p=b.m_centroid;f-=c.position.x+(r.col1.x*p.x+r.col2.x*p.y);h-=c.position.y+(r.col1.y*p.x+r.col2.y*p.y);r=f*c.R.col1.x+h*c.R.col1.y;for(var h=f*c.R.col2.x+h*c.R.col2.y,f=0,v=-Number.MAX_VALUE,B=0;B<g;++B)p=e[B],p=p.x*r+p.y*h,p>v&&(v=p,f=B);e=w.EdgeSeparation(b,c,f,d,u);p=parseInt(0<=f-1?f-1:
g-1);r=w.EdgeSeparation(b,c,p,d,u);var h=parseInt(f+1<g?f+1:0),v=w.EdgeSeparation(b,c,h,d,u),k=B=0,P=0;if(r>e&&r>v)P=-1,B=p,k=r;else if(v>e)P=1,B=h,k=v;else return a[0]=f,e;for(;;)if(f=-1==P?0<=B-1?B-1:g-1:B+1<g?B+1:0,e=w.EdgeSeparation(b,c,f,d,u),e>k)B=f,k=e;else break;a[0]=B;return k};w.FindIncidentEdge=function(a,b,c,d,u,g){void 0===d&&(d=0);parseInt(b.m_vertexCount);var e=b.m_normals,p=parseInt(u.m_vertexCount);b=u.m_vertices;u=u.m_normals;var r;r=c.R;c=e[d];var e=r.col1.x*c.x+r.col2.x*c.y,f=
r.col1.y*c.x+r.col2.y*c.y;r=g.R;c=r.col1.x*e+r.col1.y*f;f=r.col2.x*e+r.col2.y*f;e=c;r=0;for(var h=Number.MAX_VALUE,v=0;v<p;++v)c=u[v],c=e*c.x+f*c.y,c<h&&(h=c,r=v);u=parseInt(r);e=parseInt(u+1<p?u+1:0);p=a[0];c=b[u];r=g.R;p.v.x=g.position.x+(r.col1.x*c.x+r.col2.x*c.y);p.v.y=g.position.y+(r.col1.y*c.x+r.col2.y*c.y);p.id.features.referenceEdge=d;p.id.features.incidentEdge=u;p.id.features.incidentVertex=0;p=a[1];c=b[e];r=g.R;p.v.x=g.position.x+(r.col1.x*c.x+r.col2.x*c.y);p.v.y=g.position.y+(r.col1.y*
c.x+r.col2.y*c.y);p.id.features.referenceEdge=d;p.id.features.incidentEdge=e;p.id.features.incidentVertex=1};w.MakeClipPointVector=function(){var a=new Vector(2);a[0]=new u;a[1]=new u;return a};w.CollidePolygons=function(a,b,c,d,u){var g;a.m_pointCount=0;var e=b.m_radius+d.m_radius;w.s_edgeAO[0]=0;var p=w.FindMaxSeparation(w.s_edgeAO,b,c,d,u);g=w.s_edgeAO[0];if(!(p>e)){var r;w.s_edgeBO[0]=0;var f=w.FindMaxSeparation(w.s_edgeBO,d,u,b,c);r=w.s_edgeBO[0];if(!(f>e)){var v=0,B=0;f>0.98*p+0.0010?(p=d,d=
b,b=u,v=r,a.m_type=C.e_faceB,B=1):(p=b,b=c,c=u,v=g,a.m_type=C.e_faceA,B=0);g=w.s_incidentEdge;w.FindIncidentEdge(g,p,b,v,d,c);r=parseInt(p.m_vertexCount);u=p.m_vertices;var p=u[v],k;k=v+1<r?u[parseInt(v+1)]:u[0];v=w.s_localTangent;v.Set(k.x-p.x,k.y-p.y);v.Normalize();u=w.s_localNormal;u.x=v.y;u.y=-v.x;d=w.s_planePoint;d.Set(0.5*(p.x+k.x),0.5*(p.y+k.y));f=w.s_tangent;r=b.R;f.x=r.col1.x*v.x+r.col2.x*v.y;f.y=r.col1.y*v.x+r.col2.y*v.y;var P=w.s_tangent2;P.x=-f.x;P.y=-f.y;v=w.s_normal;v.x=f.y;v.y=-f.x;
var q=w.s_v11,D=w.s_v12;q.x=b.position.x+(r.col1.x*p.x+r.col2.x*p.y);q.y=b.position.y+(r.col1.y*p.x+r.col2.y*p.y);D.x=b.position.x+(r.col1.x*k.x+r.col2.x*k.y);D.y=b.position.y+(r.col1.y*k.x+r.col2.y*k.y);b=v.x*q.x+v.y*q.y;r=f.x*D.x+f.y*D.y+e;k=w.s_clipPoints1;p=w.s_clipPoints2;D=0;D=w.ClipSegmentToLine(k,g,P,-f.x*q.x-f.y*q.y+e);if(!(2>D||(D=w.ClipSegmentToLine(p,k,f,r),2>D))){a.m_localPlaneNormal.SetV(u);a.m_localPoint.SetV(d);for(d=u=0;d<h.b2_maxManifoldPoints;++d)g=p[d],v.x*g.v.x+v.y*g.v.y-b<=e&&
(f=a.m_points[u],r=c.R,P=g.v.x-c.position.x,q=g.v.y-c.position.y,f.m_localPoint.x=P*r.col1.x+q*r.col1.y,f.m_localPoint.y=P*r.col2.x+q*r.col2.y,f.m_id.Set(g.id),f.m_id.features.flip=B,++u);a.m_pointCount=u}}}};w.CollideCircles=function(a,b,c,d,u){a.m_pointCount=0;var g,e;g=c.R;e=b.m_p;var p=c.position.x+(g.col1.x*e.x+g.col2.x*e.y);c=c.position.y+(g.col1.y*e.x+g.col2.y*e.y);g=u.R;e=d.m_p;p=u.position.x+(g.col1.x*e.x+g.col2.x*e.y)-p;u=u.position.y+(g.col1.y*e.x+g.col2.y*e.y)-c;g=b.m_radius+d.m_radius;
p*p+u*u>g*g||(a.m_type=C.e_circles,a.m_localPoint.SetV(b.m_p),a.m_localPlaneNormal.SetZero(),a.m_pointCount=1,a.m_points[0].m_localPoint.SetV(d.m_p),a.m_points[0].m_id.key=0)};w.CollidePolygonAndCircle=function(a,b,c,d,u){var g=a.m_pointCount=0,e=0,p,r;r=u.R;p=d.m_p;var f=u.position.y+(r.col1.y*p.x+r.col2.y*p.y),g=u.position.x+(r.col1.x*p.x+r.col2.x*p.y)-c.position.x,e=f-c.position.y;r=c.R;c=g*r.col1.x+e*r.col1.y;r=g*r.col2.x+e*r.col2.y;var h=0,f=-Number.MAX_VALUE;u=b.m_radius+d.m_radius;var v=parseInt(b.m_vertexCount),
B=b.m_vertices;b=b.m_normals;for(var k=0;k<v;++k){p=B[k];g=c-p.x;e=r-p.y;p=b[k];g=p.x*g+p.y*e;if(g>u)return;g>f&&(f=g,h=k)}g=parseInt(h);e=parseInt(g+1<v?g+1:0);p=B[g];B=B[e];f<Number.MIN_VALUE?(a.m_pointCount=1,a.m_type=C.e_faceA,a.m_localPlaneNormal.SetV(b[h]),a.m_localPoint.x=0.5*(p.x+B.x),a.m_localPoint.y=0.5*(p.y+B.y),a.m_points[0].m_localPoint.SetV(d.m_p),a.m_points[0].m_id.key=0):(f=(c-B.x)*(p.x-B.x)+(r-B.y)*(p.y-B.y),0>=(c-p.x)*(B.x-p.x)+(r-p.y)*(B.y-p.y)?(c-p.x)*(c-p.x)+(r-p.y)*(r-p.y)>u*
u||(a.m_pointCount=1,a.m_type=C.e_faceA,a.m_localPlaneNormal.x=c-p.x,a.m_localPlaneNormal.y=r-p.y,a.m_localPlaneNormal.Normalize(),a.m_localPoint.SetV(p),a.m_points[0].m_localPoint.SetV(d.m_p),a.m_points[0].m_id.key=0):0>=f?(c-B.x)*(c-B.x)+(r-B.y)*(r-B.y)>u*u||(a.m_pointCount=1,a.m_type=C.e_faceA,a.m_localPlaneNormal.x=c-B.x,a.m_localPlaneNormal.y=r-B.y,a.m_localPlaneNormal.Normalize(),a.m_localPoint.SetV(B),a.m_points[0].m_localPoint.SetV(d.m_p),a.m_points[0].m_id.key=0):(h=0.5*(p.x+B.x),p=0.5*(p.y+
B.y),f=(c-h)*b[g].x+(r-p)*b[g].y,f>u||(a.m_pointCount=1,a.m_type=C.e_faceA,a.m_localPlaneNormal.x=b[g].x,a.m_localPlaneNormal.y=b[g].y,a.m_localPlaneNormal.Normalize(),a.m_localPoint.Set(h,p),a.m_points[0].m_localPoint.SetV(d.m_p),a.m_points[0].m_id.key=0)))};w.TestOverlap=function(a,b){var c=b.lowerBound,d=a.upperBound,u=c.x-d.x,g=c.y-d.y,c=a.lowerBound,d=b.upperBound,e=c.y-d.y;return 0<u||0<g||0<c.x-d.x||0<e?!1:!0};Box2D.postDefs.push(function(){Box2D.Collision.b2Collision.s_incidentEdge=w.MakeClipPointVector();
Box2D.Collision.b2Collision.s_clipPoints1=w.MakeClipPointVector();Box2D.Collision.b2Collision.s_clipPoints2=w.MakeClipPointVector();Box2D.Collision.b2Collision.s_edgeAO=new Vector_a2j_Number(1);Box2D.Collision.b2Collision.s_edgeBO=new Vector_a2j_Number(1);Box2D.Collision.b2Collision.s_localTangent=new g;Box2D.Collision.b2Collision.s_localNormal=new g;Box2D.Collision.b2Collision.s_planePoint=new g;Box2D.Collision.b2Collision.s_normal=new g;Box2D.Collision.b2Collision.s_tangent=new g;Box2D.Collision.b2Collision.s_tangent2=
new g;Box2D.Collision.b2Collision.s_v11=new g;Box2D.Collision.b2Collision.s_v12=new g;Box2D.Collision.b2Collision.b2CollidePolyTempVec=new g;Box2D.Collision.b2Collision.b2_nullFeature=255});s.b2ContactID=function(){this.features=new r};s.prototype.b2ContactID=function(){this.features._m_id=this};s.prototype.Set=function(a){this.key=a._key};s.prototype.Copy=function(){var a=new s;a.key=this.key;return a};Object.defineProperty(s.prototype,"key",{enumerable:!1,configurable:!0,get:function(){return this._key}});
Object.defineProperty(s.prototype,"key",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this._key=a;this.features._referenceEdge=this._key&255;this.features._incidentEdge=(this._key&65280)>>8&255;this.features._incidentVertex=(this._key&16711680)>>16&255;this.features._flip=(this._key&4278190080)>>24&255}});t.b2ContactPoint=function(){this.position=new g;this.velocity=new g;this.normal=new g;this.id=new s};x.b2Distance=function(){};x.Distance=function(a,b,c){++x.b2_gjkCalls;var u=
c.proxyA,e=c.proxyB,p=c.transformA,r=c.transformB,f=x.s_simplex;f.ReadCache(b,u,p,e,r);var v=f.m_vertices,B=x.s_saveA,k=x.s_saveB,P=0;f.GetClosestPoint().LengthSquared();for(var q=0,D,O=0;20>O;){P=f.m_count;for(q=0;q<P;q++)B[q]=v[q].indexA,k[q]=v[q].indexB;switch(f.m_count){case 1:break;case 2:f.Solve2();break;case 3:f.Solve3();break;default:h.b2Assert(!1)}if(3==f.m_count)break;D=f.GetClosestPoint();D.LengthSquared();q=f.GetSearchDirection();if(q.LengthSquared()<Number.MIN_VALUE*Number.MIN_VALUE)break;
D=v[f.m_count];D.indexA=u.GetSupport(d.MulTMV(p.R,q.GetNegative()));D.wA=d.MulX(p,u.GetVertex(D.indexA));D.indexB=e.GetSupport(d.MulTMV(r.R,q));D.wB=d.MulX(r,e.GetVertex(D.indexB));D.w=d.SubtractVV(D.wB,D.wA);++O;++x.b2_gjkIters;for(var J=!1,q=0;q<P;q++)if(D.indexA==B[q]&&D.indexB==k[q]){J=!0;break}if(J)break;++f.m_count}x.b2_gjkMaxIters=d.Max(x.b2_gjkMaxIters,O);f.GetWitnessPoints(a.pointA,a.pointB);a.distance=d.SubtractVV(a.pointA,a.pointB).Length();a.iterations=O;f.WriteCache(b);c.useRadii&&(b=
u.m_radius,e=e.m_radius,a.distance>b+e&&a.distance>Number.MIN_VALUE?(a.distance-=b+e,c=d.SubtractVV(a.pointB,a.pointA),c.Normalize(),a.pointA.x+=b*c.x,a.pointA.y+=b*c.y,a.pointB.x-=e*c.x,a.pointB.y-=e*c.y):(D=new g,D.x=0.5*(a.pointA.x+a.pointB.x),D.y=0.5*(a.pointA.y+a.pointB.y),a.pointA.x=a.pointB.x=D.x,a.pointA.y=a.pointB.y=D.y,a.distance=0))};Box2D.postDefs.push(function(){Box2D.Collision.b2Distance.s_simplex=new v;Box2D.Collision.b2Distance.s_saveA=new Vector_a2j_Number(3);Box2D.Collision.b2Distance.s_saveB=
new Vector_a2j_Number(3)});y.b2DistanceInput=function(){};q.b2DistanceOutput=function(){this.pointA=new g;this.pointB=new g};A.b2DistanceProxy=function(){};A.prototype.Set=function(d){switch(d.GetType()){case b.e_circleShape:d=d instanceof c?d:null;this.m_vertices=new Vector(1,!0);this.m_vertices[0]=d.m_p;this.m_count=1;this.m_radius=d.m_radius;break;case b.e_polygonShape:d=d instanceof a?d:null;this.m_vertices=d.m_vertices;this.m_count=d.m_vertexCount;this.m_radius=d.m_radius;break;default:h.b2Assert(!1)}};
A.prototype.GetSupport=function(a){for(var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,d=1;d<this.m_count;++d){var u=this.m_vertices[d].x*a.x+this.m_vertices[d].y*a.y;u>c&&(b=d,c=u)}return b};A.prototype.GetSupportVertex=function(a){for(var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,d=1;d<this.m_count;++d){var u=this.m_vertices[d].x*a.x+this.m_vertices[d].y*a.y;u>c&&(b=d,c=u)}return this.m_vertices[b]};A.prototype.GetVertexCount=function(){return this.m_count};A.prototype.GetVertex=
function(a){void 0===a&&(a=0);h.b2Assert(0<=a&&a<this.m_count);return this.m_vertices[a]};z.b2DynamicTree=function(){};z.prototype.b2DynamicTree=function(){this.m_freeList=this.m_root=null;this.m_insertionCount=this.m_path=0};z.prototype.CreateProxy=function(a,b){var c=this.AllocateNode(),d=h.b2_aabbExtension,u=h.b2_aabbExtension;c.aabb.lowerBound.x=a.lowerBound.x-d;c.aabb.lowerBound.y=a.lowerBound.y-u;c.aabb.upperBound.x=a.upperBound.x+d;c.aabb.upperBound.y=a.upperBound.y+u;c.userData=b;this.InsertLeaf(c);
return c};z.prototype.DestroyProxy=function(a){this.RemoveLeaf(a);this.FreeNode(a)};z.prototype.MoveProxy=function(a,b,c){h.b2Assert(a.IsLeaf());if(a.aabb.Contains(b))return!1;this.RemoveLeaf(a);var d=h.b2_aabbExtension+h.b2_aabbMultiplier*(0<c.x?c.x:-c.x);c=h.b2_aabbExtension+h.b2_aabbMultiplier*(0<c.y?c.y:-c.y);a.aabb.lowerBound.x=b.lowerBound.x-d;a.aabb.lowerBound.y=b.lowerBound.y-c;a.aabb.upperBound.x=b.upperBound.x+d;a.aabb.upperBound.y=b.upperBound.y+c;this.InsertLeaf(a);return!0};z.prototype.Rebalance=
function(a){void 0===a&&(a=0);if(null!=this.m_root)for(var b=0;b<a;b++){for(var c=this.m_root,d=0;!1==c.IsLeaf();)c=this.m_path>>d&1?c.child2:c.child1,d=d+1&31;++this.m_path;this.RemoveLeaf(c);this.InsertLeaf(c)}};z.prototype.GetFatAABB=function(a){return a.aabb};z.prototype.GetUserData=function(a){return a.userData};z.prototype.Query=function(a,b){if(null!=this.m_root){var c=new Vector,d=0;for(c[d++]=this.m_root;0<d;){var u=c[--d];if(u.aabb.TestOverlap(b))if(u.IsLeaf()){if(!a(u))break}else c[d++]=
u.child1,c[d++]=u.child2}}};z.prototype.RayCast=function(a,b){if(null!=this.m_root){var c=b.p1,u=b.p2,g=d.SubtractVV(c,u);g.Normalize();var g=d.CrossFV(1,g),e=d.AbsV(g),p=b.maxFraction,r=new k,f=0,h=0,f=c.x+p*(u.x-c.x),h=c.y+p*(u.y-c.y);r.lowerBound.x=Math.min(c.x,f);r.lowerBound.y=Math.min(c.y,h);r.upperBound.x=Math.max(c.x,f);r.upperBound.y=Math.max(c.y,h);var v=new Vector,B=0;for(v[B++]=this.m_root;0<B;)if(p=v[--B],!1!=p.aabb.TestOverlap(r)&&(f=p.aabb.GetCenter(),h=p.aabb.GetExtents(),!(0<Math.abs(g.x*
(c.x-f.x)+g.y*(c.y-f.y))-e.x*h.x-e.y*h.y)))if(p.IsLeaf()){f=new I;f.p1=b.p1;f.p2=b.p2;f.maxFraction=b.maxFraction;p=a(f,p);if(0==p)break;0<p&&(f=c.x+p*(u.x-c.x),h=c.y+p*(u.y-c.y),r.lowerBound.x=Math.min(c.x,f),r.lowerBound.y=Math.min(c.y,h),r.upperBound.x=Math.max(c.x,f),r.upperBound.y=Math.max(c.y,h))}else v[B++]=p.child1,v[B++]=p.child2}};z.prototype.AllocateNode=function(){if(this.m_freeList){var a=this.m_freeList;this.m_freeList=a.parent;a.parent=null;a.child1=null;a.child2=null;return a}return new E};
z.prototype.FreeNode=function(a){a.parent=this.m_freeList;this.m_freeList=a};z.prototype.InsertLeaf=function(a){++this.m_insertionCount;if(null==this.m_root)this.m_root=a,this.m_root.parent=null;else{var b=a.aabb.GetCenter(),c=this.m_root;if(!1==c.IsLeaf()){do var d=c.child1,c=c.child2,u=Math.abs((d.aabb.lowerBound.x+d.aabb.upperBound.x)/2-b.x)+Math.abs((d.aabb.lowerBound.y+d.aabb.upperBound.y)/2-b.y),g=Math.abs((c.aabb.lowerBound.x+c.aabb.upperBound.x)/2-b.x)+Math.abs((c.aabb.lowerBound.y+c.aabb.upperBound.y)/
2-b.y),c=u<g?d:c;while(!1==c.IsLeaf())}b=c.parent;d=this.AllocateNode();d.parent=b;d.userData=null;d.aabb.Combine(a.aabb,c.aabb);if(b){c.parent.child1==c?b.child1=d:b.child2=d;d.child1=c;d.child2=a;c.parent=d;a.parent=d;do{if(b.aabb.Contains(d.aabb))break;b.aabb.Combine(b.child1.aabb,b.child2.aabb);d=b;b=b.parent}while(b)}else d.child1=c,d.child2=a,c.parent=d,this.m_root=a.parent=d}};z.prototype.RemoveLeaf=function(a){if(a==this.m_root)this.m_root=null;else{var b=a.parent,c=b.parent;a=b.child1==a?
b.child2:b.child1;if(c)for(c.child1==b?c.child1=a:c.child2=a,a.parent=c,this.FreeNode(b);c;){b=c.aabb;c.aabb=k.Combine(c.child1.aabb,c.child2.aabb);if(b.Contains(c.aabb))break;c=c.parent}else this.m_root=a,a.parent=null,this.FreeNode(b)}};H.b2DynamicTreeBroadPhase=function(){this.m_tree=new z;this.m_moveBuffer=new Vector;this.m_pairBuffer=new Vector;this.m_pairCount=0};H.prototype.CreateProxy=function(a,b){var c=this.m_tree.CreateProxy(a,b);++this.m_proxyCount;this.BufferMove(c);return c};H.prototype.DestroyProxy=
function(a){this.UnBufferMove(a);--this.m_proxyCount;this.m_tree.DestroyProxy(a)};H.prototype.MoveProxy=function(a,b,c){this.m_tree.MoveProxy(a,b,c)&&this.BufferMove(a)};H.prototype.TestOverlap=function(a,b){var c=this.m_tree.GetFatAABB(a),d=this.m_tree.GetFatAABB(b);return c.TestOverlap(d)};H.prototype.GetUserData=function(a){return this.m_tree.GetUserData(a)};H.prototype.GetFatAABB=function(a){return this.m_tree.GetFatAABB(a)};H.prototype.GetProxyCount=function(){return this.m_proxyCount};H.prototype.UpdatePairs=
function(a){for(var b=this,c=b.m_pairCount=0,d,c=0;c<b.m_moveBuffer.length;++c){d=b.m_moveBuffer[c];var u=b.m_tree.GetFatAABB(d);b.m_tree.Query(function(a){if(a==d)return!0;b.m_pairCount==b.m_pairBuffer.length&&(b.m_pairBuffer[b.m_pairCount]=new G);var c=b.m_pairBuffer[b.m_pairCount];c.proxyA=a<d?a:d;c.proxyB=a>=d?a:d;++b.m_pairCount;return!0},u)}for(c=b.m_moveBuffer.length=0;c<b.m_pairCount;){var u=b.m_pairBuffer[c],g=b.m_tree.GetUserData(u.proxyA),e=b.m_tree.GetUserData(u.proxyB);a(g,e);for(++c;c<
b.m_pairCount;){g=b.m_pairBuffer[c];if(g.proxyA!=u.proxyA||g.proxyB!=u.proxyB)break;++c}}};H.prototype.Query=function(a,b){this.m_tree.Query(a,b)};H.prototype.RayCast=function(a,b){this.m_tree.RayCast(a,b)};H.prototype.Validate=function(){};H.prototype.Rebalance=function(a){void 0===a&&(a=0);this.m_tree.Rebalance(a)};H.prototype.BufferMove=function(a){this.m_moveBuffer[this.m_moveBuffer.length]=a};H.prototype.UnBufferMove=function(a){a=parseInt(this.m_moveBuffer.indexOf(a));this.m_moveBuffer.splice(a,
1)};H.prototype.ComparePairs=function(a,b){return 0};H.__implements={};H.__implements[P]=!0;E.b2DynamicTreeNode=function(){this.aabb=new k};E.prototype.IsLeaf=function(){return null==this.child1};G.b2DynamicTreePair=function(){};C.b2Manifold=function(){this.m_pointCount=0};C.prototype.b2Manifold=function(){this.m_points=new Vector(h.b2_maxManifoldPoints);for(var a=0;a<h.b2_maxManifoldPoints;a++)this.m_points[a]=new K;this.m_localPlaneNormal=new g;this.m_localPoint=new g};C.prototype.Reset=function(){for(var a=
0;a<h.b2_maxManifoldPoints;a++)(this.m_points[a]instanceof K?this.m_points[a]:null).Reset();this.m_localPlaneNormal.SetZero();this.m_localPoint.SetZero();this.m_pointCount=this.m_type=0};C.prototype.Set=function(a){this.m_pointCount=a.m_pointCount;for(var b=0;b<h.b2_maxManifoldPoints;b++)(this.m_points[b]instanceof K?this.m_points[b]:null).Set(a.m_points[b]);this.m_localPlaneNormal.SetV(a.m_localPlaneNormal);this.m_localPoint.SetV(a.m_localPoint);this.m_type=a.m_type};C.prototype.Copy=function(){var a=
new C;a.Set(this);return a};Box2D.postDefs.push(function(){Box2D.Collision.b2Manifold.e_circles=1;Box2D.Collision.b2Manifold.e_faceA=2;Box2D.Collision.b2Manifold.e_faceB=4});K.b2ManifoldPoint=function(){this.m_localPoint=new g;this.m_id=new s};K.prototype.b2ManifoldPoint=function(){this.Reset()};K.prototype.Reset=function(){this.m_localPoint.SetZero();this.m_tangentImpulse=this.m_normalImpulse=0;this.m_id.key=0};K.prototype.Set=function(a){this.m_localPoint.SetV(a.m_localPoint);this.m_normalImpulse=
a.m_normalImpulse;this.m_tangentImpulse=a.m_tangentImpulse;this.m_id.Set(a.m_id)};F.b2Point=function(){this.p=new g};F.prototype.Support=function(a,b,c){return this.p};F.prototype.GetFirstVertex=function(a){return this.p};I.b2RayCastInput=function(){this.p1=new g;this.p2=new g};I.prototype.b2RayCastInput=function(a,b,c){void 0===a&&(a=null);void 0===b&&(b=null);void 0===c&&(c=1);a&&this.p1.SetV(a);b&&this.p2.SetV(b);this.maxFraction=c};N.b2RayCastOutput=function(){this.normal=new g};L.b2Segment=function(){this.p1=
new g;this.p2=new g};L.prototype.TestSegment=function(a,b,c,d){void 0===d&&(d=0);var u=c.p1,g=c.p2.x-u.x,e=c.p2.y-u.y;c=this.p2.y-this.p1.y;var p=-(this.p2.x-this.p1.x),r=100*Number.MIN_VALUE,f=-(g*c+e*p);if(f>r){var h=u.x-this.p1.x,v=u.y-this.p1.y,u=h*c+v*p;if(0<=u&&u<=d*f&&(d=-g*v+e*h,-r*f<=d&&d<=f*(1+r)))return u/=f,d=Math.sqrt(c*c+p*p),a[0]=u,b.Set(c/d,p/d),!0}return!1};L.prototype.Extend=function(a){this.ExtendForward(a);this.ExtendBackward(a)};L.prototype.ExtendForward=function(a){var b=this.p2.x-
this.p1.x,c=this.p2.y-this.p1.y;a=Math.min(0<b?(a.upperBound.x-this.p1.x)/b:0>b?(a.lowerBound.x-this.p1.x)/b:Number.POSITIVE_INFINITY,0<c?(a.upperBound.y-this.p1.y)/c:0>c?(a.lowerBound.y-this.p1.y)/c:Number.POSITIVE_INFINITY);this.p2.x=this.p1.x+b*a;this.p2.y=this.p1.y+c*a};L.prototype.ExtendBackward=function(a){var b=-this.p2.x+this.p1.x,c=-this.p2.y+this.p1.y;a=Math.min(0<b?(a.upperBound.x-this.p2.x)/b:0>b?(a.lowerBound.x-this.p2.x)/b:Number.POSITIVE_INFINITY,0<c?(a.upperBound.y-this.p2.y)/c:0>
c?(a.lowerBound.y-this.p2.y)/c:Number.POSITIVE_INFINITY);this.p1.x=this.p2.x+b*a;this.p1.y=this.p2.y+c*a};p.b2SeparationFunction=function(){this.m_localPoint=new g;this.m_axis=new g};p.prototype.Initialize=function(a,b,c,u,e){this.m_proxyA=b;this.m_proxyB=u;var r=parseInt(a.count);h.b2Assert(0<r&&3>r);var f,v,B,k,q=k=B=u=b=0,P=0,q=0;1==r?(this.m_type=p.e_points,f=this.m_proxyA.GetVertex(a.indexA[0]),v=this.m_proxyB.GetVertex(a.indexB[0]),r=f,a=c.R,b=c.position.x+(a.col1.x*r.x+a.col2.x*r.y),u=c.position.y+
(a.col1.y*r.x+a.col2.y*r.y),r=v,a=e.R,B=e.position.x+(a.col1.x*r.x+a.col2.x*r.y),k=e.position.y+(a.col1.y*r.x+a.col2.y*r.y),this.m_axis.x=B-b,this.m_axis.y=k-u,this.m_axis.Normalize()):(a.indexB[0]==a.indexB[1]?(this.m_type=p.e_faceA,b=this.m_proxyA.GetVertex(a.indexA[0]),u=this.m_proxyA.GetVertex(a.indexA[1]),v=this.m_proxyB.GetVertex(a.indexB[0]),this.m_localPoint.x=0.5*(b.x+u.x),this.m_localPoint.y=0.5*(b.y+u.y),this.m_axis=d.CrossVF(d.SubtractVV(u,b),1),this.m_axis.Normalize(),r=this.m_axis,a=
c.R,q=a.col1.x*r.x+a.col2.x*r.y,P=a.col1.y*r.x+a.col2.y*r.y,r=this.m_localPoint,a=c.R,b=c.position.x+(a.col1.x*r.x+a.col2.x*r.y),u=c.position.y+(a.col1.y*r.x+a.col2.y*r.y),r=v,a=e.R,B=e.position.x+(a.col1.x*r.x+a.col2.x*r.y),k=e.position.y+(a.col1.y*r.x+a.col2.y*r.y),q=(B-b)*q+(k-u)*P):a.indexA[0]==a.indexA[0]?(this.m_type=p.e_faceB,B=this.m_proxyB.GetVertex(a.indexB[0]),k=this.m_proxyB.GetVertex(a.indexB[1]),f=this.m_proxyA.GetVertex(a.indexA[0]),this.m_localPoint.x=0.5*(B.x+k.x),this.m_localPoint.y=
0.5*(B.y+k.y),this.m_axis=d.CrossVF(d.SubtractVV(k,B),1),this.m_axis.Normalize(),r=this.m_axis,a=e.R,q=a.col1.x*r.x+a.col2.x*r.y,P=a.col1.y*r.x+a.col2.y*r.y,r=this.m_localPoint,a=e.R,B=e.position.x+(a.col1.x*r.x+a.col2.x*r.y),k=e.position.y+(a.col1.y*r.x+a.col2.y*r.y),r=f,a=c.R,b=c.position.x+(a.col1.x*r.x+a.col2.x*r.y),u=c.position.y+(a.col1.y*r.x+a.col2.y*r.y),q=(b-B)*q+(u-k)*P):(b=this.m_proxyA.GetVertex(a.indexA[0]),u=this.m_proxyA.GetVertex(a.indexA[1]),B=this.m_proxyB.GetVertex(a.indexB[0]),
k=this.m_proxyB.GetVertex(a.indexB[1]),d.MulX(c,f),f=d.MulMV(c.R,d.SubtractVV(u,b)),d.MulX(e,v),q=d.MulMV(e.R,d.SubtractVV(k,B)),e=f.x*f.x+f.y*f.y,v=q.x*q.x+q.y*q.y,a=d.SubtractVV(q,f),c=f.x*a.x+f.y*a.y,a=q.x*a.x+q.y*a.y,f=f.x*q.x+f.y*q.y,P=e*v-f*f,q=0,0!=P&&(q=d.Clamp((f*a-c*v)/P,0,1)),0>(f*q+a)/v&&(q=d.Clamp((f-c)/e,0,1)),f=new g,f.x=b.x+q*(u.x-b.x),f.y=b.y+q*(u.y-b.y),v=new g,v.x=B.x+q*(k.x-B.x),v.y=B.y+q*(k.y-B.y),0==q||1==q?(this.m_type=p.e_faceB,this.m_axis=d.CrossVF(d.SubtractVV(k,B),1),this.m_axis.Normalize(),
this.m_localPoint=v):(this.m_type=p.e_faceA,this.m_axis=d.CrossVF(d.SubtractVV(u,b),1),this.m_localPoint=f)),0>q&&this.m_axis.NegativeSelf())};p.prototype.Evaluate=function(a,b){var c,u,g=0;switch(this.m_type){case p.e_points:return c=d.MulTMV(a.R,this.m_axis),u=d.MulTMV(b.R,this.m_axis.GetNegative()),c=this.m_proxyA.GetSupportVertex(c),u=this.m_proxyB.GetSupportVertex(u),c=d.MulX(a,c),u=d.MulX(b,u),g=(u.x-c.x)*this.m_axis.x+(u.y-c.y)*this.m_axis.y;case p.e_faceA:return g=d.MulMV(a.R,this.m_axis),
c=d.MulX(a,this.m_localPoint),u=d.MulTMV(b.R,g.GetNegative()),u=this.m_proxyB.GetSupportVertex(u),u=d.MulX(b,u),g=(u.x-c.x)*g.x+(u.y-c.y)*g.y;case p.e_faceB:return g=d.MulMV(b.R,this.m_axis),u=d.MulX(b,this.m_localPoint),c=d.MulTMV(a.R,g.GetNegative()),c=this.m_proxyA.GetSupportVertex(c),c=d.MulX(a,c),g=(c.x-u.x)*g.x+(c.y-u.y)*g.y;default:return h.b2Assert(!1),0}};Box2D.postDefs.push(function(){Box2D.Collision.b2SeparationFunction.e_points=1;Box2D.Collision.b2SeparationFunction.e_faceA=2;Box2D.Collision.b2SeparationFunction.e_faceB=
4});v.b2Simplex=function(){this.m_v1=new B;this.m_v2=new B;this.m_v3=new B;this.m_vertices=new Vector(3)};v.prototype.b2Simplex=function(){this.m_vertices[0]=this.m_v1;this.m_vertices[1]=this.m_v2;this.m_vertices[2]=this.m_v3};v.prototype.ReadCache=function(a,b,c,u,g){h.b2Assert(0<=a.count&&3>=a.count);var e,r;this.m_count=a.count;for(var p=this.m_vertices,f=0;f<this.m_count;f++){var v=p[f];v.indexA=a.indexA[f];v.indexB=a.indexB[f];e=b.GetVertex(v.indexA);r=u.GetVertex(v.indexB);v.wA=d.MulX(c,e);
v.wB=d.MulX(g,r);v.w=d.SubtractVV(v.wB,v.wA);v.a=0}1<this.m_count&&(a=a.metric,e=this.GetMetric(),e<0.5*a||2*a<e||e<Number.MIN_VALUE)&&(this.m_count=0);0==this.m_count&&(v=p[0],v.indexA=0,v.indexB=0,e=b.GetVertex(0),r=u.GetVertex(0),v.wA=d.MulX(c,e),v.wB=d.MulX(g,r),v.w=d.SubtractVV(v.wB,v.wA),this.m_count=1)};v.prototype.WriteCache=function(a){a.metric=this.GetMetric();a.count=Box2D.parseUInt(this.m_count);for(var b=this.m_vertices,c=0;c<this.m_count;c++)a.indexA[c]=Box2D.parseUInt(b[c].indexA),
a.indexB[c]=Box2D.parseUInt(b[c].indexB)};v.prototype.GetSearchDirection=function(){switch(this.m_count){case 1:return this.m_v1.w.GetNegative();case 2:var a=d.SubtractVV(this.m_v2.w,this.m_v1.w);return 0<d.CrossVV(a,this.m_v1.w.GetNegative())?d.CrossFV(1,a):d.CrossVF(a,1);default:return h.b2Assert(!1),new g}};v.prototype.GetClosestPoint=function(){switch(this.m_count){case 0:return h.b2Assert(!1),new g;case 1:return this.m_v1.w;case 2:return new g(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,
this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);default:return h.b2Assert(!1),new g}};v.prototype.GetWitnessPoints=function(a,b){switch(this.m_count){case 0:h.b2Assert(!1);break;case 1:a.SetV(this.m_v1.wA);b.SetV(this.m_v1.wB);break;case 2:a.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x;a.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y;b.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x;b.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:b.x=a.x=this.m_v1.a*
this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x;b.y=a.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:h.b2Assert(!1)}};v.prototype.GetMetric=function(){switch(this.m_count){case 0:return h.b2Assert(!1),0;case 1:return 0;case 2:return d.SubtractVV(this.m_v1.w,this.m_v2.w).Length();case 3:return d.CrossVV(d.SubtractVV(this.m_v2.w,this.m_v1.w),d.SubtractVV(this.m_v3.w,this.m_v1.w));default:return h.b2Assert(!1),0}};v.prototype.Solve2=
function(){var a=this.m_v1.w,b=this.m_v2.w,c=d.SubtractVV(b,a),a=-(a.x*c.x+a.y*c.y);0>=a?this.m_count=this.m_v1.a=1:(b=b.x*c.x+b.y*c.y,0>=b?(this.m_count=this.m_v2.a=1,this.m_v1.Set(this.m_v2)):(c=1/(b+a),this.m_v1.a=b*c,this.m_v2.a=a*c,this.m_count=2))};v.prototype.Solve3=function(){var a=this.m_v1.w,b=this.m_v2.w,c=this.m_v3.w,u=d.SubtractVV(b,a),g=d.Dot(a,u),e=d.Dot(b,u),g=-g,r=d.SubtractVV(c,a),p=d.Dot(a,r),f=d.Dot(c,r),p=-p,h=d.SubtractVV(c,b),v=d.Dot(b,h),h=d.Dot(c,h),v=-v,r=d.CrossVV(u,r),
u=r*d.CrossVV(b,c),c=r*d.CrossVV(c,a),a=r*d.CrossVV(a,b);0>=g&&0>=p?this.m_count=this.m_v1.a=1:0<e&&0<g&&0>=a?(f=1/(e+g),this.m_v1.a=e*f,this.m_v2.a=g*f,this.m_count=2):0<f&&0<p&&0>=c?(e=1/(f+p),this.m_v1.a=f*e,this.m_v3.a=p*e,this.m_count=2,this.m_v2.Set(this.m_v3)):0>=e&&0>=v?(this.m_count=this.m_v2.a=1,this.m_v1.Set(this.m_v2)):0>=f&&0>=h?(this.m_count=this.m_v3.a=1,this.m_v1.Set(this.m_v3)):0<h&&0<v&&0>=u?(e=1/(h+v),this.m_v2.a=h*e,this.m_v3.a=v*e,this.m_count=2,this.m_v1.Set(this.m_v3)):(e=1/
(u+c+a),this.m_v1.a=u*e,this.m_v2.a=c*e,this.m_v3.a=a*e,this.m_count=3)};D.b2SimplexCache=function(){this.indexA=new Vector_a2j_Number(3);this.indexB=new Vector_a2j_Number(3)};B.b2SimplexVertex=function(){};B.prototype.Set=function(a){this.wA.SetV(a.wA);this.wB.SetV(a.wB);this.w.SetV(a.w);this.a=a.a;this.indexA=a.indexA;this.indexB=a.indexB};J.b2TimeOfImpact=function(){};J.TimeOfImpact=function(a){++J.b2_toiCalls;var b=a.proxyA,c=a.proxyB,u=a.sweepA,g=a.sweepB;h.b2Assert(u.t0==g.t0);h.b2Assert(1-
u.t0>Number.MIN_VALUE);var e=b.m_radius+c.m_radius;a=a.tolerance;var r=0,p=0,f=0;J.s_cache.count=0;for(J.s_distanceInput.useRadii=!1;;){u.GetTransform(J.s_xfA,r);g.GetTransform(J.s_xfB,r);J.s_distanceInput.proxyA=b;J.s_distanceInput.proxyB=c;J.s_distanceInput.transformA=J.s_xfA;J.s_distanceInput.transformB=J.s_xfB;x.Distance(J.s_distanceOutput,J.s_cache,J.s_distanceInput);if(0>=J.s_distanceOutput.distance){r=1;break}J.s_fcn.Initialize(J.s_cache,b,J.s_xfA,c,J.s_xfB);var v=J.s_fcn.Evaluate(J.s_xfA,
J.s_xfB);if(0>=v){r=1;break}0==p&&(f=v>e?d.Max(e-a,0.75*e):d.Max(v-a,0.02*e));if(v-f<0.5*a){if(0==p){r=1;break}break}var B=r,k=r,q=1;u.GetTransform(J.s_xfA,q);g.GetTransform(J.s_xfB,q);var P=J.s_fcn.Evaluate(J.s_xfA,J.s_xfB);if(P>=f){r=1;break}for(var D=0;;){var O=0,O=D&1?k+(f-v)*(q-k)/(P-v):0.5*(k+q);u.GetTransform(J.s_xfA,O);g.GetTransform(J.s_xfB,O);var M=J.s_fcn.Evaluate(J.s_xfA,J.s_xfB);if(d.Abs(M-f)<0.025*a){B=O;break}M>f?(k=O,v=M):(q=O,P=M);++D;++J.b2_toiRootIters;if(50==D)break}J.b2_toiMaxRootIters=
d.Max(J.b2_toiMaxRootIters,D);if(B<(1+100*Number.MIN_VALUE)*r)break;r=B;p++;++J.b2_toiIters;if(1E3==p)break}J.b2_toiMaxIters=d.Max(J.b2_toiMaxIters,p);return r};Box2D.postDefs.push(function(){Box2D.Collision.b2TimeOfImpact.b2_toiCalls=0;Box2D.Collision.b2TimeOfImpact.b2_toiIters=0;Box2D.Collision.b2TimeOfImpact.b2_toiMaxIters=0;Box2D.Collision.b2TimeOfImpact.b2_toiRootIters=0;Box2D.Collision.b2TimeOfImpact.b2_toiMaxRootIters=0;Box2D.Collision.b2TimeOfImpact.s_cache=new D;Box2D.Collision.b2TimeOfImpact.s_distanceInput=
new y;Box2D.Collision.b2TimeOfImpact.s_xfA=new f;Box2D.Collision.b2TimeOfImpact.s_xfB=new f;Box2D.Collision.b2TimeOfImpact.s_fcn=new p;Box2D.Collision.b2TimeOfImpact.s_distanceOutput=new q});M.b2TOIInput=function(){this.proxyA=new A;this.proxyB=new A;this.sweepA=new e;this.sweepB=new e};O.b2WorldManifold=function(){this.m_normal=new g};O.prototype.b2WorldManifold=function(){this.m_points=new Vector(h.b2_maxManifoldPoints);for(var a=0;a<h.b2_maxManifoldPoints;a++)this.m_points[a]=new g};O.prototype.Initialize=
function(a,b,c,u,d){void 0===c&&(c=0);void 0===d&&(d=0);if(0!=a.m_pointCount){var g=0,e,r,p=0,f=0,v=0,h=0,B=0;e=0;switch(a.m_type){case C.e_circles:r=b.R;e=a.m_localPoint;g=b.position.x+r.col1.x*e.x+r.col2.x*e.y;b=b.position.y+r.col1.y*e.x+r.col2.y*e.y;r=u.R;e=a.m_points[0].m_localPoint;a=u.position.x+r.col1.x*e.x+r.col2.x*e.y;u=u.position.y+r.col1.y*e.x+r.col2.y*e.y;e=a-g;r=u-b;p=e*e+r*r;p>Number.MIN_VALUE*Number.MIN_VALUE?(p=Math.sqrt(p),this.m_normal.x=e/p,this.m_normal.y=r/p):(this.m_normal.x=
1,this.m_normal.y=0);e=b+c*this.m_normal.y;u-=d*this.m_normal.y;this.m_points[0].x=0.5*(g+c*this.m_normal.x+(a-d*this.m_normal.x));this.m_points[0].y=0.5*(e+u);break;case C.e_faceA:r=b.R;e=a.m_localPlaneNormal;p=r.col1.x*e.x+r.col2.x*e.y;f=r.col1.y*e.x+r.col2.y*e.y;r=b.R;e=a.m_localPoint;v=b.position.x+r.col1.x*e.x+r.col2.x*e.y;h=b.position.y+r.col1.y*e.x+r.col2.y*e.y;this.m_normal.x=p;this.m_normal.y=f;for(g=0;g<a.m_pointCount;g++)r=u.R,e=a.m_points[g].m_localPoint,B=u.position.x+r.col1.x*e.x+r.col2.x*
e.y,e=u.position.y+r.col1.y*e.x+r.col2.y*e.y,this.m_points[g].x=B+0.5*(c-(B-v)*p-(e-h)*f-d)*p,this.m_points[g].y=e+0.5*(c-(B-v)*p-(e-h)*f-d)*f;break;case C.e_faceB:for(r=u.R,e=a.m_localPlaneNormal,p=r.col1.x*e.x+r.col2.x*e.y,f=r.col1.y*e.x+r.col2.y*e.y,r=u.R,e=a.m_localPoint,v=u.position.x+r.col1.x*e.x+r.col2.x*e.y,h=u.position.y+r.col1.y*e.x+r.col2.y*e.y,this.m_normal.x=-p,this.m_normal.y=-f,g=0;g<a.m_pointCount;g++)r=b.R,e=a.m_points[g].m_localPoint,B=b.position.x+r.col1.x*e.x+r.col2.x*e.y,e=b.position.y+
r.col1.y*e.x+r.col2.y*e.y,this.m_points[g].x=B+0.5*(d-(B-v)*p-(e-h)*f-c)*p,this.m_points[g].y=e+0.5*(d-(B-v)*p-(e-h)*f-c)*f}}};u.ClipVertex=function(){this.v=new g;this.id=new s};u.prototype.Set=function(a){this.v.SetV(a.v);this.id.Set(a.id)};r.Features=function(){};Object.defineProperty(r.prototype,"referenceEdge",{enumerable:!1,configurable:!0,get:function(){return this._referenceEdge}});Object.defineProperty(r.prototype,"referenceEdge",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&
(a=0);this._referenceEdge=a;this._m_id._key=this._m_id._key&4294967040|this._referenceEdge&255}});Object.defineProperty(r.prototype,"incidentEdge",{enumerable:!1,configurable:!0,get:function(){return this._incidentEdge}});Object.defineProperty(r.prototype,"incidentEdge",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this._incidentEdge=a;this._m_id._key=this._m_id._key&4294902015|this._incidentEdge<<8&65280}});Object.defineProperty(r.prototype,"incidentVertex",{enumerable:!1,configurable:!0,
get:function(){return this._incidentVertex}});Object.defineProperty(r.prototype,"incidentVertex",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this._incidentVertex=a;this._m_id._key=this._m_id._key&4278255615|this._incidentVertex<<16&16711680}});Object.defineProperty(r.prototype,"flip",{enumerable:!1,configurable:!0,get:function(){return this._flip}});Object.defineProperty(r.prototype,"flip",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this._flip=a;this._m_id._key=
this._m_id._key&16777215|this._flip<<24&4278190080}})})();
(function(){var c=Box2D.Common.b2Settings,a=Box2D.Collision.Shapes.b2CircleShape,b=Box2D.Collision.Shapes.b2EdgeChainDef,h=Box2D.Collision.Shapes.b2EdgeShape,d=Box2D.Collision.Shapes.b2MassData,e=Box2D.Collision.Shapes.b2PolygonShape,f=Box2D.Collision.Shapes.b2Shape,g=Box2D.Common.Math.b2Mat22,k=Box2D.Common.Math.b2Math,m=Box2D.Common.Math.b2Transform,n=Box2D.Common.Math.b2Vec2,w=Box2D.Collision.b2Distance,s=Box2D.Collision.b2DistanceInput,t=Box2D.Collision.b2DistanceOutput,x=Box2D.Collision.b2DistanceProxy,
y=Box2D.Collision.b2SimplexCache;Box2D.inherit(a,Box2D.Collision.Shapes.b2Shape);a.prototype.__super=Box2D.Collision.Shapes.b2Shape.prototype;a.b2CircleShape=function(){Box2D.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments);this.m_p=new n};a.prototype.Copy=function(){var b=new a;b.Set(this);return b};a.prototype.Set=function(b){this.__super.Set.call(this,b);Box2D.is(b,a)&&this.m_p.SetV((b instanceof a?b:null).m_p)};a.prototype.TestPoint=function(a,b){var c=a.R,d=a.position.x+(c.col1.x*this.m_p.x+
c.col2.x*this.m_p.y),c=a.position.y+(c.col1.y*this.m_p.x+c.col2.y*this.m_p.y),d=b.x-d,c=b.y-c;return d*d+c*c<=this.m_radius*this.m_radius};a.prototype.RayCast=function(a,b,c){var d=c.R,e=b.p1.x-(c.position.x+(d.col1.x*this.m_p.x+d.col2.x*this.m_p.y));c=b.p1.y-(c.position.y+(d.col1.y*this.m_p.x+d.col2.y*this.m_p.y));var d=b.p2.x-b.p1.x,g=b.p2.y-b.p1.y,f=e*d+c*g,h=d*d+g*g,k=f*f-h*(e*e+c*c-this.m_radius*this.m_radius);if(0>k||h<Number.MIN_VALUE)return!1;f=-(f+Math.sqrt(k));return 0<=f&&f<=b.maxFraction*
h?(f/=h,a.fraction=f,a.normal.x=e+f*d,a.normal.y=c+f*g,a.normal.Normalize(),!0):!1};a.prototype.ComputeAABB=function(a,b){var c=b.R,d=b.position.x+(c.col1.x*this.m_p.x+c.col2.x*this.m_p.y),c=b.position.y+(c.col1.y*this.m_p.x+c.col2.y*this.m_p.y);a.lowerBound.Set(d-this.m_radius,c-this.m_radius);a.upperBound.Set(d+this.m_radius,c+this.m_radius)};a.prototype.ComputeMass=function(a,b){void 0===b&&(b=0);a.mass=b*c.b2_pi*this.m_radius*this.m_radius;a.center.SetV(this.m_p);a.I=a.mass*(0.5*this.m_radius*
this.m_radius+(this.m_p.x*this.m_p.x+this.m_p.y*this.m_p.y))};a.prototype.ComputeSubmergedArea=function(a,b,c,d){void 0===b&&(b=0);c=k.MulX(c,this.m_p);var e=-(k.Dot(a,c)-b);if(e<-this.m_radius+Number.MIN_VALUE)return 0;if(e>this.m_radius)return d.SetV(c),Math.PI*this.m_radius*this.m_radius;b=this.m_radius*this.m_radius;var g=e*e,e=b*(Math.asin(e/this.m_radius)+Math.PI/2)+e*Math.sqrt(b-g);b=-2/3*Math.pow(b-g,1.5)/e;d.x=c.x+a.x*b;d.y=c.y+a.y*b;return e};a.prototype.GetLocalPosition=function(){return this.m_p};
a.prototype.SetLocalPosition=function(a){this.m_p.SetV(a)};a.prototype.GetRadius=function(){return this.m_radius};a.prototype.SetRadius=function(a){void 0===a&&(a=0);this.m_radius=a};a.prototype.b2CircleShape=function(a){void 0===a&&(a=0);this.__super.b2Shape.call(this);this.m_type=f.e_circleShape;this.m_radius=a};b.b2EdgeChainDef=function(){};b.prototype.b2EdgeChainDef=function(){this.vertexCount=0;this.isALoop=!0;this.vertices=[]};Box2D.inherit(h,Box2D.Collision.Shapes.b2Shape);h.prototype.__super=
Box2D.Collision.Shapes.b2Shape.prototype;h.b2EdgeShape=function(){Box2D.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments);this.s_supportVec=new n;this.m_v1=new n;this.m_v2=new n;this.m_coreV1=new n;this.m_coreV2=new n;this.m_normal=new n;this.m_direction=new n;this.m_cornerDir1=new n;this.m_cornerDir2=new n};h.prototype.TestPoint=function(a,b){return!1};h.prototype.RayCast=function(a,b,c){var d,e=b.p2.x-b.p1.x,g=b.p2.y-b.p1.y;d=c.R;var f=c.position.x+(d.col1.x*this.m_v1.x+d.col2.x*this.m_v1.y),
h=c.position.y+(d.col1.y*this.m_v1.x+d.col2.y*this.m_v1.y),k=c.position.y+(d.col1.y*this.m_v2.x+d.col2.y*this.m_v2.y)-h;c=-(c.position.x+(d.col1.x*this.m_v2.x+d.col2.x*this.m_v2.y)-f);d=100*Number.MIN_VALUE;var m=-(e*k+g*c);if(m>d){var f=b.p1.x-f,n=b.p1.y-h,h=f*k+n*c;if(0<=h&&h<=b.maxFraction*m&&(b=-e*n+g*f,-d*m<=b&&b<=m*(1+d)))return a.fraction=h/m,b=Math.sqrt(k*k+c*c),a.normal.x=k/b,a.normal.y=c/b,!0}return!1};h.prototype.ComputeAABB=function(a,b){var c=b.R,d=b.position.x+(c.col1.x*this.m_v1.x+
c.col2.x*this.m_v1.y),e=b.position.y+(c.col1.y*this.m_v1.x+c.col2.y*this.m_v1.y),g=b.position.x+(c.col1.x*this.m_v2.x+c.col2.x*this.m_v2.y),c=b.position.y+(c.col1.y*this.m_v2.x+c.col2.y*this.m_v2.y);d<g?(a.lowerBound.x=d,a.upperBound.x=g):(a.lowerBound.x=g,a.upperBound.x=d);e<c?(a.lowerBound.y=e,a.upperBound.y=c):(a.lowerBound.y=c,a.upperBound.y=e)};h.prototype.ComputeMass=function(a,b){a.mass=0;a.center.SetV(this.m_v1);a.I=0};h.prototype.ComputeSubmergedArea=function(a,b,c,d){void 0===b&&(b=0);var e=
new n(a.x*b,a.y*b),g=k.MulX(c,this.m_v1);c=k.MulX(c,this.m_v2);var f=k.Dot(a,g)-b;a=k.Dot(a,c)-b;if(0<f){if(0<a)return 0;g.x=-a/(f-a)*g.x+f/(f-a)*c.x;g.y=-a/(f-a)*g.y+f/(f-a)*c.y}else 0<a&&(c.x=-a/(f-a)*g.x+f/(f-a)*c.x,c.y=-a/(f-a)*g.y+f/(f-a)*c.y);d.x=(e.x+g.x+c.x)/3;d.y=(e.y+g.y+c.y)/3;return 0.5*((g.x-e.x)*(c.y-e.y)-(g.y-e.y)*(c.x-e.x))};h.prototype.GetLength=function(){return this.m_length};h.prototype.GetVertex1=function(){return this.m_v1};h.prototype.GetVertex2=function(){return this.m_v2};
h.prototype.GetCoreVertex1=function(){return this.m_coreV1};h.prototype.GetCoreVertex2=function(){return this.m_coreV2};h.prototype.GetNormalVector=function(){return this.m_normal};h.prototype.GetDirectionVector=function(){return this.m_direction};h.prototype.GetCorner1Vector=function(){return this.m_cornerDir1};h.prototype.GetCorner2Vector=function(){return this.m_cornerDir2};h.prototype.Corner1IsConvex=function(){return this.m_cornerConvex1};h.prototype.Corner2IsConvex=function(){return this.m_cornerConvex2};
h.prototype.GetFirstVertex=function(a){var b=a.R;return new n(a.position.x+(b.col1.x*this.m_coreV1.x+b.col2.x*this.m_coreV1.y),a.position.y+(b.col1.y*this.m_coreV1.x+b.col2.y*this.m_coreV1.y))};h.prototype.GetNextEdge=function(){return this.m_nextEdge};h.prototype.GetPrevEdge=function(){return this.m_prevEdge};h.prototype.Support=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=a.R,e=a.position.x+(d.col1.x*this.m_coreV1.x+d.col2.x*this.m_coreV1.y),g=a.position.y+(d.col1.y*this.m_coreV1.x+
d.col2.y*this.m_coreV1.y),f=a.position.x+(d.col1.x*this.m_coreV2.x+d.col2.x*this.m_coreV2.y);a=a.position.y+(d.col1.y*this.m_coreV2.x+d.col2.y*this.m_coreV2.y);e*b+g*c>f*b+a*c?(this.s_supportVec.x=e,this.s_supportVec.y=g):(this.s_supportVec.x=f,this.s_supportVec.y=a);return this.s_supportVec};h.prototype.b2EdgeShape=function(a,b){this.__super.b2Shape.call(this);this.m_type=f.e_edgeShape;this.m_nextEdge=this.m_prevEdge=null;this.m_v1=a;this.m_v2=b;this.m_direction.Set(this.m_v2.x-this.m_v1.x,this.m_v2.y-
this.m_v1.y);this.m_length=this.m_direction.Normalize();this.m_normal.Set(this.m_direction.y,-this.m_direction.x);this.m_coreV1.Set(-c.b2_toiSlop*(this.m_normal.x-this.m_direction.x)+this.m_v1.x,-c.b2_toiSlop*(this.m_normal.y-this.m_direction.y)+this.m_v1.y);this.m_coreV2.Set(-c.b2_toiSlop*(this.m_normal.x+this.m_direction.x)+this.m_v2.x,-c.b2_toiSlop*(this.m_normal.y+this.m_direction.y)+this.m_v2.y);this.m_cornerDir1=this.m_normal;this.m_cornerDir2.Set(-this.m_normal.x,-this.m_normal.y)};h.prototype.SetPrevEdge=
function(a,b,c,d){this.m_prevEdge=a;this.m_coreV1=b;this.m_cornerDir1=c;this.m_cornerConvex1=d};h.prototype.SetNextEdge=function(a,b,c,d){this.m_nextEdge=a;this.m_coreV2=b;this.m_cornerDir2=c;this.m_cornerConvex2=d};d.b2MassData=function(){this.mass=0;this.center=new n(0,0);this.I=0};Box2D.inherit(e,Box2D.Collision.Shapes.b2Shape);e.prototype.__super=Box2D.Collision.Shapes.b2Shape.prototype;e.b2PolygonShape=function(){Box2D.Collision.Shapes.b2Shape.b2Shape.apply(this,arguments)};e.prototype.Copy=
function(){var a=new e;a.Set(this);return a};e.prototype.Set=function(a){this.__super.Set.call(this,a);if(Box2D.is(a,e)){a=a instanceof e?a:null;this.m_centroid.SetV(a.m_centroid);this.m_vertexCount=a.m_vertexCount;this.Reserve(this.m_vertexCount);for(var b=0;b<this.m_vertexCount;b++)this.m_vertices[b].SetV(a.m_vertices[b]),this.m_normals[b].SetV(a.m_normals[b])}};e.prototype.SetAsArray=function(a,b){void 0===b&&(b=0);for(var c=new Vector,d=0,e,d=0;d<a.length;++d)e=a[d],c.push(e);this.SetAsVector(c,
b)};e.AsArray=function(a,b){void 0===b&&(b=0);var c=new e;c.SetAsArray(a,b);return c};e.prototype.SetAsVector=function(a,b){void 0===b&&(b=0);0==b&&(b=a.length);c.b2Assert(2<=b);this.m_vertexCount=b;this.Reserve(b);for(var d=0,d=0;d<this.m_vertexCount;d++)this.m_vertices[d].SetV(a[d]);for(d=0;d<this.m_vertexCount;++d){var g=parseInt(d),f=parseInt(d+1<this.m_vertexCount?d+1:0),g=k.SubtractVV(this.m_vertices[f],this.m_vertices[g]);c.b2Assert(g.LengthSquared()>Number.MIN_VALUE);this.m_normals[d].SetV(k.CrossVF(g,
1));this.m_normals[d].Normalize()}this.m_centroid=e.ComputeCentroid(this.m_vertices,this.m_vertexCount)};e.AsVector=function(a,b){void 0===b&&(b=0);var c=new e;c.SetAsVector(a,b);return c};e.prototype.SetAsBox=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.m_vertexCount=4;this.Reserve(4);this.m_vertices[0].Set(-a,-b);this.m_vertices[1].Set(a,-b);this.m_vertices[2].Set(a,b);this.m_vertices[3].Set(-a,b);this.m_normals[0].Set(0,-1);this.m_normals[1].Set(1,0);this.m_normals[2].Set(0,1);this.m_normals[3].Set(-1,
0);this.m_centroid.SetZero()};e.AsBox=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);var c=new e;c.SetAsBox(a,b);return c};e.prototype.SetAsOrientedBox=function(a,b,c,d){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=null);void 0===d&&(d=0);this.m_vertexCount=4;this.Reserve(4);this.m_vertices[0].Set(-a,-b);this.m_vertices[1].Set(a,-b);this.m_vertices[2].Set(a,b);this.m_vertices[3].Set(-a,b);this.m_normals[0].Set(0,-1);this.m_normals[1].Set(1,0);this.m_normals[2].Set(0,1);this.m_normals[3].Set(-1,
0);this.m_centroid=c;a=new m;a.position=c;a.R.Set(d);for(c=0;c<this.m_vertexCount;++c)this.m_vertices[c]=k.MulX(a,this.m_vertices[c]),this.m_normals[c]=k.MulMV(a.R,this.m_normals[c])};e.AsOrientedBox=function(a,b,c,d){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=null);void 0===d&&(d=0);var g=new e;g.SetAsOrientedBox(a,b,c,d);return g};e.prototype.SetAsEdge=function(a,b){this.m_vertexCount=2;this.Reserve(2);this.m_vertices[0].SetV(a);this.m_vertices[1].SetV(b);this.m_centroid.x=0.5*(a.x+b.x);
this.m_centroid.y=0.5*(a.y+b.y);this.m_normals[0]=k.CrossVF(k.SubtractVV(b,a),1);this.m_normals[0].Normalize();this.m_normals[1].x=-this.m_normals[0].x;this.m_normals[1].y=-this.m_normals[0].y};e.AsEdge=function(a,b){var c=new e;c.SetAsEdge(a,b);return c};e.prototype.TestPoint=function(a,b){var c;c=a.R;for(var d=b.x-a.position.x,g=b.y-a.position.y,e=d*c.col1.x+g*c.col1.y,f=d*c.col2.x+g*c.col2.y,h=0;h<this.m_vertexCount;++h)if(c=this.m_vertices[h],d=e-c.x,g=f-c.y,c=this.m_normals[h],0<c.x*d+c.y*g)return!1;
return!0};e.prototype.RayCast=function(a,b,c){var d=0,g=b.maxFraction,e=0,f=0,h,k,e=b.p1.x-c.position.x,f=b.p1.y-c.position.y;h=c.R;var m=e*h.col1.x+f*h.col1.y,n=e*h.col2.x+f*h.col2.y,e=b.p2.x-c.position.x,f=b.p2.y-c.position.y;h=c.R;b=e*h.col1.x+f*h.col1.y-m;h=e*h.col2.x+f*h.col2.y-n;for(var s=-1,p=0;p<this.m_vertexCount;++p){k=this.m_vertices[p];e=k.x-m;f=k.y-n;k=this.m_normals[p];e=k.x*e+k.y*f;f=k.x*b+k.y*h;if(0==f){if(0>e)return!1}else 0>f&&e<d*f?(d=e/f,s=p):0<f&&e<g*f&&(g=e/f);if(g<d-Number.MIN_VALUE)return!1}return 0<=
s?(a.fraction=d,h=c.R,k=this.m_normals[s],a.normal.x=h.col1.x*k.x+h.col2.x*k.y,a.normal.y=h.col1.y*k.x+h.col2.y*k.y,!0):!1};e.prototype.ComputeAABB=function(a,b){for(var c=b.R,d=this.m_vertices[0],e=b.position.x+(c.col1.x*d.x+c.col2.x*d.y),g=b.position.y+(c.col1.y*d.x+c.col2.y*d.y),f=e,h=g,k=1;k<this.m_vertexCount;++k)var d=this.m_vertices[k],m=b.position.x+(c.col1.x*d.x+c.col2.x*d.y),d=b.position.y+(c.col1.y*d.x+c.col2.y*d.y),e=e<m?e:m,g=g<d?g:d,f=f>m?f:m,h=h>d?h:d;a.lowerBound.x=e-this.m_radius;
a.lowerBound.y=g-this.m_radius;a.upperBound.x=f+this.m_radius;a.upperBound.y=h+this.m_radius};e.prototype.ComputeMass=function(a,b){void 0===b&&(b=0);if(2==this.m_vertexCount)a.center.x=0.5*(this.m_vertices[0].x+this.m_vertices[1].x),a.center.y=0.5*(this.m_vertices[0].y+this.m_vertices[1].y),a.mass=0,a.I=0;else{for(var c=0,d=0,e=0,g=0,f=1/3,h=0;h<this.m_vertexCount;++h)var k=this.m_vertices[h],m=h+1<this.m_vertexCount?this.m_vertices[parseInt(h+1)]:this.m_vertices[0],n=k.x-0,s=k.y-0,p=m.x-0,v=m.y-
0,D=n*v-s*p,B=0.5*D,e=e+B,c=c+B*f*(0+k.x+m.x),d=d+B*f*(0+k.y+m.y),k=n,g=g+D*(f*(0.25*(k*k+p*k+p*p)+(0*k+0*p))+0+(f*(0.25*(s*s+v*s+v*v)+(0*s+0*v))+0));a.mass=b*e;a.center.Set(c*(1/e),d*(1/e));a.I=b*g}};e.prototype.ComputeSubmergedArea=function(a,b,c,e){void 0===b&&(b=0);var g=k.MulTMV(c.R,a),f=b-k.Dot(a,c.position),h=new Vector_a2j_Number,m=0,s=-1;b=-1;var w=!1;for(a=a=0;a<this.m_vertexCount;++a){h[a]=k.Dot(g,this.m_vertices[a])-f;var t=h[a]<-Number.MIN_VALUE;0<a&&(t?w||(s=a-1,m++):w&&(b=a-1,m++));
w=t}switch(m){case 0:return w?(a=new d,this.ComputeMass(a,1),e.SetV(k.MulX(c,a.center)),a.mass):0;case 1:-1==s?s=this.m_vertexCount-1:b=this.m_vertexCount-1}a=parseInt((s+1)%this.m_vertexCount);g=parseInt((b+1)%this.m_vertexCount);f=(0-h[s])/(h[a]-h[s]);h=(0-h[b])/(h[g]-h[b]);s=new n(this.m_vertices[s].x*(1-f)+this.m_vertices[a].x*f,this.m_vertices[s].y*(1-f)+this.m_vertices[a].y*f);b=new n(this.m_vertices[b].x*(1-h)+this.m_vertices[g].x*h,this.m_vertices[b].y*(1-h)+this.m_vertices[g].y*h);h=0;f=
new n;for(m=this.m_vertices[a];a!=g;)a=(a+1)%this.m_vertexCount,w=a==g?b:this.m_vertices[a],t=0.5*((m.x-s.x)*(w.y-s.y)-(m.y-s.y)*(w.x-s.x)),h+=t,f.x+=t*(s.x+m.x+w.x)/3,f.y+=t*(s.y+m.y+w.y)/3,m=w;f.Multiply(1/h);e.SetV(k.MulX(c,f));return h};e.prototype.GetVertexCount=function(){return this.m_vertexCount};e.prototype.GetVertices=function(){return this.m_vertices};e.prototype.GetNormals=function(){return this.m_normals};e.prototype.GetSupport=function(a){for(var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*
a.y,d=1;d<this.m_vertexCount;++d){var e=this.m_vertices[d].x*a.x+this.m_vertices[d].y*a.y;e>c&&(b=d,c=e)}return b};e.prototype.GetSupportVertex=function(a){for(var b=0,c=this.m_vertices[0].x*a.x+this.m_vertices[0].y*a.y,d=1;d<this.m_vertexCount;++d){var e=this.m_vertices[d].x*a.x+this.m_vertices[d].y*a.y;e>c&&(b=d,c=e)}return this.m_vertices[b]};e.prototype.Validate=function(){return!1};e.prototype.b2PolygonShape=function(){this.__super.b2Shape.call(this);this.m_type=f.e_polygonShape;this.m_centroid=
new n;this.m_vertices=new Vector;this.m_normals=new Vector};e.prototype.Reserve=function(a){void 0===a&&(a=0);for(var b=parseInt(this.m_vertices.length);b<a;b++)this.m_vertices[b]=new n,this.m_normals[b]=new n};e.ComputeCentroid=function(a,b){void 0===b&&(b=0);for(var c=new n,d=0,e=1/3,g=0;g<b;++g){var f=a[g],h=g+1<b?a[parseInt(g+1)]:a[0],k=0.5*((f.x-0)*(h.y-0)-(f.y-0)*(h.x-0)),d=d+k;c.x+=k*e*(0+f.x+h.x);c.y+=k*e*(0+f.y+h.y)}c.x*=1/d;c.y*=1/d;return c};e.ComputeOBB=function(a,b,c){void 0===c&&(c=
0);for(var d=0,e=new Vector(c+1),d=0;d<c;++d)e[d]=b[d];e[c]=e[0];b=Number.MAX_VALUE;for(d=1;d<=c;++d){for(var g=e[parseInt(d-1)],f=e[d].x-g.x,h=e[d].y-g.y,k=Math.sqrt(f*f+h*h),f=f/k,h=h/k,m=-h,n=f,s=k=Number.MAX_VALUE,p=-Number.MAX_VALUE,v=-Number.MAX_VALUE,D=0;D<c;++D){var B=e[D].x-g.x,J=e[D].y-g.y,M=f*B+h*J,B=m*B+n*J;M<k&&(k=M);B<s&&(s=B);M>p&&(p=M);B>v&&(v=B)}D=(p-k)*(v-s);D<0.95*b&&(b=D,a.R.col1.x=f,a.R.col1.y=h,a.R.col2.x=m,a.R.col2.y=n,f=0.5*(k+p),h=0.5*(s+v),m=a.R,a.center.x=g.x+(m.col1.x*
f+m.col2.x*h),a.center.y=g.y+(m.col1.y*f+m.col2.y*h),a.extents.x=0.5*(p-k),a.extents.y=0.5*(v-s))}};Box2D.postDefs.push(function(){Box2D.Collision.Shapes.b2PolygonShape.s_mat=new g});f.b2Shape=function(){};f.prototype.Copy=function(){return null};f.prototype.Set=function(a){this.m_radius=a.m_radius};f.prototype.GetType=function(){return this.m_type};f.prototype.TestPoint=function(a,b){return!1};f.prototype.RayCast=function(a,b,c){return!1};f.prototype.ComputeAABB=function(a,b){};f.prototype.ComputeMass=
function(a,b){};f.prototype.ComputeSubmergedArea=function(a,b,c,d){return 0};f.TestOverlap=function(a,b,c,d){var e=new s;e.proxyA=new x;e.proxyA.Set(a);e.proxyB=new x;e.proxyB.Set(c);e.transformA=b;e.transformB=d;e.useRadii=!0;a=new y;a.count=0;b=new t;w.Distance(b,a,e);return b.distance<10*Number.MIN_VALUE};f.prototype.b2Shape=function(){this.m_type=f.e_unknownShape;this.m_radius=c.b2_linearSlop};Box2D.postDefs.push(function(){Box2D.Collision.Shapes.b2Shape.e_unknownShape=-1;Box2D.Collision.Shapes.b2Shape.e_circleShape=
0;Box2D.Collision.Shapes.b2Shape.e_polygonShape=1;Box2D.Collision.Shapes.b2Shape.e_edgeShape=2;Box2D.Collision.Shapes.b2Shape.e_shapeTypeCount=3;Box2D.Collision.Shapes.b2Shape.e_hitCollide=1;Box2D.Collision.Shapes.b2Shape.e_missCollide=0;Box2D.Collision.Shapes.b2Shape.e_startsInsideCollide=-1})})();
(function(){var c=Box2D.Common.b2Color,a=Box2D.Common.b2Settings,b=Box2D.Common.Math.b2Math;c.b2Color=function(){this._b=this._g=this._r=0};c.prototype.b2Color=function(a,c,e){void 0===a&&(a=0);void 0===c&&(c=0);void 0===e&&(e=0);this._r=Box2D.parseUInt(255*b.Clamp(a,0,1));this._g=Box2D.parseUInt(255*b.Clamp(c,0,1));this._b=Box2D.parseUInt(255*b.Clamp(e,0,1))};c.prototype.Set=function(a,c,e){void 0===a&&(a=0);void 0===c&&(c=0);void 0===e&&(e=0);this._r=Box2D.parseUInt(255*b.Clamp(a,0,1));this._g=
Box2D.parseUInt(255*b.Clamp(c,0,1));this._b=Box2D.parseUInt(255*b.Clamp(e,0,1))};Object.defineProperty(c.prototype,"r",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this._r=Box2D.parseUInt(255*b.Clamp(a,0,1))}});Object.defineProperty(c.prototype,"g",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this._g=Box2D.parseUInt(255*b.Clamp(a,0,1))}});Object.defineProperty(c.prototype,"b",{enumerable:!1,configurable:!0,set:function(a){void 0===a&&(a=0);this._b=Box2D.parseUInt(255*
b.Clamp(a,0,1))}});Object.defineProperty(c.prototype,"color",{enumerable:!1,configurable:!0,get:function(){return this._r<<16|this._g<<8|this._b}});a.b2Settings=function(){};a.b2MixFriction=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return Math.sqrt(a*b)};a.b2MixRestitution=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a>b?a:b};a.b2Assert=function(a){if(!a)throw"Assertion Failed";};Box2D.postDefs.push(function(){Box2D.Common.b2Settings.VERSION="2.1alpha";Box2D.Common.b2Settings.USHRT_MAX=
65535;Box2D.Common.b2Settings.b2_pi=Math.PI;Box2D.Common.b2Settings.b2_maxManifoldPoints=2;Box2D.Common.b2Settings.b2_aabbExtension=0.1;Box2D.Common.b2Settings.b2_aabbMultiplier=2;Box2D.Common.b2Settings.b2_polygonRadius=2*a.b2_linearSlop;Box2D.Common.b2Settings.b2_linearSlop=0.0050;Box2D.Common.b2Settings.b2_angularSlop=2/180*a.b2_pi;Box2D.Common.b2Settings.b2_toiSlop=8*a.b2_linearSlop;Box2D.Common.b2Settings.b2_maxTOIContactsPerIsland=32;Box2D.Common.b2Settings.b2_maxTOIJointsPerIsland=32;Box2D.Common.b2Settings.b2y268Threshold=
1;Box2D.Common.b2Settings.b2_maxLinearCorrection=0.2;Box2D.Common.b2Settings.b2_maxAngularCorrection=8/180*a.b2_pi;Box2D.Common.b2Settings.b2_maxTranslation=2;Box2D.Common.b2Settings.b2_maxTranslationSquared=a.b2_maxTranslation*a.b2_maxTranslation;Box2D.Common.b2Settings.b2_maxRotation=0.5*a.b2_pi;Box2D.Common.b2Settings.b2_maxRotationSquared=a.b2_maxRotation*a.b2_maxRotation;Box2D.Common.b2Settings.b2_contactBaumgarte=0.2;Box2D.Common.b2Settings.b2_timeToSleep=0.5;Box2D.Common.b2Settings.b2_linearSleepTolerance=
0.01;Box2D.Common.b2Settings.b2_angularSleepTolerance=2/180*a.b2_pi})})();
(function(){var c=Box2D.Common.Math.b2Mat22,a=Box2D.Common.Math.b2Mat33,b=Box2D.Common.Math.b2Math,h=Box2D.Common.Math.b2Sweep,d=Box2D.Common.Math.b2Transform,e=Box2D.Common.Math.b2Vec2,f=Box2D.Common.Math.b2Vec3;c.b2Mat22=function(){this.col1=new e;this.col2=new e};c.prototype.b2Mat22=function(){this.SetIdentity()};c.FromAngle=function(a){void 0===a&&(a=0);var b=new c;b.Set(a);return b};c.FromVV=function(a,b){var d=new c;d.SetVV(a,b);return d};c.prototype.Set=function(a){void 0===a&&(a=0);var b=
Math.cos(a);a=Math.sin(a);this.col1.x=b;this.col2.x=-a;this.col1.y=a;this.col2.y=b};c.prototype.SetVV=function(a,b){this.col1.SetV(a);this.col2.SetV(b)};c.prototype.Copy=function(){var a=new c;a.SetM(this);return a};c.prototype.SetM=function(a){this.col1.SetV(a.col1);this.col2.SetV(a.col2)};c.prototype.AddM=function(a){this.col1.x+=a.col1.x;this.col1.y+=a.col1.y;this.col2.x+=a.col2.x;this.col2.y+=a.col2.y};c.prototype.SetIdentity=function(){this.col1.x=1;this.col2.x=0;this.col1.y=0;this.col2.y=1};
c.prototype.SetZero=function(){this.col1.x=0;this.col2.x=0;this.col1.y=0;this.col2.y=0};c.prototype.GetAngle=function(){return Math.atan2(this.col1.y,this.col1.x)};c.prototype.GetInverse=function(a){var b=this.col1.x,c=this.col2.x,d=this.col1.y,e=this.col2.y,f=b*e-c*d;0!=f&&(f=1/f);a.col1.x=f*e;a.col2.x=-f*c;a.col1.y=-f*d;a.col2.y=f*b;return a};c.prototype.Solve=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.col1.x,e=this.col2.x,f=this.col1.y,h=this.col2.y,x=d*h-e*f;0!=x&&(x=1/x);
a.x=x*(h*b-e*c);a.y=x*(d*c-f*b);return a};c.prototype.Abs=function(){this.col1.Abs();this.col2.Abs()};a.b2Mat33=function(){this.col1=new f;this.col2=new f;this.col3=new f};a.prototype.b2Mat33=function(a,b,c){void 0===a&&(a=null);void 0===b&&(b=null);void 0===c&&(c=null);a||b||c?(this.col1.SetV(a),this.col2.SetV(b),this.col3.SetV(c)):(this.col1.SetZero(),this.col2.SetZero(),this.col3.SetZero())};a.prototype.SetVVV=function(a,b,c){this.col1.SetV(a);this.col2.SetV(b);this.col3.SetV(c)};a.prototype.Copy=
function(){return new a(this.col1,this.col2,this.col3)};a.prototype.SetM=function(a){this.col1.SetV(a.col1);this.col2.SetV(a.col2);this.col3.SetV(a.col3)};a.prototype.AddM=function(a){this.col1.x+=a.col1.x;this.col1.y+=a.col1.y;this.col1.z+=a.col1.z;this.col2.x+=a.col2.x;this.col2.y+=a.col2.y;this.col2.z+=a.col2.z;this.col3.x+=a.col3.x;this.col3.y+=a.col3.y;this.col3.z+=a.col3.z};a.prototype.SetIdentity=function(){this.col1.x=1;this.col2.x=0;this.col3.x=0;this.col1.y=0;this.col2.y=1;this.col3.y=0;
this.col1.z=0;this.col2.z=0;this.col3.z=1};a.prototype.SetZero=function(){this.col1.x=0;this.col2.x=0;this.col3.x=0;this.col1.y=0;this.col2.y=0;this.col3.y=0;this.col1.z=0;this.col2.z=0;this.col3.z=0};a.prototype.Solve22=function(a,b,c){void 0===b&&(b=0);void 0===c&&(c=0);var d=this.col1.x,e=this.col2.x,f=this.col1.y,h=this.col2.y,x=d*h-e*f;0!=x&&(x=1/x);a.x=x*(h*b-e*c);a.y=x*(d*c-f*b);return a};a.prototype.Solve33=function(a,b,c,d){void 0===b&&(b=0);void 0===c&&(c=0);void 0===d&&(d=0);var e=this.col1.x,
f=this.col1.y,h=this.col1.z,x=this.col2.x,y=this.col2.y,q=this.col2.z,A=this.col3.x,z=this.col3.y,H=this.col3.z,E=e*(y*H-q*z)+f*(q*A-x*H)+h*(x*z-y*A);0!=E&&(E=1/E);a.x=E*(b*(y*H-q*z)+c*(q*A-x*H)+d*(x*z-y*A));a.y=E*(e*(c*H-d*z)+f*(d*A-b*H)+h*(b*z-c*A));a.z=E*(e*(y*d-q*c)+f*(q*b-x*d)+h*(x*c-y*b));return a};b.b2Math=function(){};b.IsValid=function(a){void 0===a&&(a=0);return isFinite(a)};b.Dot=function(a,b){return a.x*b.x+a.y*b.y};b.CrossVV=function(a,b){return a.x*b.y-a.y*b.x};b.CrossVF=function(a,
b){void 0===b&&(b=0);return new e(b*a.y,-b*a.x)};b.CrossFV=function(a,b){void 0===a&&(a=0);return new e(-a*b.y,a*b.x)};b.MulMV=function(a,b){return new e(a.col1.x*b.x+a.col2.x*b.y,a.col1.y*b.x+a.col2.y*b.y)};b.MulTMV=function(a,c){return new e(b.Dot(c,a.col1),b.Dot(c,a.col2))};b.MulX=function(a,c){var d=b.MulMV(a.R,c);d.x+=a.position.x;d.y+=a.position.y;return d};b.MulXT=function(a,c){var d=b.SubtractVV(c,a.position),e=d.x*a.R.col1.x+d.y*a.R.col1.y;d.y=d.x*a.R.col2.x+d.y*a.R.col2.y;d.x=e;return d};
b.AddVV=function(a,b){return new e(a.x+b.x,a.y+b.y)};b.SubtractVV=function(a,b){return new e(a.x-b.x,a.y-b.y)};b.Distance=function(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)};b.DistanceSquared=function(a,b){var c=a.x-b.x,d=a.y-b.y;return c*c+d*d};b.MulFV=function(a,b){void 0===a&&(a=0);return new e(a*b.x,a*b.y)};b.AddMM=function(a,d){return c.FromVV(b.AddVV(a.col1,d.col1),b.AddVV(a.col2,d.col2))};b.MulMM=function(a,d){return c.FromVV(b.MulMV(a,d.col1),b.MulMV(a,d.col2))};b.MulTMM=function(a,
d){var f=new e(b.Dot(a.col1,d.col1),b.Dot(a.col2,d.col1)),h=new e(b.Dot(a.col1,d.col2),b.Dot(a.col2,d.col2));return c.FromVV(f,h)};b.Abs=function(a){void 0===a&&(a=0);return 0<a?a:-a};b.AbsV=function(a){return new e(b.Abs(a.x),b.Abs(a.y))};b.AbsM=function(a){return c.FromVV(b.AbsV(a.col1),b.AbsV(a.col2))};b.Min=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return a<b?a:b};b.MinV=function(a,c){return new e(b.Min(a.x,c.x),b.Min(a.y,c.y))};b.Max=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);
return a>b?a:b};b.MaxV=function(a,c){return new e(b.Max(a.x,c.x),b.Max(a.y,c.y))};b.Clamp=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);return a<b?b:a>c?c:a};b.ClampV=function(a,c,d){return b.MaxV(c,b.MinV(a,d))};b.Swap=function(a,b){var c=a[0];a[0]=b[0];b[0]=c};b.Random=function(){return 2*Math.random()-1};b.RandomRange=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);var c=Math.random();return(b-a)*c+a};b.NextPowerOfTwo=function(a){void 0===a&&(a=0);a|=a>>1&2147483647;a|=
a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1};b.IsPowerOfTwo=function(a){void 0===a&&(a=0);return 0<a&&0==(a&a-1)};Box2D.postDefs.push(function(){Box2D.Common.Math.b2Math.b2Vec2_zero=new e(0,0);Box2D.Common.Math.b2Math.b2Mat22_identity=c.FromVV(new e(1,0),new e(0,1));Box2D.Common.Math.b2Math.b2Transform_identity=new d(b.b2Vec2_zero,b.b2Mat22_identity)});h.b2Sweep=function(){this.localCenter=new e;this.c0=new e;this.c=new e};h.prototype.Set=function(a){this.localCenter.SetV(a.localCenter);
this.c0.SetV(a.c0);this.c.SetV(a.c);this.a0=a.a0;this.a=a.a;this.t0=a.t0};h.prototype.Copy=function(){var a=new h;a.localCenter.SetV(this.localCenter);a.c0.SetV(this.c0);a.c.SetV(this.c);a.a0=this.a0;a.a=this.a;a.t0=this.t0;return a};h.prototype.GetTransform=function(a,b){void 0===b&&(b=0);a.position.x=(1-b)*this.c0.x+b*this.c.x;a.position.y=(1-b)*this.c0.y+b*this.c.y;a.R.Set((1-b)*this.a0+b*this.a);var c=a.R;a.position.x-=c.col1.x*this.localCenter.x+c.col2.x*this.localCenter.y;a.position.y-=c.col1.y*
this.localCenter.x+c.col2.y*this.localCenter.y};h.prototype.Advance=function(a){void 0===a&&(a=0);if(this.t0<a&&1-this.t0>Number.MIN_VALUE){var b=(a-this.t0)/(1-this.t0);this.c0.x=(1-b)*this.c0.x+b*this.c.x;this.c0.y=(1-b)*this.c0.y+b*this.c.y;this.a0=(1-b)*this.a0+b*this.a;this.t0=a}};d.b2Transform=function(){this.position=new e;this.R=new c};d.prototype.b2Transform=function(a,b){void 0===a&&(a=null);void 0===b&&(b=null);a&&(this.position.SetV(a),this.R.SetM(b))};d.prototype.Initialize=function(a,
b){this.position.SetV(a);this.R.SetM(b)};d.prototype.SetIdentity=function(){this.position.SetZero();this.R.SetIdentity()};d.prototype.Set=function(a){this.position.SetV(a.position);this.R.SetM(a.R)};d.prototype.GetAngle=function(){return Math.atan2(this.R.col1.y,this.R.col1.x)};e.b2Vec2=function(){};e.prototype.b2Vec2=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.x=a;this.y=b};e.prototype.SetZero=function(){this.y=this.x=0};e.prototype.Set=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);
this.x=a;this.y=b};e.prototype.SetV=function(a){this.x=a.x;this.y=a.y};e.prototype.GetNegative=function(){return new e(-this.x,-this.y)};e.prototype.NegativeSelf=function(){this.x=-this.x;this.y=-this.y};e.Make=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);return new e(a,b)};e.prototype.Copy=function(){return new e(this.x,this.y)};e.prototype.Add=function(a){this.x+=a.x;this.y+=a.y};e.prototype.Subtract=function(a){this.x-=a.x;this.y-=a.y};e.prototype.Multiply=function(a){void 0===a&&(a=0);this.x*=
a;this.y*=a};e.prototype.MulM=function(a){var b=this.x;this.x=a.col1.x*b+a.col2.x*this.y;this.y=a.col1.y*b+a.col2.y*this.y};e.prototype.MulTM=function(a){var c=b.Dot(this,a.col1);this.y=b.Dot(this,a.col2);this.x=c};e.prototype.CrossVF=function(a){void 0===a&&(a=0);var b=this.x;this.x=a*this.y;this.y=-a*b};e.prototype.CrossFV=function(a){void 0===a&&(a=0);var b=this.x;this.x=-a*this.y;this.y=a*b};e.prototype.MinV=function(a){this.x=this.x<a.x?this.x:a.x;this.y=this.y<a.y?this.y:a.y};e.prototype.MaxV=
function(a){this.x=this.x>a.x?this.x:a.x;this.y=this.y>a.y?this.y:a.y};e.prototype.Abs=function(){0>this.x&&(this.x=-this.x);0>this.y&&(this.y=-this.y)};e.prototype.Length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};e.prototype.LengthSquared=function(){return this.x*this.x+this.y*this.y};e.prototype.Normalize=function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var b=1/a;this.x*=b;this.y*=b;return a};e.prototype.IsValid=function(){return b.IsValid(this.x)&&
b.IsValid(this.y)};f.b2Vec3=function(){};f.prototype.b2Vec3=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.x=a;this.y=b;this.z=c};f.prototype.SetZero=function(){this.x=this.y=this.z=0};f.prototype.Set=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.x=a;this.y=b;this.z=c};f.prototype.SetV=function(a){this.x=a.x;this.y=a.y;this.z=a.z};f.prototype.GetNegative=function(){return new f(-this.x,-this.y,-this.z)};f.prototype.NegativeSelf=function(){this.x=
-this.x;this.y=-this.y;this.z=-this.z};f.prototype.Copy=function(){return new f(this.x,this.y,this.z)};f.prototype.Add=function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z};f.prototype.Subtract=function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z};f.prototype.Multiply=function(a){void 0===a&&(a=0);this.x*=a;this.y*=a;this.z*=a}})();
(function(){var c=Box2D.Common.Math.b2Math,a=Box2D.Common.Math.b2Sweep,b=Box2D.Common.Math.b2Transform,h=Box2D.Common.Math.b2Vec2,d=Box2D.Common.b2Color,e=Box2D.Common.b2Settings,f=Box2D.Collision.b2AABB,g=Box2D.Collision.b2ContactPoint,k=Box2D.Collision.b2DynamicTreeBroadPhase,m=Box2D.Collision.b2RayCastInput,n=Box2D.Collision.b2RayCastOutput,w=Box2D.Collision.Shapes.b2CircleShape,s=Box2D.Collision.Shapes.b2EdgeShape,t=Box2D.Collision.Shapes.b2MassData,x=Box2D.Collision.Shapes.b2PolygonShape,y=Box2D.Collision.Shapes.b2Shape,
q=Box2D.Dynamics.b2Body,A=Box2D.Dynamics.b2BodyDef,z=Box2D.Dynamics.b2ContactFilter,H=Box2D.Dynamics.b2ContactImpulse,E=Box2D.Dynamics.b2ContactListener,G=Box2D.Dynamics.b2ContactManager,C=Box2D.Dynamics.b2DebugDraw,K=Box2D.Dynamics.b2DestructionListener,F=Box2D.Dynamics.b2FilterData,I=Box2D.Dynamics.b2Fixture,N=Box2D.Dynamics.b2FixtureDef,L=Box2D.Dynamics.b2Island,p=Box2D.Dynamics.b2TimeStep,v=Box2D.Dynamics.b2World,D=Box2D.Dynamics.Contacts.b2Contact,B=Box2D.Dynamics.Contacts.b2ContactFactory,J=
Box2D.Dynamics.Contacts.b2ContactSolver,M=Box2D.Dynamics.Joints.b2Joint,O=Box2D.Dynamics.Joints.b2PulleyJoint;q.b2Body=function(){this.m_xf=new b;this.m_sweep=new a;this.m_linearVelocity=new h;this.m_force=new h};q.prototype.connectEdges=function(a,b,d){void 0===d&&(d=0);var f=Math.atan2(b.GetDirectionVector().y,b.GetDirectionVector().x);d=Math.tan(0.5*(f-d));d=c.MulFV(d,b.GetDirectionVector());d=c.SubtractVV(d,b.GetNormalVector());d=c.MulFV(e.b2_toiSlop,d);d=c.AddVV(d,b.GetVertex1());var p=c.AddVV(a.GetDirectionVector(),
b.GetDirectionVector());p.Normalize();var g=0<c.Dot(a.GetDirectionVector(),b.GetNormalVector());a.SetNextEdge(b,d,p,g);b.SetPrevEdge(a,d,p,g);return f};q.prototype.CreateFixture=function(a){if(!0==this.m_world.IsLocked())return null;var b=new I;b.Create(this,this.m_xf,a);this.m_flags&q.e_activeFlag&&b.CreateProxy(this.m_world.m_contactManager.m_broadPhase,this.m_xf);b.m_next=this.m_fixtureList;this.m_fixtureList=b;++this.m_fixtureCount;b.m_body=this;0<b.m_density&&this.ResetMassData();this.m_world.m_flags|=
v.e_newFixture;return b};q.prototype.CreateFixture2=function(a,b){void 0===b&&(b=0);var c=new N;c.shape=a;c.density=b;return this.CreateFixture(c)};q.prototype.DestroyFixture=function(a){if(!0!=this.m_world.IsLocked()){for(var b=this.m_fixtureList,c=null;null!=b;){if(b==a){c?c.m_next=a.m_next:this.m_fixtureList=a.m_next;break}c=b;b=b.m_next}for(b=this.m_contactList;b;){var c=b.contact,b=b.next,d=c.GetFixtureA(),e=c.GetFixtureB();a!=d&&a!=e||this.m_world.m_contactManager.Destroy(c)}this.m_flags&q.e_activeFlag&&
a.DestroyProxy(this.m_world.m_contactManager.m_broadPhase);a.Destroy();a.m_body=null;a.m_next=null;--this.m_fixtureCount;this.ResetMassData()}};q.prototype.SetPositionAndAngle=function(a,b){void 0===b&&(b=0);var c;if(!0!=this.m_world.IsLocked()){this.m_xf.R.Set(b);this.m_xf.position.SetV(a);c=this.m_xf.R;var d=this.m_sweep.localCenter;this.m_sweep.c.x=c.col1.x*d.x+c.col2.x*d.y;this.m_sweep.c.y=c.col1.y*d.x+c.col2.y*d.y;this.m_sweep.c.x+=this.m_xf.position.x;this.m_sweep.c.y+=this.m_xf.position.y;
this.m_sweep.c0.SetV(this.m_sweep.c);this.m_sweep.a0=this.m_sweep.a=b;d=this.m_world.m_contactManager.m_broadPhase;for(c=this.m_fixtureList;c;c=c.m_next)c.Synchronize(d,this.m_xf,this.m_xf);this.m_world.m_contactManager.FindNewContacts()}};q.prototype.SetTransform=function(a){this.SetPositionAndAngle(a.position,a.GetAngle())};q.prototype.GetTransform=function(){return this.m_xf};q.prototype.GetPosition=function(){return this.m_xf.position};q.prototype.SetPosition=function(a){this.SetPositionAndAngle(a,
this.GetAngle())};q.prototype.GetAngle=function(){return this.m_sweep.a};q.prototype.SetAngle=function(a){void 0===a&&(a=0);this.SetPositionAndAngle(this.GetPosition(),a)};q.prototype.GetWorldCenter=function(){return this.m_sweep.c};q.prototype.GetLocalCenter=function(){return this.m_sweep.localCenter};q.prototype.SetLinearVelocity=function(a){this.m_type!=q.b2_staticBody&&this.m_linearVelocity.SetV(a)};q.prototype.GetLinearVelocity=function(){return this.m_linearVelocity};q.prototype.SetAngularVelocity=
function(a){void 0===a&&(a=0);this.m_type!=q.b2_staticBody&&(this.m_angularVelocity=a)};q.prototype.GetAngularVelocity=function(){return this.m_angularVelocity};q.prototype.GetDefinition=function(){var a=new A;a.type=this.GetType();a.allowSleep=(this.m_flags&q.e_allowSleepFlag)==q.e_allowSleepFlag;a.angle=this.GetAngle();a.angularDamping=this.m_angularDamping;a.angularVelocity=this.m_angularVelocity;a.fixedRotation=(this.m_flags&q.e_fixedRotationFlag)==q.e_fixedRotationFlag;a.bullet=(this.m_flags&
q.e_bulletFlag)==q.e_bulletFlag;a.awake=(this.m_flags&q.e_awakeFlag)==q.e_awakeFlag;a.linearDamping=this.m_linearDamping;a.linearVelocity.SetV(this.GetLinearVelocity());a.position=this.GetPosition();a.userData=this.GetUserData();return a};q.prototype.ApplyForce=function(a,b){this.m_type==q.b2_dynamicBody&&(!1==this.IsAwake()&&this.SetAwake(!0),this.m_force.x+=a.x,this.m_force.y+=a.y,this.m_torque+=(b.x-this.m_sweep.c.x)*a.y-(b.y-this.m_sweep.c.y)*a.x)};q.prototype.ApplyTorque=function(a){void 0===
a&&(a=0);this.m_type==q.b2_dynamicBody&&(!1==this.IsAwake()&&this.SetAwake(!0),this.m_torque+=a)};q.prototype.ApplyImpulse=function(a,b){this.m_type==q.b2_dynamicBody&&(!1==this.IsAwake()&&this.SetAwake(!0),this.m_linearVelocity.x+=this.m_invMass*a.x,this.m_linearVelocity.y+=this.m_invMass*a.y,this.m_angularVelocity+=this.m_invI*((b.x-this.m_sweep.c.x)*a.y-(b.y-this.m_sweep.c.y)*a.x))};q.prototype.Split=function(a){for(var b=this.GetLinearVelocity().Copy(),d=this.GetAngularVelocity(),e=this.GetWorldCenter(),
f=this.m_world.CreateBody(this.GetDefinition()),p,g=this.m_fixtureList;g;)if(a(g)){var h=g.m_next;p?p.m_next=h:this.m_fixtureList=h;this.m_fixtureCount--;g.m_next=f.m_fixtureList;f.m_fixtureList=g;f.m_fixtureCount++;g.m_body=f;g=h}else p=g,g=g.m_next;this.ResetMassData();f.ResetMassData();p=this.GetWorldCenter();a=f.GetWorldCenter();p=c.AddVV(b,c.CrossFV(d,c.SubtractVV(p,e)));b=c.AddVV(b,c.CrossFV(d,c.SubtractVV(a,e)));this.SetLinearVelocity(p);f.SetLinearVelocity(b);this.SetAngularVelocity(d);f.SetAngularVelocity(d);
this.SynchronizeFixtures();f.SynchronizeFixtures();return f};q.prototype.Merge=function(a){var b;for(b=a.m_fixtureList;b;){var c=b.m_next;a.m_fixtureCount--;b.m_next=this.m_fixtureList;this.m_fixtureList=b;this.m_fixtureCount++;b.m_body=e;b=c}d.m_fixtureCount=0;var d=this,e=a;d.GetWorldCenter();e.GetWorldCenter();d.GetLinearVelocity().Copy();e.GetLinearVelocity().Copy();d.GetAngularVelocity();e.GetAngularVelocity();d.ResetMassData();this.SynchronizeFixtures()};q.prototype.GetMass=function(){return this.m_mass};
q.prototype.GetInertia=function(){return this.m_I};q.prototype.GetMassData=function(a){a.mass=this.m_mass;a.I=this.m_I;a.center.SetV(this.m_sweep.localCenter)};q.prototype.SetMassData=function(a){e.b2Assert(!1==this.m_world.IsLocked());if(!0!=this.m_world.IsLocked()&&this.m_type==q.b2_dynamicBody){this.m_invI=this.m_I=this.m_invMass=0;this.m_mass=a.mass;0>=this.m_mass&&(this.m_mass=1);this.m_invMass=1/this.m_mass;0<a.I&&0==(this.m_flags&q.e_fixedRotationFlag)&&(this.m_I=a.I-this.m_mass*(a.center.x*
a.center.x+a.center.y*a.center.y),this.m_invI=1/this.m_I);var b=this.m_sweep.c.Copy();this.m_sweep.localCenter.SetV(a.center);this.m_sweep.c0.SetV(c.MulX(this.m_xf,this.m_sweep.localCenter));this.m_sweep.c.SetV(this.m_sweep.c0);this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-b.y);this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-b.x)}};q.prototype.ResetMassData=function(){this.m_invI=this.m_I=this.m_invMass=this.m_mass=0;this.m_sweep.localCenter.SetZero();if(this.m_type!=
q.b2_staticBody&&this.m_type!=q.b2_kinematicBody){for(var a=h.Make(0,0),b=this.m_fixtureList;b;b=b.m_next)if(0!=b.m_density){var d=b.GetMassData();this.m_mass+=d.mass;a.x+=d.center.x*d.mass;a.y+=d.center.y*d.mass;this.m_I+=d.I}0<this.m_mass?(this.m_invMass=1/this.m_mass,a.x*=this.m_invMass,a.y*=this.m_invMass):this.m_invMass=this.m_mass=1;0<this.m_I&&0==(this.m_flags&q.e_fixedRotationFlag)?(this.m_I-=this.m_mass*(a.x*a.x+a.y*a.y),this.m_I*=this.m_inertiaScale,e.b2Assert(0<this.m_I),this.m_invI=1/
this.m_I):this.m_invI=this.m_I=0;b=this.m_sweep.c.Copy();this.m_sweep.localCenter.SetV(a);this.m_sweep.c0.SetV(c.MulX(this.m_xf,this.m_sweep.localCenter));this.m_sweep.c.SetV(this.m_sweep.c0);this.m_linearVelocity.x+=this.m_angularVelocity*-(this.m_sweep.c.y-b.y);this.m_linearVelocity.y+=this.m_angularVelocity*+(this.m_sweep.c.x-b.x)}};q.prototype.GetWorldPoint=function(a){var b=this.m_xf.R;a=new h(b.col1.x*a.x+b.col2.x*a.y,b.col1.y*a.x+b.col2.y*a.y);a.x+=this.m_xf.position.x;a.y+=this.m_xf.position.y;
return a};q.prototype.GetWorldVector=function(a){return c.MulMV(this.m_xf.R,a)};q.prototype.GetLocalPoint=function(a){return c.MulXT(this.m_xf,a)};q.prototype.GetLocalVector=function(a){return c.MulTMV(this.m_xf.R,a)};q.prototype.GetLinearVelocityFromWorldPoint=function(a){return new h(this.m_linearVelocity.x-this.m_angularVelocity*(a.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(a.x-this.m_sweep.c.x))};q.prototype.GetLinearVelocityFromLocalPoint=function(a){var b=this.m_xf.R;
a=new h(b.col1.x*a.x+b.col2.x*a.y,b.col1.y*a.x+b.col2.y*a.y);a.x+=this.m_xf.position.x;a.y+=this.m_xf.position.y;return new h(this.m_linearVelocity.x-this.m_angularVelocity*(a.y-this.m_sweep.c.y),this.m_linearVelocity.y+this.m_angularVelocity*(a.x-this.m_sweep.c.x))};q.prototype.GetLinearDamping=function(){return this.m_linearDamping};q.prototype.SetLinearDamping=function(a){void 0===a&&(a=0);this.m_linearDamping=a};q.prototype.GetAngularDamping=function(){return this.m_angularDamping};q.prototype.SetAngularDamping=
function(a){void 0===a&&(a=0);this.m_angularDamping=a};q.prototype.SetType=function(a){void 0===a&&(a=0);if(this.m_type!=a)for(this.m_type=a,this.ResetMassData(),this.m_type==q.b2_staticBody&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0,a=this.m_contactList;a;a=a.next)a.contact.FlagForFiltering()};q.prototype.GetType=function(){return this.m_type};q.prototype.SetBullet=function(a){this.m_flags=a?this.m_flags|q.e_bulletFlag:this.m_flags&
~q.e_bulletFlag};q.prototype.IsBullet=function(){return(this.m_flags&q.e_bulletFlag)==q.e_bulletFlag};q.prototype.SetSleepingAllowed=function(a){a?this.m_flags|=q.e_allowSleepFlag:(this.m_flags&=~q.e_allowSleepFlag,this.SetAwake(!0))};q.prototype.SetAwake=function(a){a?(this.m_flags|=q.e_awakeFlag,this.m_sleepTime=0):(this.m_flags&=~q.e_awakeFlag,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0)};q.prototype.IsAwake=function(){return(this.m_flags&
q.e_awakeFlag)==q.e_awakeFlag};q.prototype.SetFixedRotation=function(a){this.m_flags=a?this.m_flags|q.e_fixedRotationFlag:this.m_flags&~q.e_fixedRotationFlag;this.ResetMassData()};q.prototype.IsFixedRotation=function(){return(this.m_flags&q.e_fixedRotationFlag)==q.e_fixedRotationFlag};q.prototype.SetActive=function(a){if(a!=this.IsActive()){var b;if(a)for(this.m_flags|=q.e_activeFlag,a=this.m_world.m_contactManager.m_broadPhase,b=this.m_fixtureList;b;b=b.m_next)b.CreateProxy(a,this.m_xf);else{this.m_flags&=
~q.e_activeFlag;a=this.m_world.m_contactManager.m_broadPhase;for(b=this.m_fixtureList;b;b=b.m_next)b.DestroyProxy(a);for(a=this.m_contactList;a;)b=a,a=a.next,this.m_world.m_contactManager.Destroy(b.contact);this.m_contactList=null}}};q.prototype.IsActive=function(){return(this.m_flags&q.e_activeFlag)==q.e_activeFlag};q.prototype.IsSleepingAllowed=function(){return(this.m_flags&q.e_allowSleepFlag)==q.e_allowSleepFlag};q.prototype.GetFixtureList=function(){return this.m_fixtureList};q.prototype.GetJointList=
function(){return this.m_jointList};q.prototype.GetControllerList=function(){return this.m_controllerList};q.prototype.GetContactList=function(){return this.m_contactList};q.prototype.GetNext=function(){return this.m_next};q.prototype.GetUserData=function(){return this.m_userData};q.prototype.SetUserData=function(a){this.m_userData=a};q.prototype.GetWorld=function(){return this.m_world};q.prototype.b2Body=function(a,b){this.m_flags=0;a.bullet&&(this.m_flags|=q.e_bulletFlag);a.fixedRotation&&(this.m_flags|=
q.e_fixedRotationFlag);a.allowSleep&&(this.m_flags|=q.e_allowSleepFlag);a.awake&&(this.m_flags|=q.e_awakeFlag);a.active&&(this.m_flags|=q.e_activeFlag);this.m_world=b;this.m_xf.position.SetV(a.position);this.m_xf.R.Set(a.angle);this.m_sweep.localCenter.SetZero();this.m_sweep.t0=1;this.m_sweep.a0=this.m_sweep.a=a.angle;var c=this.m_xf.R,d=this.m_sweep.localCenter;this.m_sweep.c.x=c.col1.x*d.x+c.col2.x*d.y;this.m_sweep.c.y=c.col1.y*d.x+c.col2.y*d.y;this.m_sweep.c.x+=this.m_xf.position.x;this.m_sweep.c.y+=
this.m_xf.position.y;this.m_sweep.c0.SetV(this.m_sweep.c);this.m_contactList=this.m_controllerList=this.m_jointList=null;this.m_controllerCount=0;this.m_next=this.m_prev=null;this.m_linearVelocity.SetV(a.linearVelocity);this.m_angularVelocity=a.angularVelocity;this.m_linearDamping=a.linearDamping;this.m_angularDamping=a.angularDamping;this.m_force.Set(0,0);this.m_sleepTime=this.m_torque=0;this.m_type=a.type;this.m_invMass=this.m_type==q.b2_dynamicBody?this.m_mass=1:this.m_mass=0;this.m_invI=this.m_I=
0;this.m_inertiaScale=a.inertiaScale;this.m_userData=a.userData;this.m_fixtureList=null;this.m_fixtureCount=0};q.prototype.SynchronizeFixtures=function(){var a=q.s_xf1;a.R.Set(this.m_sweep.a0);var b=a.R,c=this.m_sweep.localCenter;a.position.x=this.m_sweep.c0.x-(b.col1.x*c.x+b.col2.x*c.y);a.position.y=this.m_sweep.c0.y-(b.col1.y*c.x+b.col2.y*c.y);c=this.m_world.m_contactManager.m_broadPhase;for(b=this.m_fixtureList;b;b=b.m_next)b.Synchronize(c,a,this.m_xf)};q.prototype.SynchronizeTransform=function(){this.m_xf.R.Set(this.m_sweep.a);
var a=this.m_xf.R,b=this.m_sweep.localCenter;this.m_xf.position.x=this.m_sweep.c.x-(a.col1.x*b.x+a.col2.x*b.y);this.m_xf.position.y=this.m_sweep.c.y-(a.col1.y*b.x+a.col2.y*b.y)};q.prototype.ShouldCollide=function(a){if(this.m_type!=q.b2_dynamicBody&&a.m_type!=q.b2_dynamicBody)return!1;for(var b=this.m_jointList;b;b=b.next)if(b.other==a&&!1==b.joint.m_collideConnected)return!1;return!0};q.prototype.Advance=function(a){void 0===a&&(a=0);this.m_sweep.Advance(a);this.m_sweep.c.SetV(this.m_sweep.c0);this.m_sweep.a=
this.m_sweep.a0;this.SynchronizeTransform()};Box2D.postDefs.push(function(){Box2D.Dynamics.b2Body.s_xf1=new b;Box2D.Dynamics.b2Body.e_islandFlag=1;Box2D.Dynamics.b2Body.e_awakeFlag=2;Box2D.Dynamics.b2Body.e_allowSleepFlag=4;Box2D.Dynamics.b2Body.e_bulletFlag=8;Box2D.Dynamics.b2Body.e_fixedRotationFlag=16;Box2D.Dynamics.b2Body.e_activeFlag=32;Box2D.Dynamics.b2Body.b2_staticBody=0;Box2D.Dynamics.b2Body.b2_kinematicBody=1;Box2D.Dynamics.b2Body.b2_dynamicBody=2});A.b2BodyDef=function(){this.position=
new h;this.linearVelocity=new h};A.prototype.b2BodyDef=function(){this.userData=null;this.position.Set(0,0);this.angle=0;this.linearVelocity.Set(0,0);this.angularDamping=this.linearDamping=this.angularVelocity=0;this.awake=this.allowSleep=!0;this.bullet=this.fixedRotation=!1;this.type=q.b2_staticBody;this.active=!0;this.inertiaScale=1};z.b2ContactFilter=function(){};z.prototype.ShouldCollide=function(a,b){var c=a.GetFilterData(),d=b.GetFilterData();return c.groupIndex==d.groupIndex&&0!=c.groupIndex?
0<c.groupIndex:0!=(c.maskBits&d.categoryBits)&&0!=(c.categoryBits&d.maskBits)};z.prototype.RayCollide=function(a,b){return a?this.ShouldCollide(a instanceof I?a:null,b):!0};Box2D.postDefs.push(function(){Box2D.Dynamics.b2ContactFilter.b2_defaultFilter=new z});H.b2ContactImpulse=function(){this.normalImpulses=new Vector_a2j_Number(e.b2_maxManifoldPoints);this.tangentImpulses=new Vector_a2j_Number(e.b2_maxManifoldPoints)};E.b2ContactListener=function(){};E.prototype.BeginContact=function(a){};E.prototype.EndContact=
function(a){};E.prototype.PreSolve=function(a,b){};E.prototype.PostSolve=function(a,b){};Box2D.postDefs.push(function(){Box2D.Dynamics.b2ContactListener.b2_defaultListener=new E});G.b2ContactManager=function(){};G.prototype.b2ContactManager=function(){this.m_world=null;this.m_contactCount=0;this.m_contactFilter=z.b2_defaultFilter;this.m_contactListener=E.b2_defaultListener;this.m_contactFactory=new B(this.m_allocator);this.m_broadPhase=new k};G.prototype.AddPair=function(a,b){var c=a instanceof I?
a:null,d=b instanceof I?b:null,e=c.GetBody(),f=d.GetBody();if(e!=f){for(var p=f.GetContactList();p;){if(p.other==e){var g=p.contact.GetFixtureA(),h=p.contact.GetFixtureB();if(g==c&&h==d||g==d&&h==c)return}p=p.next}!1!=f.ShouldCollide(e)&&!1!=this.m_contactFilter.ShouldCollide(c,d)&&(p=this.m_contactFactory.Create(c,d),c=p.GetFixtureA(),d=p.GetFixtureB(),e=c.m_body,f=d.m_body,p.m_prev=null,p.m_next=this.m_world.m_contactList,null!=this.m_world.m_contactList&&(this.m_world.m_contactList.m_prev=p),this.m_world.m_contactList=
p,p.m_nodeA.contact=p,p.m_nodeA.other=f,p.m_nodeA.prev=null,p.m_nodeA.next=e.m_contactList,null!=e.m_contactList&&(e.m_contactList.prev=p.m_nodeA),e.m_contactList=p.m_nodeA,p.m_nodeB.contact=p,p.m_nodeB.other=e,p.m_nodeB.prev=null,p.m_nodeB.next=f.m_contactList,null!=f.m_contactList&&(f.m_contactList.prev=p.m_nodeB),f.m_contactList=p.m_nodeB,++this.m_world.m_contactCount)}};G.prototype.FindNewContacts=function(){this.m_broadPhase.UpdatePairs(Box2D.generateCallback(this,this.AddPair))};G.prototype.Destroy=
function(a){var b=a.GetFixtureA(),c=a.GetFixtureB(),b=b.GetBody(),c=c.GetBody();a.IsTouching()&&this.m_contactListener.EndContact(a);a.m_prev&&(a.m_prev.m_next=a.m_next);a.m_next&&(a.m_next.m_prev=a.m_prev);a==this.m_world.m_contactList&&(this.m_world.m_contactList=a.m_next);a.m_nodeA.prev&&(a.m_nodeA.prev.next=a.m_nodeA.next);a.m_nodeA.next&&(a.m_nodeA.next.prev=a.m_nodeA.prev);a.m_nodeA==b.m_contactList&&(b.m_contactList=a.m_nodeA.next);a.m_nodeB.prev&&(a.m_nodeB.prev.next=a.m_nodeB.next);a.m_nodeB.next&&
(a.m_nodeB.next.prev=a.m_nodeB.prev);a.m_nodeB==c.m_contactList&&(c.m_contactList=a.m_nodeB.next);this.m_contactFactory.Destroy(a);--this.m_contactCount};G.prototype.Collide=function(){for(var a=this.m_world.m_contactList;a;){var b=a.GetFixtureA(),c=a.GetFixtureB(),d=b.GetBody(),e=c.GetBody();if(!1==d.IsAwake()&&!1==e.IsAwake())a=a.GetNext();else{if(a.m_flags&D.e_filterFlag){if(!1==e.ShouldCollide(d)){b=a;a=b.GetNext();this.Destroy(b);continue}if(!1==this.m_contactFilter.ShouldCollide(b,c)){b=a;a=
b.GetNext();this.Destroy(b);continue}a.m_flags&=~D.e_filterFlag}!1==this.m_broadPhase.TestOverlap(b.m_proxy,c.m_proxy)?(b=a,a=b.GetNext(),this.Destroy(b)):(a.Update(this.m_contactListener),a=a.GetNext())}}};Box2D.postDefs.push(function(){Box2D.Dynamics.b2ContactManager.s_evalCP=new g});C.b2DebugDraw=function(){};C.prototype.b2DebugDraw=function(){};C.prototype.SetFlags=function(a){};C.prototype.GetFlags=function(){};C.prototype.AppendFlags=function(a){};C.prototype.ClearFlags=function(a){};C.prototype.SetSprite=
function(a){};C.prototype.GetSprite=function(){};C.prototype.SetDrawScale=function(a){};C.prototype.GetDrawScale=function(){};C.prototype.SetLineThickness=function(a){};C.prototype.GetLineThickness=function(){};C.prototype.SetAlpha=function(a){};C.prototype.GetAlpha=function(){};C.prototype.SetFillAlpha=function(a){};C.prototype.GetFillAlpha=function(){};C.prototype.SetXFormScale=function(a){};C.prototype.GetXFormScale=function(){};C.prototype.DrawPolygon=function(a,b,c){};C.prototype.DrawSolidPolygon=
function(a,b,c){};C.prototype.DrawCircle=function(a,b,c){};C.prototype.DrawSolidCircle=function(a,b,c,d){};C.prototype.DrawSegment=function(a,b,c){};C.prototype.DrawTransform=function(a){};Box2D.postDefs.push(function(){Box2D.Dynamics.b2DebugDraw.e_shapeBit=1;Box2D.Dynamics.b2DebugDraw.e_jointBit=2;Box2D.Dynamics.b2DebugDraw.e_aabbBit=4;Box2D.Dynamics.b2DebugDraw.e_pairBit=8;Box2D.Dynamics.b2DebugDraw.e_centerOfMassBit=16;Box2D.Dynamics.b2DebugDraw.e_controllerBit=32});K.b2DestructionListener=function(){};
K.prototype.SayGoodbyeJoint=function(a){};K.prototype.SayGoodbyeFixture=function(a){};F.b2FilterData=function(){this.categoryBits=1;this.maskBits=65535;this.groupIndex=0};F.prototype.Copy=function(){var a=new F;a.categoryBits=this.categoryBits;a.maskBits=this.maskBits;a.groupIndex=this.groupIndex;return a};I.b2Fixture=function(){this.m_filter=new F};I.prototype.GetType=function(){return this.m_shape.GetType()};I.prototype.GetShape=function(){return this.m_shape};I.prototype.SetSensor=function(a){if(this.m_isSensor!=
a&&(this.m_isSensor=a,null!=this.m_body))for(a=this.m_body.GetContactList();a;){var b=a.contact,c=b.GetFixtureA(),d=b.GetFixtureB();c!=this&&d!=this||b.SetSensor(c.IsSensor()||d.IsSensor());a=a.next}};I.prototype.IsSensor=function(){return this.m_isSensor};I.prototype.SetFilterData=function(a){this.m_filter=a.Copy();if(!this.m_body)for(a=this.m_body.GetContactList();a;){var b=a.contact,c=b.GetFixtureA(),d=b.GetFixtureB();c!=this&&d!=this||b.FlagForFiltering();a=a.next}};I.prototype.GetFilterData=
function(){return this.m_filter.Copy()};I.prototype.GetBody=function(){return this.m_body};I.prototype.GetNext=function(){return this.m_next};I.prototype.GetUserData=function(){return this.m_userData};I.prototype.SetUserData=function(a){this.m_userData=a};I.prototype.TestPoint=function(a){return this.m_shape.TestPoint(this.m_body.GetTransform(),a)};I.prototype.RayCast=function(a,b){return this.m_shape.RayCast(a,b,this.m_body.GetTransform())};I.prototype.GetMassData=function(a){void 0===a&&(a=null);
null==a&&(a=new t);this.m_shape.ComputeMass(a,this.m_density);return a};I.prototype.SetDensity=function(a){void 0===a&&(a=0);this.m_density=a};I.prototype.GetDensity=function(){return this.m_density};I.prototype.GetFriction=function(){return this.m_friction};I.prototype.SetFriction=function(a){void 0===a&&(a=0);this.m_friction=a};I.prototype.GetRestitution=function(){return this.m_restitution};I.prototype.SetRestitution=function(a){void 0===a&&(a=0);this.m_restitution=a};I.prototype.GetAABB=function(){return this.m_aabb};
I.prototype.b2Fixture=function(){this.m_aabb=new f;this.m_shape=this.m_next=this.m_body=this.m_userData=null;this.m_restitution=this.m_friction=this.m_density=0};I.prototype.Create=function(a,b,c){this.m_userData=c.userData;this.m_friction=c.friction;this.m_restitution=c.restitution;this.m_body=a;this.m_next=null;this.m_filter=c.filter.Copy();this.m_isSensor=c.isSensor;this.m_shape=c.shape.Copy();this.m_density=c.density};I.prototype.Destroy=function(){this.m_shape=null};I.prototype.CreateProxy=function(a,
b){this.m_shape.ComputeAABB(this.m_aabb,b);this.m_proxy=a.CreateProxy(this.m_aabb,this)};I.prototype.DestroyProxy=function(a){null!=this.m_proxy&&(a.DestroyProxy(this.m_proxy),this.m_proxy=null)};I.prototype.Synchronize=function(a,b,d){if(this.m_proxy){var e=new f,p=new f;this.m_shape.ComputeAABB(e,b);this.m_shape.ComputeAABB(p,d);this.m_aabb.Combine(e,p);b=c.SubtractVV(d.position,b.position);a.MoveProxy(this.m_proxy,this.m_aabb,b)}};N.b2FixtureDef=function(){this.filter=new F};N.prototype.b2FixtureDef=
function(){this.userData=this.shape=null;this.friction=0.2;this.density=this.restitution=0;this.filter.categoryBits=1;this.filter.maskBits=65535;this.filter.groupIndex=0;this.isSensor=!1};L.b2Island=function(){};L.prototype.b2Island=function(){this.m_bodies=new Vector;this.m_contacts=new Vector;this.m_joints=new Vector};L.prototype.Initialize=function(a,b,c,d,e,f){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);var p=0;this.m_bodyCapacity=a;this.m_contactCapacity=b;this.m_jointCapacity=c;this.m_jointCount=
this.m_contactCount=this.m_bodyCount=0;this.m_allocator=d;this.m_listener=e;this.m_contactSolver=f;for(p=this.m_bodies.length;p<a;p++)this.m_bodies[p]=null;for(p=this.m_contacts.length;p<b;p++)this.m_contacts[p]=null;for(p=this.m_joints.length;p<c;p++)this.m_joints[p]=null};L.prototype.Clear=function(){this.m_jointCount=this.m_contactCount=this.m_bodyCount=0};L.prototype.Solve=function(a,b,d){for(var f=0,p=0,g,f=0;f<this.m_bodyCount;++f)p=this.m_bodies[f],p.GetType()==q.b2_dynamicBody&&(p.m_linearVelocity.x+=
a.dt*(b.x+p.m_invMass*p.m_force.x),p.m_linearVelocity.y+=a.dt*(b.y+p.m_invMass*p.m_force.y),p.m_angularVelocity+=a.dt*p.m_invI*p.m_torque,p.m_linearVelocity.Multiply(c.Clamp(1-a.dt*p.m_linearDamping,0,1)),p.m_angularVelocity*=c.Clamp(1-a.dt*p.m_angularDamping,0,1));this.m_contactSolver.Initialize(a,this.m_contacts,this.m_contactCount,this.m_allocator);b=this.m_contactSolver;b.InitVelocityConstraints(a);for(f=0;f<this.m_jointCount;++f)g=this.m_joints[f],g.InitVelocityConstraints(a);for(f=0;f<a.velocityIterations;++f){for(p=
0;p<this.m_jointCount;++p)g=this.m_joints[p],g.SolveVelocityConstraints(a);b.SolveVelocityConstraints()}for(f=0;f<this.m_jointCount;++f)g=this.m_joints[f],g.FinalizeVelocityConstraints();b.FinalizeVelocityConstraints();for(f=0;f<this.m_bodyCount;++f)if(p=this.m_bodies[f],p.GetType()!=q.b2_staticBody){var h=a.dt*p.m_linearVelocity.x,v=a.dt*p.m_linearVelocity.y;h*h+v*v>e.b2_maxTranslationSquared&&(p.m_linearVelocity.Normalize(),p.m_linearVelocity.x=p.m_linearVelocity.x*e.b2_maxTranslation*a.inv_dt,
p.m_linearVelocity.y=p.m_linearVelocity.y*e.b2_maxTranslation*a.inv_dt);h=a.dt*p.m_angularVelocity;h*h>e.b2_maxRotationSquared&&(p.m_angularVelocity=0>p.m_angularVelocity?-e.b2_maxRotation*a.inv_dt:e.b2_maxRotation*a.inv_dt);p.m_sweep.c0.SetV(p.m_sweep.c);p.m_sweep.a0=p.m_sweep.a;p.m_sweep.c.x+=a.dt*p.m_linearVelocity.x;p.m_sweep.c.y+=a.dt*p.m_linearVelocity.y;p.m_sweep.a+=a.dt*p.m_angularVelocity;p.SynchronizeTransform()}for(f=0;f<a.positionIterations;++f){h=b.SolvePositionConstraints(e.b2_contactBaumgarte);
v=!0;for(p=0;p<this.m_jointCount;++p)g=this.m_joints[p],g=g.SolvePositionConstraints(e.b2_contactBaumgarte),v=v&&g;if(h&&v)break}this.Report(b.m_constraints);if(d){d=Number.MAX_VALUE;b=e.b2_linearSleepTolerance*e.b2_linearSleepTolerance;h=e.b2_angularSleepTolerance*e.b2_angularSleepTolerance;for(f=0;f<this.m_bodyCount;++f)p=this.m_bodies[f],p.GetType()!=q.b2_staticBody&&(0==(p.m_flags&q.e_allowSleepFlag)&&(d=p.m_sleepTime=0),0==(p.m_flags&q.e_allowSleepFlag)||p.m_angularVelocity*p.m_angularVelocity>
h||c.Dot(p.m_linearVelocity,p.m_linearVelocity)>b?d=p.m_sleepTime=0:(p.m_sleepTime+=a.dt,d=c.Min(d,p.m_sleepTime)));if(d>=e.b2_timeToSleep)for(f=0;f<this.m_bodyCount;++f)p=this.m_bodies[f],p.SetAwake(!1)}};L.prototype.SolveTOI=function(a){var b=0,c=0;this.m_contactSolver.Initialize(a,this.m_contacts,this.m_contactCount,this.m_allocator);for(var d=this.m_contactSolver,b=0;b<this.m_jointCount;++b)this.m_joints[b].InitVelocityConstraints(a);for(b=0;b<a.velocityIterations;++b)for(d.SolveVelocityConstraints(),
c=0;c<this.m_jointCount;++c)this.m_joints[c].SolveVelocityConstraints(a);for(b=0;b<this.m_bodyCount;++b)if(c=this.m_bodies[b],c.GetType()!=q.b2_staticBody){var p=a.dt*c.m_linearVelocity.x,f=a.dt*c.m_linearVelocity.y;p*p+f*f>e.b2_maxTranslationSquared&&(c.m_linearVelocity.Normalize(),c.m_linearVelocity.x=c.m_linearVelocity.x*e.b2_maxTranslation*a.inv_dt,c.m_linearVelocity.y=c.m_linearVelocity.y*e.b2_maxTranslation*a.inv_dt);p=a.dt*c.m_angularVelocity;p*p>e.b2_maxRotationSquared&&(c.m_angularVelocity=
0>c.m_angularVelocity?-e.b2_maxRotation*a.inv_dt:e.b2_maxRotation*a.inv_dt);c.m_sweep.c0.SetV(c.m_sweep.c);c.m_sweep.a0=c.m_sweep.a;c.m_sweep.c.x+=a.dt*c.m_linearVelocity.x;c.m_sweep.c.y+=a.dt*c.m_linearVelocity.y;c.m_sweep.a+=a.dt*c.m_angularVelocity;c.SynchronizeTransform()}for(b=0;b<a.positionIterations;++b){p=d.SolvePositionConstraints(0.75);f=!0;for(c=0;c<this.m_jointCount;++c)var g=this.m_joints[c].SolvePositionConstraints(e.b2_contactBaumgarte),f=f&&g;if(p&&f)break}this.Report(d.m_constraints)};
L.prototype.Report=function(a){if(null!=this.m_listener)for(var b=0;b<this.m_contactCount;++b){for(var c=this.m_contacts[b],d=a[b],e=0;e<d.pointCount;++e)L.s_impulse.normalImpulses[e]=d.points[e].normalImpulse,L.s_impulse.tangentImpulses[e]=d.points[e].tangentImpulse;this.m_listener.PostSolve(c,L.s_impulse)}};L.prototype.AddBody=function(a){a.m_islandIndex=this.m_bodyCount;this.m_bodies[this.m_bodyCount++]=a};L.prototype.AddContact=function(a){this.m_contacts[this.m_contactCount++]=a};L.prototype.AddJoint=
function(a){this.m_joints[this.m_jointCount++]=a};Box2D.postDefs.push(function(){Box2D.Dynamics.b2Island.s_impulse=new H});p.b2TimeStep=function(){};p.prototype.Set=function(a){this.dt=a.dt;this.inv_dt=a.inv_dt;this.positionIterations=a.positionIterations;this.velocityIterations=a.velocityIterations;this.warmStarting=a.warmStarting};v.b2World=function(){this.s_stack=new Vector;this.m_contactManager=new G;this.m_contactSolver=new J;this.m_island=new L};v.prototype.b2World=function(a,b){this.m_controllerList=
this.m_jointList=this.m_contactList=this.m_bodyList=this.m_debugDraw=this.m_destructionListener=null;this.m_controllerCount=this.m_jointCount=this.m_contactCount=this.m_bodyCount=0;v.m_warmStarting=!0;v.m_continuousPhysics=!0;this.m_allowSleep=b;this.m_y12=a;this.m_inv_dt0=0;this.m_contactManager.m_world=this;var c=new A;this.m_groundBody=this.CreateBody(c)};v.prototype.SetDestructionListener=function(a){this.m_destructionListener=a};v.prototype.SetContactFilter=function(a){this.m_contactManager.m_contactFilter=
a};v.prototype.SetContactListener=function(a){this.m_contactManager.m_contactListener=a};v.prototype.SetDebugDraw=function(a){this.m_debugDraw=a};v.prototype.SetBroadPhase=function(a){var b=this.m_contactManager.m_broadPhase;this.m_contactManager.m_broadPhase=a;for(var c=this.m_bodyList;c;c=c.m_next)for(var d=c.m_fixtureList;d;d=d.m_next)d.m_proxy=a.CreateProxy(b.GetFatAABB(d.m_proxy),d)};v.prototype.Validate=function(){this.m_contactManager.m_broadPhase.Validate()};v.prototype.GetProxyCount=function(){return this.m_contactManager.m_broadPhase.GetProxyCount()};
v.prototype.CreateBody=function(a){if(!0==this.IsLocked())return null;a=new q(a,this);a.m_prev=null;if(a.m_next=this.m_bodyList)this.m_bodyList.m_prev=a;this.m_bodyList=a;++this.m_bodyCount;return a};v.prototype.DestroyBody=function(a){if(!0!=this.IsLocked()){for(var b=a.m_jointList;b;){var c=b,b=b.next;this.m_destructionListener&&this.m_destructionListener.SayGoodbyeJoint(c.joint);this.DestroyJoint(c.joint)}for(b=a.m_controllerList;b;)c=b,b=b.nextController,c.controller.RemoveBody(a);for(b=a.m_contactList;b;)c=
b,b=b.next,this.m_contactManager.Destroy(c.contact);a.m_contactList=null;for(b=a.m_fixtureList;b;)c=b,b=b.m_next,this.m_destructionListener&&this.m_destructionListener.SayGoodbyeFixture(c),c.DestroyProxy(this.m_contactManager.m_broadPhase),c.Destroy();a.m_fixtureList=null;a.m_fixtureCount=0;a.m_prev&&(a.m_prev.m_next=a.m_next);a.m_next&&(a.m_next.m_prev=a.m_prev);a==this.m_bodyList&&(this.m_bodyList=a.m_next);--this.m_bodyCount}};v.prototype.CreateJoint=function(a){var b=M.Create(a,null);b.m_prev=
null;if(b.m_next=this.m_jointList)this.m_jointList.m_prev=b;this.m_jointList=b;++this.m_jointCount;b.m_edgeA.joint=b;b.m_edgeA.other=b.m_bodyB;b.m_edgeA.prev=null;if(b.m_edgeA.next=b.m_bodyA.m_jointList)b.m_bodyA.m_jointList.prev=b.m_edgeA;b.m_bodyA.m_jointList=b.m_edgeA;b.m_edgeB.joint=b;b.m_edgeB.other=b.m_bodyA;b.m_edgeB.prev=null;if(b.m_edgeB.next=b.m_bodyB.m_jointList)b.m_bodyB.m_jointList.prev=b.m_edgeB;b.m_bodyB.m_jointList=b.m_edgeB;var c=a.bodyA,d=a.bodyB;if(!1==a.collideConnected)for(a=
d.GetContactList();a;)a.other==c&&a.contact.FlagForFiltering(),a=a.next;return b};v.prototype.DestroyJoint=function(a){var b=a.m_collideConnected;a.m_prev&&(a.m_prev.m_next=a.m_next);a.m_next&&(a.m_next.m_prev=a.m_prev);a==this.m_jointList&&(this.m_jointList=a.m_next);var c=a.m_bodyA,d=a.m_bodyB;c.SetAwake(!0);d.SetAwake(!0);a.m_edgeA.prev&&(a.m_edgeA.prev.next=a.m_edgeA.next);a.m_edgeA.next&&(a.m_edgeA.next.prev=a.m_edgeA.prev);a.m_edgeA==c.m_jointList&&(c.m_jointList=a.m_edgeA.next);a.m_edgeA.prev=
null;a.m_edgeA.next=null;a.m_edgeB.prev&&(a.m_edgeB.prev.next=a.m_edgeB.next);a.m_edgeB.next&&(a.m_edgeB.next.prev=a.m_edgeB.prev);a.m_edgeB==d.m_jointList&&(d.m_jointList=a.m_edgeB.next);a.m_edgeB.prev=null;a.m_edgeB.next=null;M.Destroy(a,null);--this.m_jointCount;if(!1==b)for(a=d.GetContactList();a;)a.other==c&&a.contact.FlagForFiltering(),a=a.next};v.prototype.AddController=function(a){a.m_next=this.m_controllerList;a.m_prev=null;this.m_controllerList=a;a.m_world=this;this.m_controllerCount++;
return a};v.prototype.RemoveController=function(a){a.m_prev&&(a.m_prev.m_next=a.m_next);a.m_next&&(a.m_next.m_prev=a.m_prev);this.m_controllerList==a&&(this.m_controllerList=a.m_next);this.m_controllerCount--};v.prototype.CreateController=function(a){if(a.m_world!=this)throw Error("Controller can only be a member of one world");a.m_next=this.m_controllerList;a.m_prev=null;this.m_controllerList&&(this.m_controllerList.m_prev=a);this.m_controllerList=a;++this.m_controllerCount;a.m_world=this;return a};
v.prototype.DestroyController=function(a){a.Clear();a.m_next&&(a.m_next.m_prev=a.m_prev);a.m_prev&&(a.m_prev.m_next=a.m_next);a==this.m_controllerList&&(this.m_controllerList=a.m_next);--this.m_controllerCount};v.prototype.SetWarmStarting=function(a){v.m_warmStarting=a};v.prototype.SetContinuousPhysics=function(a){v.m_continuousPhysics=a};v.prototype.GetBodyCount=function(){return this.m_bodyCount};v.prototype.GetJointCount=function(){return this.m_jointCount};v.prototype.GetContactCount=function(){return this.m_contactCount};
v.prototype.SetGravity=function(a){this.m_y12=a};v.prototype.GetGravity=function(){return this.m_y12};v.prototype.GetGroundBody=function(){return this.m_groundBody};v.prototype.Step=function(a,b,c){void 0===a&&(a=0);void 0===b&&(b=0);void 0===c&&(c=0);this.m_flags&v.e_newFixture&&(this.m_contactManager.FindNewContacts(),this.m_flags&=~v.e_newFixture);this.m_flags|=v.e_locked;var d=v.s_timestep2;d.dt=a;d.velocityIterations=b;d.positionIterations=c;d.inv_dt=0<a?1/a:0;d.dtRatio=this.m_inv_dt0*a;d.warmStarting=
v.m_warmStarting;this.m_contactManager.Collide();0<d.dt&&this.Solve(d);v.m_continuousPhysics&&0<d.dt&&this.SolveTOI(d);0<d.dt&&(this.m_inv_dt0=d.inv_dt);this.m_flags&=~v.e_locked};v.prototype.ClearForces=function(){for(var a=this.m_bodyList;a;a=a.m_next)a.m_force.SetZero(),a.m_torque=0};v.prototype.DrawDebugData=function(){if(null!=this.m_debugDraw){this.m_debugDraw.m_sprite.graphics.clear();var a=this.m_debugDraw.GetFlags(),b,c,e;new h;new h;new h;var p;new f;new f;p=[new h,new h,new h,new h];var g=
new d(0,0,0);if(a&C.e_shapeBit)for(b=this.m_bodyList;b;b=b.m_next)for(p=b.m_xf,c=b.GetFixtureList();c;c=c.m_next)e=c.GetShape(),!1==b.IsActive()?g.Set(0.5,0.5,0.3):b.GetType()==q.b2_staticBody?g.Set(0.5,0.9,0.5):b.GetType()==q.b2_kinematicBody?g.Set(0.5,0.5,0.9):!1==b.IsAwake()?g.Set(0.6,0.6,0.6):g.Set(0.9,0.7,0.7),this.DrawShape(e,p,g);if(a&C.e_jointBit)for(b=this.m_jointList;b;b=b.m_next)this.DrawJoint(b);if(a&C.e_controllerBit)for(b=this.m_controllerList;b;b=b.m_next)b.Draw(this.m_debugDraw);if(a&
C.e_pairBit)for(g.Set(0.3,0.9,0.9),b=this.m_contactManager.m_contactList;b;b=b.GetNext())e=b.GetFixtureA(),c=b.GetFixtureB(),e=e.GetAABB().GetCenter(),c=c.GetAABB().GetCenter(),this.m_debugDraw.DrawSegment(e,c,g);if(a&C.e_aabbBit)for(e=this.m_contactManager.m_broadPhase,p=[new h,new h,new h,new h],b=this.m_bodyList;b;b=b.GetNext())if(!1!=b.IsActive())for(c=b.GetFixtureList();c;c=c.GetNext()){var B=e.GetFatAABB(c.m_proxy);p[0].Set(B.lowerBound.x,B.lowerBound.y);p[1].Set(B.upperBound.x,B.lowerBound.y);
p[2].Set(B.upperBound.x,B.upperBound.y);p[3].Set(B.lowerBound.x,B.upperBound.y);this.m_debugDraw.DrawPolygon(p,4,g)}if(a&C.e_centerOfMassBit)for(b=this.m_bodyList;b;b=b.m_next)p=v.s_xf,p.R=b.m_xf.R,p.position=b.GetWorldCenter(),this.m_debugDraw.DrawTransform(p)}};v.prototype.QueryAABB=function(a,b){var c=this.m_contactManager.m_broadPhase;c.Query(function(b){return a(c.GetUserData(b))},b)};v.prototype.QueryShape=function(a,c,d){void 0===d&&(d=null);null==d&&(d=new b,d.SetIdentity());var e=this.m_contactManager.m_broadPhase,
p=new f;c.ComputeAABB(p,d);e.Query(function(b){b=e.GetUserData(b)instanceof I?e.GetUserData(b):null;return y.TestOverlap(c,d,b.GetShape(),b.GetBody().GetTransform())?a(b):!0},p)};v.prototype.QueryPoint=function(a,b){var c=this.m_contactManager.m_broadPhase,d=new f;d.lowerBound.Set(b.x-e.b2_linearSlop,b.y-e.b2_linearSlop);d.upperBound.Set(b.x+e.b2_linearSlop,b.y+e.b2_linearSlop);c.Query(function(d){d=c.GetUserData(d)instanceof I?c.GetUserData(d):null;return d.TestPoint(b)?a(d):!0},d)};v.prototype.RayCast=
function(a,b,c){var d=this.m_contactManager.m_broadPhase,e=new n,p=new m(b,c);d.RayCast(function(p,f){var g=d.GetUserData(f),g=g instanceof I?g:null;if(g.RayCast(e,p)){var v=e.fraction,B=new h((1-v)*b.x+v*c.x,(1-v)*b.y+v*c.y);return a(g,B,e.normal,v)}return p.maxFraction},p)};v.prototype.RayCastOne=function(a,b){var c;this.RayCast(function(a,b,d,e){void 0===e&&(e=0);c=a;return e},a,b);return c};v.prototype.RayCastAll=function(a,b){var c=new Vector;this.RayCast(function(a,b,d,e){c[c.length]=a;return 1},
a,b);return c};v.prototype.GetBodyList=function(){return this.m_bodyList};v.prototype.GetJointList=function(){return this.m_jointList};v.prototype.GetContactList=function(){return this.m_contactList};v.prototype.IsLocked=function(){return 0<(this.m_flags&v.e_locked)};v.prototype.Solve=function(a){for(var b,c=this.m_controllerList;c;c=c.m_next)c.Step(a);c=this.m_island;c.Initialize(this.m_bodyCount,this.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener,this.m_contactSolver);
for(b=this.m_bodyList;b;b=b.m_next)b.m_flags&=~q.e_islandFlag;for(var d=this.m_contactList;d;d=d.m_next)d.m_flags&=~D.e_islandFlag;for(d=this.m_jointList;d;d=d.m_next)d.m_islandFlag=!1;parseInt(this.m_bodyCount);for(var d=this.s_stack,e=this.m_bodyList;e;e=e.m_next)if(!(e.m_flags&q.e_islandFlag)&&!1!=e.IsAwake()&&!1!=e.IsActive()&&e.GetType()!=q.b2_staticBody){c.Clear();var p=0;d[p++]=e;for(e.m_flags|=q.e_islandFlag;0<p;)if(b=d[--p],c.AddBody(b),!1==b.IsAwake()&&b.SetAwake(!0),b.GetType()!=q.b2_staticBody){for(var f,
g=b.m_contactList;g;g=g.next)g.contact.m_flags&D.e_islandFlag||!0==g.contact.IsSensor()||!1==g.contact.IsEnabled()||!1==g.contact.IsTouching()||(c.AddContact(g.contact),g.contact.m_flags|=D.e_islandFlag,f=g.other,f.m_flags&q.e_islandFlag||(d[p++]=f,f.m_flags|=q.e_islandFlag));for(b=b.m_jointList;b;b=b.next)!0!=b.joint.m_islandFlag&&(f=b.other,!1!=f.IsActive()&&(c.AddJoint(b.joint),b.joint.m_islandFlag=!0,f.m_flags&q.e_islandFlag||(d[p++]=f,f.m_flags|=q.e_islandFlag)))}c.Solve(a,this.m_y12,this.m_allowSleep);
for(p=0;p<c.m_bodyCount;++p)b=c.m_bodies[p],b.GetType()==q.b2_staticBody&&(b.m_flags&=~q.e_islandFlag)}for(p=0;p<d.length&&d[p];++p)d[p]=null;for(b=this.m_bodyList;b;b=b.m_next)!1!=b.IsAwake()&&!1!=b.IsActive()&&b.GetType()!=q.b2_staticBody&&b.SynchronizeFixtures();this.m_contactManager.FindNewContacts()};v.prototype.SolveTOI=function(a){var b,c,d,p=this.m_island;p.Initialize(this.m_bodyCount,e.b2_maxTOIContactsPerIsland,e.b2_maxTOIJointsPerIsland,null,this.m_contactManager.m_contactListener,this.m_contactSolver);
var f=v.s_queue;for(b=this.m_bodyList;b;b=b.m_next)b.m_flags&=~q.e_islandFlag,b.m_sweep.t0=0;for(d=this.m_contactList;d;d=d.m_next)d.m_flags&=~(D.e_toiFlag|D.e_islandFlag);for(d=this.m_jointList;d;d=d.m_next)d.m_islandFlag=!1;for(;;){var g=null,h=1;for(d=this.m_contactList;d;d=d.m_next)if(!0!=d.IsSensor()&&!1!=d.IsEnabled()&&!1!=d.IsContinuous()){b=1;if(d.m_flags&D.e_toiFlag)b=d.m_toi;else{b=d.m_fixtureA;c=d.m_fixtureB;b=b.m_body;c=c.m_body;if(!(b.GetType()==q.b2_dynamicBody&&!1!=b.IsAwake()||c.GetType()==
q.b2_dynamicBody&&!1!=c.IsAwake()))continue;var B=b.m_sweep.t0;b.m_sweep.t0<c.m_sweep.t0?(B=c.m_sweep.t0,b.m_sweep.Advance(B)):c.m_sweep.t0<b.m_sweep.t0&&(B=b.m_sweep.t0,c.m_sweep.Advance(B));b=d.ComputeTOI(b.m_sweep,c.m_sweep);e.b2Assert(0<=b&&1>=b);0<b&&1>b&&(b=(1-b)*B+b,1<b&&(b=1));d.m_toi=b;d.m_flags|=D.e_toiFlag}Number.MIN_VALUE<b&&b<h&&(g=d,h=b)}if(null==g||1-100*Number.MIN_VALUE<h)break;b=g.m_fixtureA;c=g.m_fixtureB;b=b.m_body;c=c.m_body;v.s_backupA.Set(b.m_sweep);v.s_backupB.Set(c.m_sweep);
b.Advance(h);c.Advance(h);g.Update(this.m_contactManager.m_contactListener);g.m_flags&=~D.e_toiFlag;if(!0==g.IsSensor()||!1==g.IsEnabled())b.m_sweep.Set(v.s_backupA),c.m_sweep.Set(v.s_backupB),b.SynchronizeTransform(),c.SynchronizeTransform();else if(!1!=g.IsTouching()){b.GetType()!=q.b2_dynamicBody&&(b=c);p.Clear();g=d=0;f[d+g++]=b;for(b.m_flags|=q.e_islandFlag;0<g;)if(b=f[d++],--g,p.AddBody(b),!1==b.IsAwake()&&b.SetAwake(!0),b.GetType()==q.b2_dynamicBody){for(c=b.m_contactList;c&&p.m_contactCount!=
p.m_contactCapacity;c=c.next)c.contact.m_flags&D.e_islandFlag||!0==c.contact.IsSensor()||!1==c.contact.IsEnabled()||!1==c.contact.IsTouching()||(p.AddContact(c.contact),c.contact.m_flags|=D.e_islandFlag,B=c.other,B.m_flags&q.e_islandFlag||(B.GetType()!=q.b2_staticBody&&(B.Advance(h),B.SetAwake(!0)),f[d+g]=B,++g,B.m_flags|=q.e_islandFlag));for(b=b.m_jointList;b;b=b.next)p.m_jointCount!=p.m_jointCapacity&&!0!=b.joint.m_islandFlag&&(B=b.other,!1!=B.IsActive()&&(p.AddJoint(b.joint),b.joint.m_islandFlag=
!0,B.m_flags&q.e_islandFlag||(B.GetType()!=q.b2_staticBody&&(B.Advance(h),B.SetAwake(!0)),f[d+g]=B,++g,B.m_flags|=q.e_islandFlag)))}d=v.s_timestep;d.warmStarting=!1;d.dt=(1-h)*a.dt;d.inv_dt=1/d.dt;d.dtRatio=0;d.velocityIterations=a.velocityIterations;d.positionIterations=a.positionIterations;p.SolveTOI(d);for(h=h=0;h<p.m_bodyCount;++h)if(b=p.m_bodies[h],b.m_flags&=~q.e_islandFlag,!1!=b.IsAwake()&&b.GetType()==q.b2_dynamicBody)for(b.SynchronizeFixtures(),c=b.m_contactList;c;c=c.next)c.contact.m_flags&=
~D.e_toiFlag;for(h=0;h<p.m_contactCount;++h)d=p.m_contacts[h],d.m_flags&=~(D.e_toiFlag|D.e_islandFlag);for(h=0;h<p.m_jointCount;++h)d=p.m_joints[h],d.m_islandFlag=!1;this.m_contactManager.FindNewContacts()}}};v.prototype.DrawJoint=function(a){var b=a.GetBodyA(),c=a.GetBodyB(),d=b.m_xf.position,e=c.m_xf.position,p=a.GetAnchorA(),f=a.GetAnchorB(),g=v.s_jointColor;switch(a.m_type){case M.e_distanceJoint:this.m_debugDraw.DrawSegment(p,f,g);break;case M.e_pulleyJoint:b=a instanceof O?a:null;a=b.GetGroundAnchorA();
b=b.GetGroundAnchorB();this.m_debugDraw.DrawSegment(a,p,g);this.m_debugDraw.DrawSegment(b,f,g);this.m_debugDraw.DrawSegment(a,b,g);break;case M.e_mouseJoint:this.m_debugDraw.DrawSegment(p,f,g);break;default:b!=this.m_groundBody&&this.m_debugDraw.DrawSegment(d,p,g),this.m_debugDraw.DrawSegment(p,f,g),c!=this.m_groundBody&&this.m_debugDraw.DrawSegment(e,f,g)}};v.prototype.DrawShape=function(a,b,d){switch(a.m_type){case y.e_circleShape:var e=a instanceof w?a:null;a=c.MulX(b,e.m_p);this.m_debugDraw.DrawSolidCircle(a,
e.m_radius,b.R.col1,d);break;case y.e_polygonShape:e=0;e=a instanceof x?a:null;a=parseInt(e.GetVertexCount());for(var p=e.GetVertices(),f=new Vector(a),e=0;e<a;++e)f[e]=c.MulX(b,p[e]);this.m_debugDraw.DrawSolidPolygon(f,a,d);break;case y.e_edgeShape:e=a instanceof s?a:null,this.m_debugDraw.DrawSegment(c.MulX(b,e.GetVertex1()),c.MulX(b,e.GetVertex2()),d)}};Box2D.postDefs.push(function(){Box2D.Dynamics.b2World.s_timestep2=new p;Box2D.Dynamics.b2World.s_xf=new b;Box2D.Dynamics.b2World.s_backupA=new a;
Box2D.Dynamics.b2World.s_backupB=new a;Box2D.Dynamics.b2World.s_timestep=new p;Box2D.Dynamics.b2World.s_queue=new Vector;Box2D.Dynamics.b2World.s_jointColor=new d(0.5,0.8,0.8);Box2D.Dynamics.b2World.e_newFixture=1;Box2D.Dynamics.b2World.e_locked=2})})();
(function(){var c=Box2D.Collision.Shapes.b2CircleShape,a=Box2D.Collision.Shapes.b2EdgeShape,b=Box2D.Collision.Shapes.b2PolygonShape,h=Box2D.Collision.Shapes.b2Shape,d=Box2D.Dynamics.Contacts.b2CircleContact,e=Box2D.Dynamics.Contacts.b2Contact,f=Box2D.Dynamics.Contacts.b2ContactConstraint,g=Box2D.Dynamics.Contacts.b2ContactConstraintPoint,k=Box2D.Dynamics.Contacts.b2ContactEdge,m=Box2D.Dynamics.Contacts.b2ContactFactory,n=Box2D.Dynamics.Contacts.b2ContactRegister,w=Box2D.Dynamics.Contacts.b2ContactResult,
s=Box2D.Dynamics.Contacts.b2ContactSolver,t=Box2D.Dynamics.Contacts.b2EdgeAndCircleContact,x=Box2D.Dynamics.Contacts.b2NullContact,y=Box2D.Dynamics.Contacts.b2PolyAndCircleContact,q=Box2D.Dynamics.Contacts.b2PolyAndEdgeContact,A=Box2D.Dynamics.Contacts.b2PolygonContact,z=Box2D.Dynamics.Contacts.b2PositionSolverManifold,H=Box2D.Dynamics.b2Body,E=Box2D.Dynamics.b2TimeStep,G=Box2D.Common.b2Settings,C=Box2D.Common.Math.b2Mat22,K=Box2D.Common.Math.b2Math,F=Box2D.Common.Math.b2Vec2,I=Box2D.Collision.b2Collision,
N=Box2D.Collision.b2ContactID,L=Box2D.Collision.b2Manifold,p=Box2D.Collision.b2TimeOfImpact,v=Box2D.Collision.b2TOIInput,D=Box2D.Collision.b2WorldManifold;Box2D.inherit(d,Box2D.Dynamics.Contacts.b2Contact);d.prototype.__super=Box2D.Dynamics.Contacts.b2Contact.prototype;d.b2CircleContact=function(){Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};d.Create=function(a){return new d};d.Destroy=function(a,b){};d.prototype.Reset=function(a,b){this.__super.Reset.call(this,a,b)};d.prototype.Evaluate=
function(){var a=this.m_fixtureA.GetBody(),b=this.m_fixtureB.GetBody();I.CollideCircles(this.m_manifold,this.m_fixtureA.GetShape()instanceof c?this.m_fixtureA.GetShape():null,a.m_xf,this.m_fixtureB.GetShape()instanceof c?this.m_fixtureB.GetShape():null,b.m_xf)};e.b2Contact=function(){this.m_nodeA=new k;this.m_nodeB=new k;this.m_manifold=new L;this.m_oldManifold=new L};e.prototype.GetManifold=function(){return this.m_manifold};e.prototype.GetWorldManifold=function(a){var b=this.m_fixtureA.GetBody(),
c=this.m_fixtureB.GetBody(),d=this.m_fixtureA.GetShape(),e=this.m_fixtureB.GetShape();a.Initialize(this.m_manifold,b.GetTransform(),d.m_radius,c.GetTransform(),e.m_radius)};e.prototype.IsTouching=function(){return(this.m_flags&e.e_touchingFlag)==e.e_touchingFlag};e.prototype.IsContinuous=function(){return(this.m_flags&e.e_continuousFlag)==e.e_continuousFlag};e.prototype.SetSensor=function(a){this.m_flags=a?this.m_flags|e.e_sensorFlag:this.m_flags&~e.e_sensorFlag};e.prototype.IsSensor=function(){return(this.m_flags&
e.e_sensorFlag)==e.e_sensorFlag};e.prototype.SetEnabled=function(a){this.m_flags=a?this.m_flags|e.e_enabledFlag:this.m_flags&~e.e_enabledFlag};e.prototype.IsEnabled=function(){return(this.m_flags&e.e_enabledFlag)==e.e_enabledFlag};e.prototype.GetNext=function(){return this.m_next};e.prototype.GetFixtureA=function(){return this.m_fixtureA};e.prototype.GetFixtureB=function(){return this.m_fixtureB};e.prototype.FlagForFiltering=function(){this.m_flags|=e.e_filterFlag};e.prototype.b2Contact=function(){};
e.prototype.Reset=function(a,b){void 0===a&&(a=null);void 0===b&&(b=null);this.m_flags=e.e_enabledFlag;if(a&&b){if(a.IsSensor()||b.IsSensor())this.m_flags|=e.e_sensorFlag;var c=a.GetBody(),d=b.GetBody();if(c.GetType()!=H.b2_dynamicBody||c.IsBullet()||d.GetType()!=H.b2_dynamicBody||d.IsBullet())this.m_flags|=e.e_continuousFlag;this.m_fixtureA=a;this.m_fixtureB=b;this.m_manifold.m_pointCount=0;this.m_next=this.m_prev=null;this.m_nodeA.contact=null;this.m_nodeA.prev=null;this.m_nodeA.next=null;this.m_nodeA.other=
null;this.m_nodeB.contact=null;this.m_nodeB.prev=null;this.m_nodeB.next=null;this.m_nodeB.other=null}else this.m_fixtureB=this.m_fixtureA=null};e.prototype.Update=function(a){var b=this.m_oldManifold;this.m_oldManifold=this.m_manifold;this.m_manifold=b;this.m_flags|=e.e_enabledFlag;var c=!1,b=(this.m_flags&e.e_touchingFlag)==e.e_touchingFlag,d=this.m_fixtureA.m_body,p=this.m_fixtureB.m_body,f=this.m_fixtureA.m_aabb.TestOverlap(this.m_fixtureB.m_aabb);if(this.m_flags&e.e_sensorFlag)f&&(c=this.m_fixtureA.GetShape(),
f=this.m_fixtureB.GetShape(),d=d.GetTransform(),p=p.GetTransform(),c=h.TestOverlap(c,d,f,p)),this.m_manifold.m_pointCount=0;else{d.GetType()!=H.b2_dynamicBody||d.IsBullet()||p.GetType()!=H.b2_dynamicBody||p.IsBullet()?this.m_flags|=e.e_continuousFlag:this.m_flags&=~e.e_continuousFlag;if(f)for(this.Evaluate(),c=0<this.m_manifold.m_pointCount,f=0;f<this.m_manifold.m_pointCount;++f){var g=this.m_manifold.m_points[f];g.m_normalImpulse=0;g.m_tangentImpulse=0;for(var v=g.m_id,D=0;D<this.m_oldManifold.m_pointCount;++D){var k=
this.m_oldManifold.m_points[D];if(k.m_id.key==v.key){g.m_normalImpulse=k.m_normalImpulse;g.m_tangentImpulse=k.m_tangentImpulse;break}}}else this.m_manifold.m_pointCount=0;c!=b&&(d.SetAwake(!0),p.SetAwake(!0))}this.m_flags=c?this.m_flags|e.e_touchingFlag:this.m_flags&~e.e_touchingFlag;!1==b&&!0==c&&a.BeginContact(this);!0==b&&!1==c&&a.EndContact(this);0==(this.m_flags&e.e_sensorFlag)&&a.PreSolve(this,this.m_oldManifold)};e.prototype.Evaluate=function(){};e.prototype.ComputeTOI=function(a,b){e.s_input.proxyA.Set(this.m_fixtureA.GetShape());
e.s_input.proxyB.Set(this.m_fixtureB.GetShape());e.s_input.sweepA=a;e.s_input.sweepB=b;e.s_input.tolerance=G.b2_linearSlop;return p.TimeOfImpact(e.s_input)};Box2D.postDefs.push(function(){Box2D.Dynamics.Contacts.b2Contact.e_sensorFlag=1;Box2D.Dynamics.Contacts.b2Contact.e_continuousFlag=2;Box2D.Dynamics.Contacts.b2Contact.e_islandFlag=4;Box2D.Dynamics.Contacts.b2Contact.e_toiFlag=8;Box2D.Dynamics.Contacts.b2Contact.e_touchingFlag=16;Box2D.Dynamics.Contacts.b2Contact.e_enabledFlag=32;Box2D.Dynamics.Contacts.b2Contact.e_filterFlag=
64;Box2D.Dynamics.Contacts.b2Contact.s_input=new v});f.b2ContactConstraint=function(){this.localPlaneNormal=new F;this.localPoint=new F;this.normal=new F;this.normalMass=new C;this.K=new C};f.prototype.b2ContactConstraint=function(){this.points=new Vector(G.b2_maxManifoldPoints);for(var a=0;a<G.b2_maxManifoldPoints;a++)this.points[a]=new g};g.b2ContactConstraintPoint=function(){this.localPoint=new F;this.rA=new F;this.rB=new F};k.b2ContactEdge=function(){};m.b2ContactFactory=function(){};m.prototype.b2ContactFactory=
function(a){this.m_allocator=a;this.InitializeRegisters()};m.prototype.AddType=function(a,b,c,d){void 0===c&&(c=0);void 0===d&&(d=0);this.m_registers[c][d].createFcn=a;this.m_registers[c][d].destroyFcn=b;this.m_registers[c][d].primary=!0;c!=d&&(this.m_registers[d][c].createFcn=a,this.m_registers[d][c].destroyFcn=b,this.m_registers[d][c].primary=!1)};m.prototype.InitializeRegisters=function(){this.m_registers=new Vector(h.e_shapeTypeCount);for(var a=0;a<h.e_shapeTypeCount;a++){this.m_registers[a]=
new Vector(h.e_shapeTypeCount);for(var b=0;b<h.e_shapeTypeCount;b++)this.m_registers[a][b]=new n}this.AddType(d.Create,d.Destroy,h.e_circleShape,h.e_circleShape);this.AddType(y.Create,y.Destroy,h.e_polygonShape,h.e_circleShape);this.AddType(A.Create,A.Destroy,h.e_polygonShape,h.e_polygonShape);this.AddType(t.Create,t.Destroy,h.e_edgeShape,h.e_circleShape);this.AddType(q.Create,q.Destroy,h.e_polygonShape,h.e_edgeShape)};m.prototype.Create=function(a,b){var c=parseInt(a.GetType()),d=parseInt(b.GetType()),
c=this.m_registers[c][d];if(c.pool)return d=c.pool,c.pool=d.m_next,c.poolCount--,d.Reset(a,b),d;d=c.createFcn;return null!=d?(c.primary?(d=d(this.m_allocator),d.Reset(a,b)):(d=d(this.m_allocator),d.Reset(b,a)),d):null};m.prototype.Destroy=function(a){0<a.m_manifold.m_pointCount&&(a.m_fixtureA.m_body.SetAwake(!0),a.m_fixtureB.m_body.SetAwake(!0));var b=parseInt(a.m_fixtureA.GetType()),c=parseInt(a.m_fixtureB.GetType()),b=this.m_registers[b][c];b.poolCount++;a.m_next=b.pool;b.pool=a;b=b.destroyFcn;
b(a,this.m_allocator)};n.b2ContactRegister=function(){};w.b2ContactResult=function(){this.position=new F;this.normal=new F;this.id=new N};s.b2ContactSolver=function(){this.m_step=new E;this.m_constraints=new Vector};s.prototype.b2ContactSolver=function(){};s.prototype.Initialize=function(a,b,c,d){void 0===c&&(c=0);var e;this.m_step.Set(a);this.m_allocator=d;a=0;for(this.m_constraintCount=c;this.m_constraints.length<this.m_constraintCount;)this.m_constraints[this.m_constraints.length]=new f;for(a=
0;a<c;++a){e=b[a];d=e.m_fixtureA;var p=e.m_fixtureB,g=d.m_shape.m_radius,h=p.m_shape.m_radius,v=d.m_body,D=p.m_body,k=e.GetManifold(),q=G.b2MixFriction(d.GetFriction(),p.GetFriction()),m=G.b2MixRestitution(d.GetRestitution(),p.GetRestitution()),n=v.m_linearVelocity.x,w=v.m_linearVelocity.y,t=D.m_linearVelocity.x,x=D.m_linearVelocity.y,y=v.m_angularVelocity,z=D.m_angularVelocity;G.b2Assert(0<k.m_pointCount);s.s_worldManifold.Initialize(k,v.m_xf,g,D.m_xf,h);p=s.s_worldManifold.m_normal.x;e=s.s_worldManifold.m_normal.y;
d=this.m_constraints[a];d.bodyA=v;d.bodyB=D;d.manifold=k;d.normal.x=p;d.normal.y=e;d.pointCount=k.m_pointCount;d.friction=q;d.restitution=m;d.localPlaneNormal.x=k.m_localPlaneNormal.x;d.localPlaneNormal.y=k.m_localPlaneNormal.y;d.localPoint.x=k.m_localPoint.x;d.localPoint.y=k.m_localPoint.y;d.radius=g+h;d.type=k.m_type;for(g=0;g<d.pointCount;++g){q=k.m_points[g];h=d.points[g];h.normalImpulse=q.m_normalImpulse;h.tangentImpulse=q.m_tangentImpulse;h.localPoint.SetV(q.m_localPoint);var q=h.rA.x=s.s_worldManifold.m_points[g].x-
v.m_sweep.c.x,m=h.rA.y=s.s_worldManifold.m_points[g].y-v.m_sweep.c.y,A=h.rB.x=s.s_worldManifold.m_points[g].x-D.m_sweep.c.x,C=h.rB.y=s.s_worldManifold.m_points[g].y-D.m_sweep.c.y,E=q*e-m*p,F=A*e-C*p,E=E*E,F=F*F;h.normalMass=1/(v.m_invMass+D.m_invMass+v.m_invI*E+D.m_invI*F);var H=v.m_mass*v.m_invMass+D.m_mass*D.m_invMass,H=H+(v.m_mass*v.m_invI*E+D.m_mass*D.m_invI*F);h.equalizedMass=1/H;F=e;H=-p;E=q*H-m*F;F=A*H-C*F;E*=E;F*=F;h.tangentMass=1/(v.m_invMass+D.m_invMass+v.m_invI*E+D.m_invI*F);h.velocityBias=
0;q=d.normal.x*(t+-z*C-n- -y*m)+d.normal.y*(x+z*A-w-y*q);q<-G.b2y268Threshold&&(h.velocityBias+=-d.restitution*q)}2==d.pointCount&&(x=d.points[0],t=d.points[1],k=v.m_invMass,v=v.m_invI,n=D.m_invMass,D=D.m_invI,w=x.rA.x*e-x.rA.y*p,x=x.rB.x*e-x.rB.y*p,y=t.rA.x*e-t.rA.y*p,t=t.rB.x*e-t.rB.y*p,p=k+n+v*w*w+D*x*x,e=k+n+v*y*y+D*t*t,D=k+n+v*w*y+D*x*t,p*p<100*(p*e-D*D)?(d.K.col1.Set(p,D),d.K.col2.Set(D,e),d.K.GetInverse(d.normalMass)):d.pointCount=1)}};s.prototype.InitVelocityConstraints=function(a){for(var b=
0;b<this.m_constraintCount;++b){var c=this.m_constraints[b],d=c.bodyA,e=c.bodyB,p=d.m_invMass,f=d.m_invI,g=e.m_invMass,h=e.m_invI,v=c.normal.x,D=c.normal.y,k=D,q=-v,m=0,n=0;if(a.warmStarting)for(n=c.pointCount,m=0;m<n;++m){var s=c.points[m];s.normalImpulse*=a.dtRatio;s.tangentImpulse*=a.dtRatio;var t=s.normalImpulse*v+s.tangentImpulse*k,w=s.normalImpulse*D+s.tangentImpulse*q;d.m_angularVelocity-=f*(s.rA.x*w-s.rA.y*t);d.m_linearVelocity.x-=p*t;d.m_linearVelocity.y-=p*w;e.m_angularVelocity+=h*(s.rB.x*
w-s.rB.y*t);e.m_linearVelocity.x+=g*t;e.m_linearVelocity.y+=g*w}else for(n=c.pointCount,m=0;m<n;++m)d=c.points[m],d.normalImpulse=0,d.tangentImpulse=0}};s.prototype.SolveVelocityConstraints=function(){for(var a=0,b,c=0,d=0,e=0,p=d=d=c=c=0,f=c=c=0,g=c=e=0,h=0,v,D=0;D<this.m_constraintCount;++D){var e=this.m_constraints[D],k=e.bodyA,q=e.bodyB,m=k.m_angularVelocity,n=q.m_angularVelocity,s=k.m_linearVelocity,t=q.m_linearVelocity,w=k.m_invMass,x=k.m_invI,y=q.m_invMass,z=q.m_invI,g=e.normal.x,A=h=e.normal.y;
v=-g;f=e.friction;for(a=0;a<e.pointCount;a++)b=e.points[a],c=t.x-n*b.rB.y-s.x+m*b.rA.y,d=t.y+n*b.rB.x-s.y-m*b.rA.x,c=c*A+d*v,c=b.tangentMass*-c,d=f*b.normalImpulse,d=K.Clamp(b.tangentImpulse+c,-d,d),c=d-b.tangentImpulse,p=c*A,c*=v,s.x-=w*p,s.y-=w*c,m-=x*(b.rA.x*c-b.rA.y*p),t.x+=y*p,t.y+=y*c,n+=z*(b.rB.x*c-b.rB.y*p),b.tangentImpulse=d;parseInt(e.pointCount);if(1==e.pointCount)b=e.points[0],c=t.x+-n*b.rB.y-s.x- -m*b.rA.y,d=t.y+n*b.rB.x-s.y-m*b.rA.x,e=c*g+d*h,c=-b.normalMass*(e-b.velocityBias),d=b.normalImpulse+
c,d=0<d?d:0,c=d-b.normalImpulse,p=c*g,c*=h,s.x-=w*p,s.y-=w*c,m-=x*(b.rA.x*c-b.rA.y*p),t.x+=y*p,t.y+=y*c,n+=z*(b.rB.x*c-b.rB.y*p),b.normalImpulse=d;else{b=e.points[0];var a=e.points[1],c=b.normalImpulse,f=a.normalImpulse,C=(t.x-n*b.rB.y-s.x+m*b.rA.y)*g+(t.y+n*b.rB.x-s.y-m*b.rA.x)*h,E=(t.x-n*a.rB.y-s.x+m*a.rA.y)*g+(t.y+n*a.rB.x-s.y-m*a.rA.x)*h,d=C-b.velocityBias,p=E-a.velocityBias;v=e.K;d-=v.col1.x*c+v.col2.x*f;for(p-=v.col1.y*c+v.col2.y*f;;){v=e.normalMass;A=-(v.col1.x*d+v.col2.x*p);v=-(v.col1.y*d+
v.col2.y*p);if(0<=A&&0<=v){c=A-c;f=v-f;e=c*g;c*=h;g*=f;h*=f;s.x-=w*(e+g);s.y-=w*(c+h);m-=x*(b.rA.x*c-b.rA.y*e+a.rA.x*h-a.rA.y*g);t.x+=y*(e+g);t.y+=y*(c+h);n+=z*(b.rB.x*c-b.rB.y*e+a.rB.x*h-a.rB.y*g);b.normalImpulse=A;a.normalImpulse=v;break}A=-b.normalMass*d;v=0;E=e.K.col1.y*A+p;if(0<=A&&0<=E){c=A-c;f=v-f;e=c*g;c*=h;g*=f;h*=f;s.x-=w*(e+g);s.y-=w*(c+h);m-=x*(b.rA.x*c-b.rA.y*e+a.rA.x*h-a.rA.y*g);t.x+=y*(e+g);t.y+=y*(c+h);n+=z*(b.rB.x*c-b.rB.y*e+a.rB.x*h-a.rB.y*g);b.normalImpulse=A;a.normalImpulse=v;
break}A=0;v=-a.normalMass*p;C=e.K.col2.x*v+d;if(0<=v&&0<=C){c=A-c;f=v-f;e=c*g;c*=h;g*=f;h*=f;s.x-=w*(e+g);s.y-=w*(c+h);m-=x*(b.rA.x*c-b.rA.y*e+a.rA.x*h-a.rA.y*g);t.x+=y*(e+g);t.y+=y*(c+h);n+=z*(b.rB.x*c-b.rB.y*e+a.rB.x*h-a.rB.y*g);b.normalImpulse=A;a.normalImpulse=v;break}v=A=0;C=d;E=p;if(0<=C&&0<=E){c=A-c;f=v-f;e=c*g;c*=h;g*=f;h*=f;s.x-=w*(e+g);s.y-=w*(c+h);m-=x*(b.rA.x*c-b.rA.y*e+a.rA.x*h-a.rA.y*g);t.x+=y*(e+g);t.y+=y*(c+h);n+=z*(b.rB.x*c-b.rB.y*e+a.rB.x*h-a.rB.y*g);b.normalImpulse=A;a.normalImpulse=
v;break}break}}k.m_angularVelocity=m;q.m_angularVelocity=n}};s.prototype.FinalizeVelocityConstraints=function(){for(var a=0;a<this.m_constraintCount;++a)for(var b=this.m_constraints[a],c=b.manifold,d=0;d<b.pointCount;++d){var e=c.m_points[d],p=b.points[d];e.m_normalImpulse=p.normalImpulse;e.m_tangentImpulse=p.tangentImpulse}};s.prototype.SolvePositionConstraints=function(a){void 0===a&&(a=0);for(var b=0,c=0;c<this.m_constraintCount;c++){var d=this.m_constraints[c],e=d.bodyA,p=d.bodyB,f=e.m_mass*e.m_invMass,
g=e.m_mass*e.m_invI,h=p.m_mass*p.m_invMass,v=p.m_mass*p.m_invI;s.s_psm.Initialize(d);for(var D=s.s_psm.m_normal,k=0;k<d.pointCount;k++){var q=d.points[k],m=s.s_psm.m_points[k],n=s.s_psm.m_separations[k],t=m.x-e.m_sweep.c.x,w=m.y-e.m_sweep.c.y,x=m.x-p.m_sweep.c.x,m=m.y-p.m_sweep.c.y,b=b<n?b:n,n=K.Clamp(a*(n+G.b2_linearSlop),-G.b2_maxLinearCorrection,0),n=-q.equalizedMass*n,q=n*D.x,n=n*D.y;e.m_sweep.c.x-=f*q;e.m_sweep.c.y-=f*n;e.m_sweep.a-=g*(t*n-w*q);e.SynchronizeTransform();p.m_sweep.c.x+=h*q;p.m_sweep.c.y+=
h*n;p.m_sweep.a+=v*(x*n-m*q);p.SynchronizeTransform()}}return b>-1.5*G.b2_linearSlop};Box2D.postDefs.push(function(){Box2D.Dynamics.Contacts.b2ContactSolver.s_worldManifold=new D;Box2D.Dynamics.Contacts.b2ContactSolver.s_psm=new z});Box2D.inherit(t,Box2D.Dynamics.Contacts.b2Contact);t.prototype.__super=Box2D.Dynamics.Contacts.b2Contact.prototype;t.b2EdgeAndCircleContact=function(){Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};t.Create=function(a){return new t};t.Destroy=function(a,
b){};t.prototype.Reset=function(a,b){this.__super.Reset.call(this,a,b)};t.prototype.Evaluate=function(){var b=this.m_fixtureA.GetBody(),d=this.m_fixtureB.GetBody();this.b2CollideEdgeAndCircle(this.m_manifold,this.m_fixtureA.GetShape()instanceof a?this.m_fixtureA.GetShape():null,b.m_xf,this.m_fixtureB.GetShape()instanceof c?this.m_fixtureB.GetShape():null,d.m_xf)};t.prototype.b2CollideEdgeAndCircle=function(a,b,c,d,e){};Box2D.inherit(x,Box2D.Dynamics.Contacts.b2Contact);x.prototype.__super=Box2D.Dynamics.Contacts.b2Contact.prototype;
x.b2NullContact=function(){Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};x.prototype.b2NullContact=function(){this.__super.b2Contact.call(this)};x.prototype.Evaluate=function(){};Box2D.inherit(y,Box2D.Dynamics.Contacts.b2Contact);y.prototype.__super=Box2D.Dynamics.Contacts.b2Contact.prototype;y.b2PolyAndCircleContact=function(){Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};y.Create=function(a){return new y};y.Destroy=function(a,b){};y.prototype.Reset=function(a,
b){this.__super.Reset.call(this,a,b);G.b2Assert(a.GetType()==h.e_polygonShape);G.b2Assert(b.GetType()==h.e_circleShape)};y.prototype.Evaluate=function(){var a=this.m_fixtureA.m_body,d=this.m_fixtureB.m_body;I.CollidePolygonAndCircle(this.m_manifold,this.m_fixtureA.GetShape()instanceof b?this.m_fixtureA.GetShape():null,a.m_xf,this.m_fixtureB.GetShape()instanceof c?this.m_fixtureB.GetShape():null,d.m_xf)};Box2D.inherit(q,Box2D.Dynamics.Contacts.b2Contact);q.prototype.__super=Box2D.Dynamics.Contacts.b2Contact.prototype;
q.b2PolyAndEdgeContact=function(){Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};q.Create=function(a){return new q};q.Destroy=function(a,b){};q.prototype.Reset=function(a,b){this.__super.Reset.call(this,a,b);G.b2Assert(a.GetType()==h.e_polygonShape);G.b2Assert(b.GetType()==h.e_edgeShape)};q.prototype.Evaluate=function(){var c=this.m_fixtureA.GetBody(),d=this.m_fixtureB.GetBody();this.b2CollidePolyAndEdge(this.m_manifold,this.m_fixtureA.GetShape()instanceof b?this.m_fixtureA.GetShape():
null,c.m_xf,this.m_fixtureB.GetShape()instanceof a?this.m_fixtureB.GetShape():null,d.m_xf)};q.prototype.b2CollidePolyAndEdge=function(a,b,c,d,e){};Box2D.inherit(A,Box2D.Dynamics.Contacts.b2Contact);A.prototype.__super=Box2D.Dynamics.Contacts.b2Contact.prototype;A.b2PolygonContact=function(){Box2D.Dynamics.Contacts.b2Contact.b2Contact.apply(this,arguments)};A.Create=function(a){return new A};A.Destroy=function(a,b){};A.prototype.Reset=function(a,b){this.__super.Reset.call(this,a,b)};A.prototype.Evaluate=
function(){var a=this.m_fixtureA.GetBody(),c=this.m_fixtureB.GetBody();I.CollidePolygons(this.m_manifold,this.m_fixtureA.GetShape()instanceof b?this.m_fixtureA.GetShape():null,a.m_xf,this.m_fixtureB.GetShape()instanceof b?this.m_fixtureB.GetShape():null,c.m_xf)};z.b2PositionSolverManifold=function(){};z.prototype.b2PositionSolverManifold=function(){this.m_normal=new F;this.m_separations=new Vector_a2j_Number(G.b2_maxManifoldPoints);this.m_points=new Vector(G.b2_maxManifoldPoints);for(var a=0;a<G.b2_maxManifoldPoints;a++)this.m_points[a]=
new F};z.prototype.Initialize=function(a){G.b2Assert(0<a.pointCount);var b=0,c=0,d=0,e,p=0,f=0;switch(a.type){case L.e_circles:e=a.bodyA.m_xf.R;d=a.localPoint;b=a.bodyA.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y);c=a.bodyA.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y);e=a.bodyB.m_xf.R;d=a.points[0].localPoint;p=a.bodyB.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y);e=a.bodyB.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y);var d=p-b,f=e-c,g=d*d+f*f;g>Number.MIN_VALUE*Number.MIN_VALUE?(g=Math.sqrt(g),this.m_normal.x=
d/g,this.m_normal.y=f/g):(this.m_normal.x=1,this.m_normal.y=0);this.m_points[0].x=0.5*(b+p);this.m_points[0].y=0.5*(c+e);this.m_separations[0]=d*this.m_normal.x+f*this.m_normal.y-a.radius;break;case L.e_faceA:e=a.bodyA.m_xf.R;d=a.localPlaneNormal;this.m_normal.x=e.col1.x*d.x+e.col2.x*d.y;this.m_normal.y=e.col1.y*d.x+e.col2.y*d.y;e=a.bodyA.m_xf.R;d=a.localPoint;p=a.bodyA.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y);f=a.bodyA.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y);e=a.bodyB.m_xf.R;for(b=0;b<a.pointCount;++b)d=
a.points[b].localPoint,c=a.bodyB.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y),d=a.bodyB.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y),this.m_separations[b]=(c-p)*this.m_normal.x+(d-f)*this.m_normal.y-a.radius,this.m_points[b].x=c,this.m_points[b].y=d;break;case L.e_faceB:e=a.bodyB.m_xf.R;d=a.localPlaneNormal;this.m_normal.x=e.col1.x*d.x+e.col2.x*d.y;this.m_normal.y=e.col1.y*d.x+e.col2.y*d.y;e=a.bodyB.m_xf.R;d=a.localPoint;p=a.bodyB.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y);f=a.bodyB.m_xf.position.y+
(e.col1.y*d.x+e.col2.y*d.y);e=a.bodyA.m_xf.R;for(b=0;b<a.pointCount;++b)d=a.points[b].localPoint,c=a.bodyA.m_xf.position.x+(e.col1.x*d.x+e.col2.x*d.y),d=a.bodyA.m_xf.position.y+(e.col1.y*d.x+e.col2.y*d.y),this.m_separations[b]=(c-p)*this.m_normal.x+(d-f)*this.m_normal.y-a.radius,this.m_points[b].Set(c,d);this.m_normal.x*=-1;this.m_normal.y*=-1}};Box2D.postDefs.push(function(){Box2D.Dynamics.Contacts.b2PositionSolverManifold.circlePointA=new F;Box2D.Dynamics.Contacts.b2PositionSolverManifold.circlePointB=
new F})})();
(function(){var c=Box2D.Common.Math.b2Mat22,a=Box2D.Common.Math.b2Math,b=Box2D.Common.Math.b2Vec2,h=Box2D.Common.b2Color,d=Box2D.Dynamics.Controllers.b2BuoyancyController,e=Box2D.Dynamics.Controllers.b2ConstantAccelController,f=Box2D.Dynamics.Controllers.b2ConstantForceController,g=Box2D.Dynamics.Controllers.b2Controller,k=Box2D.Dynamics.Controllers.b2ControllerEdge,m=Box2D.Dynamics.Controllers.b2GravityController,n=Box2D.Dynamics.Controllers.b2TensorDampingController;Box2D.inherit(d,Box2D.Dynamics.Controllers.b2Controller);
d.prototype.__super=Box2D.Dynamics.Controllers.b2Controller.prototype;d.b2BuoyancyController=function(){Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments);this.normal=new b(0,-1);this.density=this.offset=0;this.velocity=new b(0,0);this.linearDrag=2;this.angularDrag=1;this.useDensity=!1;this.useWorldGravity=!0;this.y12=null};d.prototype.Step=function(a){if(this.m_bodyList)for(this.useWorldGravity&&(this.y12=this.GetWorld().GetGravity().Copy()),a=this.m_bodyList;a;a=a.nextBody){var c=
a.body;if(!1!=c.IsAwake()){for(var d=new b,e=new b,f=0,g=0,h=c.GetFixtureList();h;h=h.GetNext()){var k=new b,m=h.GetShape().ComputeSubmergedArea(this.normal,this.offset,c.GetTransform(),k),f=f+m;d.x+=m*k.x;d.y+=m*k.y;var n=0,n=1,g=g+m*n;e.x+=m*k.x*n;e.y+=m*k.y*n}d.x/=f;d.y/=f;e.x/=g;e.y/=g;f<Number.MIN_VALUE||(g=this.y12.GetNegative(),g.Multiply(this.density*f),c.ApplyForce(g,e),e=c.GetLinearVelocityFromWorldPoint(d),e.Subtract(this.velocity),e.Multiply(-this.linearDrag*f),c.ApplyForce(e,d),c.ApplyTorque(-c.GetInertia()/
c.GetMass()*f*c.GetAngularVelocity()*this.angularDrag))}}};d.prototype.Draw=function(a){var c=new b,d=new b;c.x=this.normal.x*this.offset+1E3*this.normal.y;c.y=this.normal.y*this.offset-1E3*this.normal.x;d.x=this.normal.x*this.offset-1E3*this.normal.y;d.y=this.normal.y*this.offset+1E3*this.normal.x;var e=new h(0,0,1);a.DrawSegment(c,d,e)};Box2D.inherit(e,Box2D.Dynamics.Controllers.b2Controller);e.prototype.__super=Box2D.Dynamics.Controllers.b2Controller.prototype;e.b2ConstantAccelController=function(){Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this,
arguments);this.A=new b(0,0)};e.prototype.Step=function(a){a=new b(this.A.x*a.dt,this.A.y*a.dt);for(var c=this.m_bodyList;c;c=c.nextBody){var d=c.body;d.IsAwake()&&d.SetLinearVelocity(new b(d.GetLinearVelocity().x+a.x,d.GetLinearVelocity().y+a.y))}};Box2D.inherit(f,Box2D.Dynamics.Controllers.b2Controller);f.prototype.__super=Box2D.Dynamics.Controllers.b2Controller.prototype;f.b2ConstantForceController=function(){Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this,arguments);this.F=new b(0,
0)};f.prototype.Step=function(a){for(a=this.m_bodyList;a;a=a.nextBody){var b=a.body;b.IsAwake()&&b.ApplyForce(this.F,b.GetWorldCenter())}};g.b2Controller=function(){};g.prototype.Step=function(a){};g.prototype.Draw=function(a){};g.prototype.AddBody=function(a){var b=new k;b.controller=this;b.body=a;b.nextBody=this.m_bodyList;b.prevBody=null;this.m_bodyList=b;b.nextBody&&(b.nextBody.prevBody=b);this.m_bodyCount++;b.nextController=a.m_controllerList;b.prevController=null;a.m_controllerList=b;b.nextController&&
(b.nextController.prevController=b);a.m_controllerCount++};g.prototype.RemoveBody=function(a){for(var b=a.m_controllerList;b&&b.controller!=this;)b=b.nextController;b.prevBody&&(b.prevBody.nextBody=b.nextBody);b.nextBody&&(b.nextBody.prevBody=b.prevBody);b.nextController&&(b.nextController.prevController=b.prevController);b.prevController&&(b.prevController.nextController=b.nextController);this.m_bodyList==b&&(this.m_bodyList=b.nextBody);a.m_controllerList==b&&(a.m_controllerList=b.nextController);
a.m_controllerCount--;this.m_bodyCount--};g.prototype.Clear=function(){for(;this.m_bodyList;)this.RemoveBody(this.m_bodyList.body)};g.prototype.GetNext=function(){return this.m_next};g.prototype.GetWorld=function(){return this.m_world};g.prototype.GetBodyList=function(){return this.m_bodyList};k.b2ControllerEdge=function(){};Box2D.inherit(m,Box2D.Dynamics.Controllers.b2Controller);m.prototype.__super=Box2D.Dynamics.Controllers.b2Controller.prototype;m.b2GravityController=function(){Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this,
arguments);this.G=1;this.invSqr=!0};m.prototype.Step=function(a){var c=a=null,d=null,e=0,f=null,g=null,h=null,k=0,m=0,n=0,k=null;if(this.invSqr)for(a=this.m_bodyList;a;a=a.nextBody)for(c=a.body,d=c.GetWorldCenter(),e=c.GetMass(),f=this.m_bodyList;f!=a;f=f.nextBody)g=f.body,h=g.GetWorldCenter(),k=h.x-d.x,m=h.y-d.y,n=k*k+m*m,n<Number.MIN_VALUE||(k=new b(k,m),k.Multiply(this.G/n/Math.sqrt(n)*e*g.GetMass()),c.IsAwake()&&c.ApplyForce(k,d),k.Multiply(-1),g.IsAwake()&&g.ApplyForce(k,h));else for(a=this.m_bodyList;a;a=
a.nextBody)for(c=a.body,d=c.GetWorldCenter(),e=c.GetMass(),f=this.m_bodyList;f!=a;f=f.nextBody)g=f.body,h=g.GetWorldCenter(),k=h.x-d.x,m=h.y-d.y,n=k*k+m*m,n<Number.MIN_VALUE||(k=new b(k,m),k.Multiply(this.G/n*e*g.GetMass()),c.IsAwake()&&c.ApplyForce(k,d),k.Multiply(-1),g.IsAwake()&&g.ApplyForce(k,h))};Box2D.inherit(n,Box2D.Dynamics.Controllers.b2Controller);n.prototype.__super=Box2D.Dynamics.Controllers.b2Controller.prototype;n.b2TensorDampingController=function(){Box2D.Dynamics.Controllers.b2Controller.b2Controller.apply(this,
arguments);this.T=new c;this.maxTimestep=0};n.prototype.SetAxisAligned=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.T.col1.x=-a;this.T.col1.y=0;this.T.col2.x=0;this.T.col2.y=-b;this.maxTimestep=0<a||0<b?1/Math.max(a,b):0};n.prototype.Step=function(c){c=c.dt;if(!(c<=Number.MIN_VALUE)){c>this.maxTimestep&&0<this.maxTimestep&&(c=this.maxTimestep);for(var d=this.m_bodyList;d;d=d.nextBody){var e=d.body;if(e.IsAwake()){var f=e.GetWorldVector(a.MulMV(this.T,e.GetLocalVector(e.GetLinearVelocity())));
e.SetLinearVelocity(new b(e.GetLinearVelocity().x+f.x*c,e.GetLinearVelocity().y+f.y*c))}}}}})();
(function(){var c=Box2D.Common.b2Settings,a=Box2D.Common.Math.b2Mat22,b=Box2D.Common.Math.b2Mat33,h=Box2D.Common.Math.b2Math,d=Box2D.Common.Math.b2Vec2,e=Box2D.Common.Math.b2Vec3,f=Box2D.Dynamics.Joints.b2DistanceJoint,g=Box2D.Dynamics.Joints.b2DistanceJointDef,k=Box2D.Dynamics.Joints.b2FrictionJoint,m=Box2D.Dynamics.Joints.b2FrictionJointDef,n=Box2D.Dynamics.Joints.b2GearJoint,w=Box2D.Dynamics.Joints.b2GearJointDef,s=Box2D.Dynamics.Joints.b2Jacobian,t=Box2D.Dynamics.Joints.b2Joint,x=Box2D.Dynamics.Joints.b2JointDef,
y=Box2D.Dynamics.Joints.b2JointEdge,q=Box2D.Dynamics.Joints.b2LineJoint,A=Box2D.Dynamics.Joints.b2LineJointDef,z=Box2D.Dynamics.Joints.b2MouseJoint,H=Box2D.Dynamics.Joints.b2MouseJointDef,E=Box2D.Dynamics.Joints.b2PrismaticJoint,G=Box2D.Dynamics.Joints.b2PrismaticJointDef,C=Box2D.Dynamics.Joints.b2PulleyJoint,K=Box2D.Dynamics.Joints.b2PulleyJointDef,F=Box2D.Dynamics.Joints.b2RevoluteJoint,I=Box2D.Dynamics.Joints.b2RevoluteJointDef,N=Box2D.Dynamics.Joints.b2WeldJoint,L=Box2D.Dynamics.Joints.b2WeldJointDef;
Box2D.inherit(f,Box2D.Dynamics.Joints.b2Joint);f.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype;f.b2DistanceJoint=function(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_localAnchor1=new d;this.m_localAnchor2=new d;this.m_u=new d};f.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};f.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};f.prototype.GetReactionForce=function(a){void 0===a&&(a=0);
return new d(a*this.m_impulse*this.m_u.x,a*this.m_impulse*this.m_u.y)};f.prototype.GetReactionTorque=function(a){return 0};f.prototype.GetLength=function(){return this.m_length};f.prototype.SetLength=function(a){void 0===a&&(a=0);this.m_length=a};f.prototype.GetFrequency=function(){return this.m_frequencyHz};f.prototype.SetFrequency=function(a){void 0===a&&(a=0);this.m_frequencyHz=a};f.prototype.GetDampingRatio=function(){return this.m_dampingRatio};f.prototype.SetDampingRatio=function(a){void 0===
a&&(a=0);this.m_dampingRatio=a};f.prototype.b2DistanceJoint=function(a){this.__super.b2Joint.call(this,a);this.m_localAnchor1.SetV(a.localAnchorA);this.m_localAnchor2.SetV(a.localAnchorB);this.m_length=a.length;this.m_frequencyHz=a.frequencyHz;this.m_dampingRatio=a.dampingRatio;this.m_bias=this.m_gamma=this.m_impulse=0};f.prototype.InitVelocityConstraints=function(a){var b,d=0,e=this.m_bodyA,f=this.m_bodyB;b=e.m_xf.R;var g=this.m_localAnchor1.x-e.m_sweep.localCenter.x,h=this.m_localAnchor1.y-e.m_sweep.localCenter.y,
d=b.col1.x*g+b.col2.x*h,h=b.col1.y*g+b.col2.y*h,g=d;b=f.m_xf.R;var k=this.m_localAnchor2.x-f.m_sweep.localCenter.x,r=this.m_localAnchor2.y-f.m_sweep.localCenter.y,d=b.col1.x*k+b.col2.x*r,r=b.col1.y*k+b.col2.y*r,k=d;this.m_u.x=f.m_sweep.c.x+k-e.m_sweep.c.x-g;this.m_u.y=f.m_sweep.c.y+r-e.m_sweep.c.y-h;d=Math.sqrt(this.m_u.x*this.m_u.x+this.m_u.y*this.m_u.y);d>c.b2_linearSlop?this.m_u.Multiply(1/d):this.m_u.SetZero();b=g*this.m_u.y-h*this.m_u.x;var m=k*this.m_u.y-r*this.m_u.x;b=e.m_invMass+e.m_invI*
b*b+f.m_invMass+f.m_invI*m*m;this.m_mass=0!=b?1/b:0;if(0<this.m_frequencyHz){var d=d-this.m_length,m=2*Math.PI*this.m_frequencyHz,q=this.m_mass*m*m;this.m_gamma=a.dt*(2*this.m_mass*this.m_dampingRatio*m+a.dt*q);this.m_gamma=0!=this.m_gamma?1/this.m_gamma:0;this.m_bias=d*a.dt*q*this.m_gamma;this.m_mass=b+this.m_gamma;this.m_mass=0!=this.m_mass?1/this.m_mass:0}a.warmStarting?(this.m_impulse*=a.dtRatio,a=this.m_impulse*this.m_u.x,b=this.m_impulse*this.m_u.y,e.m_linearVelocity.x-=e.m_invMass*a,e.m_linearVelocity.y-=
e.m_invMass*b,e.m_angularVelocity-=e.m_invI*(g*b-h*a),f.m_linearVelocity.x+=f.m_invMass*a,f.m_linearVelocity.y+=f.m_invMass*b,f.m_angularVelocity+=f.m_invI*(k*b-r*a)):this.m_impulse=0};f.prototype.SolveVelocityConstraints=function(a){var b;a=this.m_bodyA;var c=this.m_bodyB;b=a.m_xf.R;var d=this.m_localAnchor1.x-a.m_sweep.localCenter.x,e=this.m_localAnchor1.y-a.m_sweep.localCenter.y,f=b.col1.x*d+b.col2.x*e,e=b.col1.y*d+b.col2.y*e,d=f;b=c.m_xf.R;var g=this.m_localAnchor2.x-c.m_sweep.localCenter.x,h=
this.m_localAnchor2.y-c.m_sweep.localCenter.y,f=b.col1.x*g+b.col2.x*h,h=b.col1.y*g+b.col2.y*h,g=f,f=-this.m_mass*(this.m_u.x*(c.m_linearVelocity.x+-c.m_angularVelocity*h-(a.m_linearVelocity.x+-a.m_angularVelocity*e))+this.m_u.y*(c.m_linearVelocity.y+c.m_angularVelocity*g-(a.m_linearVelocity.y+a.m_angularVelocity*d))+this.m_bias+this.m_gamma*this.m_impulse);this.m_impulse+=f;b=f*this.m_u.x;f*=this.m_u.y;a.m_linearVelocity.x-=a.m_invMass*b;a.m_linearVelocity.y-=a.m_invMass*f;a.m_angularVelocity-=a.m_invI*
(d*f-e*b);c.m_linearVelocity.x+=c.m_invMass*b;c.m_linearVelocity.y+=c.m_invMass*f;c.m_angularVelocity+=c.m_invI*(g*f-h*b)};f.prototype.SolvePositionConstraints=function(a){var b;if(0<this.m_frequencyHz)return!0;a=this.m_bodyA;var d=this.m_bodyB;b=a.m_xf.R;var e=this.m_localAnchor1.x-a.m_sweep.localCenter.x,f=this.m_localAnchor1.y-a.m_sweep.localCenter.y,g=b.col1.x*e+b.col2.x*f,f=b.col1.y*e+b.col2.y*f,e=g;b=d.m_xf.R;var k=this.m_localAnchor2.x-d.m_sweep.localCenter.x,u=this.m_localAnchor2.y-d.m_sweep.localCenter.y,
g=b.col1.x*k+b.col2.x*u,u=b.col1.y*k+b.col2.y*u,k=g,g=d.m_sweep.c.x+k-a.m_sweep.c.x-e,r=d.m_sweep.c.y+u-a.m_sweep.c.y-f;b=Math.sqrt(g*g+r*r);g/=b;r/=b;b-=this.m_length;b=h.Clamp(b,-c.b2_maxLinearCorrection,c.b2_maxLinearCorrection);var m=-this.m_mass*b;this.m_u.Set(g,r);g=m*this.m_u.x;r=m*this.m_u.y;a.m_sweep.c.x-=a.m_invMass*g;a.m_sweep.c.y-=a.m_invMass*r;a.m_sweep.a-=a.m_invI*(e*r-f*g);d.m_sweep.c.x+=d.m_invMass*g;d.m_sweep.c.y+=d.m_invMass*r;d.m_sweep.a+=d.m_invI*(k*r-u*g);a.SynchronizeTransform();
d.SynchronizeTransform();return h.Abs(b)<c.b2_linearSlop};Box2D.inherit(g,Box2D.Dynamics.Joints.b2JointDef);g.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype;g.b2DistanceJointDef=function(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.localAnchorA=new d;this.localAnchorB=new d};g.prototype.b2DistanceJointDef=function(){this.__super.b2JointDef.call(this);this.type=t.e_distanceJoint;this.length=1;this.dampingRatio=this.frequencyHz=0};g.prototype.Initialize=function(a,
b,c,d){this.bodyA=a;this.bodyB=b;this.localAnchorA.SetV(this.bodyA.GetLocalPoint(c));this.localAnchorB.SetV(this.bodyB.GetLocalPoint(d));a=d.x-c.x;c=d.y-c.y;this.length=Math.sqrt(a*a+c*c);this.dampingRatio=this.frequencyHz=0};Box2D.inherit(k,Box2D.Dynamics.Joints.b2Joint);k.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype;k.b2FrictionJoint=function(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_localAnchorA=new d;this.m_localAnchorB=new d;this.m_linearMass=new a;this.m_linearImpulse=
new d};k.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA)};k.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB)};k.prototype.GetReactionForce=function(a){void 0===a&&(a=0);return new d(a*this.m_linearImpulse.x,a*this.m_linearImpulse.y)};k.prototype.GetReactionTorque=function(a){void 0===a&&(a=0);return a*this.m_angularImpulse};k.prototype.SetMaxForce=function(a){void 0===a&&(a=0);this.m_maxForce=a};k.prototype.GetMaxForce=function(){return this.m_maxForce};
k.prototype.SetMaxTorque=function(a){void 0===a&&(a=0);this.m_maxTorque=a};k.prototype.GetMaxTorque=function(){return this.m_maxTorque};k.prototype.b2FrictionJoint=function(a){this.__super.b2Joint.call(this,a);this.m_localAnchorA.SetV(a.localAnchorA);this.m_localAnchorB.SetV(a.localAnchorB);this.m_linearMass.SetZero();this.m_angularMass=0;this.m_linearImpulse.SetZero();this.m_angularImpulse=0;this.m_maxForce=a.maxForce;this.m_maxTorque=a.maxTorque};k.prototype.InitVelocityConstraints=function(b){var c,
d=0,e=this.m_bodyA,f=this.m_bodyB;c=e.m_xf.R;var g=this.m_localAnchorA.x-e.m_sweep.localCenter.x,h=this.m_localAnchorA.y-e.m_sweep.localCenter.y,d=c.col1.x*g+c.col2.x*h,h=c.col1.y*g+c.col2.y*h,g=d;c=f.m_xf.R;var k=this.m_localAnchorB.x-f.m_sweep.localCenter.x,r=this.m_localAnchorB.y-f.m_sweep.localCenter.y,d=c.col1.x*k+c.col2.x*r,r=c.col1.y*k+c.col2.y*r,k=d;c=e.m_invMass;var d=f.m_invMass,m=e.m_invI,q=f.m_invI,n=new a;n.col1.x=c+d;n.col2.x=0;n.col1.y=0;n.col2.y=c+d;n.col1.x+=m*h*h;n.col2.x+=-m*g*
h;n.col1.y+=-m*g*h;n.col2.y+=m*g*g;n.col1.x+=q*r*r;n.col2.x+=-q*k*r;n.col1.y+=-q*k*r;n.col2.y+=q*k*k;n.GetInverse(this.m_linearMass);this.m_angularMass=m+q;0<this.m_angularMass&&(this.m_angularMass=1/this.m_angularMass);b.warmStarting?(this.m_linearImpulse.x*=b.dtRatio,this.m_linearImpulse.y*=b.dtRatio,this.m_angularImpulse*=b.dtRatio,b=this.m_linearImpulse,e.m_linearVelocity.x-=c*b.x,e.m_linearVelocity.y-=c*b.y,e.m_angularVelocity-=m*(g*b.y-h*b.x+this.m_angularImpulse),f.m_linearVelocity.x+=d*b.x,
f.m_linearVelocity.y+=d*b.y,f.m_angularVelocity+=q*(k*b.y-r*b.x+this.m_angularImpulse)):(this.m_linearImpulse.SetZero(),this.m_angularImpulse=0)};k.prototype.SolveVelocityConstraints=function(a){var b,c=0,e=this.m_bodyA,f=this.m_bodyB,g=e.m_linearVelocity,k=e.m_angularVelocity,u=f.m_linearVelocity,r=f.m_angularVelocity,m=e.m_invMass,n=f.m_invMass,q=e.m_invI,t=f.m_invI;b=e.m_xf.R;var s=this.m_localAnchorA.x-e.m_sweep.localCenter.x,w=this.m_localAnchorA.y-e.m_sweep.localCenter.y,c=b.col1.x*s+b.col2.x*
w,w=b.col1.y*s+b.col2.y*w,s=c;b=f.m_xf.R;var x=this.m_localAnchorB.x-f.m_sweep.localCenter.x,y=this.m_localAnchorB.y-f.m_sweep.localCenter.y,c=b.col1.x*x+b.col2.x*y,y=b.col1.y*x+b.col2.y*y,x=c;b=0;var c=-this.m_angularMass*(r-k),z=this.m_angularImpulse;b=a.dt*this.m_maxTorque;this.m_angularImpulse=h.Clamp(this.m_angularImpulse+c,-b,b);c=this.m_angularImpulse-z;k-=q*c;r+=t*c;b=h.MulMV(this.m_linearMass,new d(-(u.x-r*y-g.x+k*w),-(u.y+r*x-g.y-k*s)));c=this.m_linearImpulse.Copy();this.m_linearImpulse.Add(b);
b=a.dt*this.m_maxForce;this.m_linearImpulse.LengthSquared()>b*b&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.Multiply(b));b=h.SubtractVV(this.m_linearImpulse,c);g.x-=m*b.x;g.y-=m*b.y;k-=q*(s*b.y-w*b.x);u.x+=n*b.x;u.y+=n*b.y;r+=t*(x*b.y-y*b.x);e.m_angularVelocity=k;f.m_angularVelocity=r};k.prototype.SolvePositionConstraints=function(a){return!0};Box2D.inherit(m,Box2D.Dynamics.Joints.b2JointDef);m.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype;m.b2FrictionJointDef=function(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,
arguments);this.localAnchorA=new d;this.localAnchorB=new d};m.prototype.b2FrictionJointDef=function(){this.__super.b2JointDef.call(this);this.type=t.e_frictionJoint;this.maxTorque=this.maxForce=0};m.prototype.Initialize=function(a,b,c){this.bodyA=a;this.bodyB=b;this.localAnchorA.SetV(this.bodyA.GetLocalPoint(c));this.localAnchorB.SetV(this.bodyB.GetLocalPoint(c))};Box2D.inherit(n,Box2D.Dynamics.Joints.b2Joint);n.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype;n.b2GearJoint=function(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,
arguments);this.m_groundAnchor1=new d;this.m_groundAnchor2=new d;this.m_localAnchor1=new d;this.m_localAnchor2=new d;this.m_J=new s};n.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};n.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};n.prototype.GetReactionForce=function(a){void 0===a&&(a=0);return new d(a*this.m_impulse*this.m_J.linearB.x,a*this.m_impulse*this.m_J.linearB.y)};n.prototype.GetReactionTorque=function(a){void 0===
a&&(a=0);var b=this.m_bodyB.m_xf.R,c=this.m_localAnchor1.x-this.m_bodyB.m_sweep.localCenter.x,d=this.m_localAnchor1.y-this.m_bodyB.m_sweep.localCenter.y,e=b.col1.x*c+b.col2.x*d,d=b.col1.y*c+b.col2.y*d;return a*(this.m_impulse*this.m_J.angularB-e*this.m_impulse*this.m_J.linearB.y+d*this.m_impulse*this.m_J.linearB.x)};n.prototype.GetRatio=function(){return this.m_ratio};n.prototype.SetRatio=function(a){void 0===a&&(a=0);this.m_ratio=a};n.prototype.b2GearJoint=function(a){this.__super.b2Joint.call(this,
a);var b=parseInt(a.joint1.m_type),c=parseInt(a.joint2.m_type);this.m_prismatic2=this.m_revolute2=this.m_prismatic1=this.m_revolute1=null;var d=0,e=0;this.m_ground1=a.joint1.GetBodyA();this.m_bodyA=a.joint1.GetBodyB();b==t.e_revoluteJoint?(this.m_revolute1=a.joint1 instanceof F?a.joint1:null,this.m_groundAnchor1.SetV(this.m_revolute1.m_localAnchor1),this.m_localAnchor1.SetV(this.m_revolute1.m_localAnchor2),d=this.m_revolute1.GetJointAngle()):(this.m_prismatic1=a.joint1 instanceof E?a.joint1:null,
this.m_groundAnchor1.SetV(this.m_prismatic1.m_localAnchor1),this.m_localAnchor1.SetV(this.m_prismatic1.m_localAnchor2),d=this.m_prismatic1.GetJointTranslation());this.m_ground2=a.joint2.GetBodyA();this.m_bodyB=a.joint2.GetBodyB();c==t.e_revoluteJoint?(this.m_revolute2=a.joint2 instanceof F?a.joint2:null,this.m_groundAnchor2.SetV(this.m_revolute2.m_localAnchor1),this.m_localAnchor2.SetV(this.m_revolute2.m_localAnchor2),e=this.m_revolute2.GetJointAngle()):(this.m_prismatic2=a.joint2 instanceof E?a.joint2:
null,this.m_groundAnchor2.SetV(this.m_prismatic2.m_localAnchor1),this.m_localAnchor2.SetV(this.m_prismatic2.m_localAnchor2),e=this.m_prismatic2.GetJointTranslation());this.m_ratio=a.ratio;this.m_constant=d+this.m_ratio*e;this.m_impulse=0};n.prototype.InitVelocityConstraints=function(a){var b=this.m_ground1,c=this.m_ground2,d=this.m_bodyA,e=this.m_bodyB,f=0,g=0,h=0,k=0,m=h=0,n=0;this.m_J.SetZero();this.m_revolute1?(this.m_J.angularA=-1,n+=d.m_invI):(b=b.m_xf.R,g=this.m_prismatic1.m_localXAxis1,f=b.col1.x*
g.x+b.col2.x*g.y,g=b.col1.y*g.x+b.col2.y*g.y,b=d.m_xf.R,h=this.m_localAnchor1.x-d.m_sweep.localCenter.x,k=this.m_localAnchor1.y-d.m_sweep.localCenter.y,m=b.col1.x*h+b.col2.x*k,k=b.col1.y*h+b.col2.y*k,h=m*g-k*f,this.m_J.linearA.Set(-f,-g),this.m_J.angularA=-h,n+=d.m_invMass+d.m_invI*h*h);this.m_revolute2?(this.m_J.angularB=-this.m_ratio,n+=this.m_ratio*this.m_ratio*e.m_invI):(b=c.m_xf.R,g=this.m_prismatic2.m_localXAxis1,f=b.col1.x*g.x+b.col2.x*g.y,g=b.col1.y*g.x+b.col2.y*g.y,b=e.m_xf.R,h=this.m_localAnchor2.x-
e.m_sweep.localCenter.x,k=this.m_localAnchor2.y-e.m_sweep.localCenter.y,m=b.col1.x*h+b.col2.x*k,k=b.col1.y*h+b.col2.y*k,h=m*g-k*f,this.m_J.linearB.Set(-this.m_ratio*f,-this.m_ratio*g),this.m_J.angularB=-this.m_ratio*h,n+=this.m_ratio*this.m_ratio*(e.m_invMass+e.m_invI*h*h));this.m_mass=0<n?1/n:0;a.warmStarting?(d.m_linearVelocity.x+=d.m_invMass*this.m_impulse*this.m_J.linearA.x,d.m_linearVelocity.y+=d.m_invMass*this.m_impulse*this.m_J.linearA.y,d.m_angularVelocity+=d.m_invI*this.m_impulse*this.m_J.angularA,
e.m_linearVelocity.x+=e.m_invMass*this.m_impulse*this.m_J.linearB.x,e.m_linearVelocity.y+=e.m_invMass*this.m_impulse*this.m_J.linearB.y,e.m_angularVelocity+=e.m_invI*this.m_impulse*this.m_J.angularB):this.m_impulse=0};n.prototype.SolveVelocityConstraints=function(a){a=this.m_bodyA;var b=this.m_bodyB,c=this.m_J.Compute(a.m_linearVelocity,a.m_angularVelocity,b.m_linearVelocity,b.m_angularVelocity),c=-this.m_mass*c;this.m_impulse+=c;a.m_linearVelocity.x+=a.m_invMass*c*this.m_J.linearA.x;a.m_linearVelocity.y+=
a.m_invMass*c*this.m_J.linearA.y;a.m_angularVelocity+=a.m_invI*c*this.m_J.angularA;b.m_linearVelocity.x+=b.m_invMass*c*this.m_J.linearB.x;b.m_linearVelocity.y+=b.m_invMass*c*this.m_J.linearB.y;b.m_angularVelocity+=b.m_invI*c*this.m_J.angularB};n.prototype.SolvePositionConstraints=function(a){a=this.m_bodyA;var b=this.m_bodyB,d=0,e=0,d=this.m_revolute1?this.m_revolute1.GetJointAngle():this.m_prismatic1.GetJointTranslation(),e=this.m_revolute2?this.m_revolute2.GetJointAngle():this.m_prismatic2.GetJointTranslation(),
d=-this.m_mass*(this.m_constant-(d+this.m_ratio*e));a.m_sweep.c.x+=a.m_invMass*d*this.m_J.linearA.x;a.m_sweep.c.y+=a.m_invMass*d*this.m_J.linearA.y;a.m_sweep.a+=a.m_invI*d*this.m_J.angularA;b.m_sweep.c.x+=b.m_invMass*d*this.m_J.linearB.x;b.m_sweep.c.y+=b.m_invMass*d*this.m_J.linearB.y;b.m_sweep.a+=b.m_invI*d*this.m_J.angularB;a.SynchronizeTransform();b.SynchronizeTransform();return 0<c.b2_linearSlop};Box2D.inherit(w,Box2D.Dynamics.Joints.b2JointDef);w.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype;
w.b2GearJointDef=function(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments)};w.prototype.b2GearJointDef=function(){this.__super.b2JointDef.call(this);this.type=t.e_gearJoint;this.joint2=this.joint1=null;this.ratio=1};s.b2Jacobian=function(){this.linearA=new d;this.linearB=new d};s.prototype.SetZero=function(){this.linearA.SetZero();this.angularA=0;this.linearB.SetZero();this.angularB=0};s.prototype.Set=function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=0);this.linearA.SetV(a);this.angularA=
b;this.linearB.SetV(c);this.angularB=d};s.prototype.Compute=function(a,b,c,d){void 0===b&&(b=0);void 0===d&&(d=0);return this.linearA.x*a.x+this.linearA.y*a.y+this.angularA*b+(this.linearB.x*c.x+this.linearB.y*c.y)+this.angularB*d};t.b2Joint=function(){this.m_edgeA=new y;this.m_edgeB=new y;this.m_localCenterA=new d;this.m_localCenterB=new d};t.prototype.GetType=function(){return this.m_type};t.prototype.GetAnchorA=function(){return null};t.prototype.GetAnchorB=function(){return null};t.prototype.GetReactionForce=
function(a){return null};t.prototype.GetReactionTorque=function(a){return 0};t.prototype.GetBodyA=function(){return this.m_bodyA};t.prototype.GetBodyB=function(){return this.m_bodyB};t.prototype.GetNext=function(){return this.m_next};t.prototype.GetUserData=function(){return this.m_userData};t.prototype.SetUserData=function(a){this.m_userData=a};t.prototype.IsActive=function(){return this.m_bodyA.IsActive()&&this.m_bodyB.IsActive()};t.Create=function(a,b){var c=null;switch(a.type){case t.e_distanceJoint:c=
new f(a instanceof g?a:null);break;case t.e_mouseJoint:c=new z(a instanceof H?a:null);break;case t.e_prismaticJoint:c=new E(a instanceof G?a:null);break;case t.e_revoluteJoint:c=new F(a instanceof I?a:null);break;case t.e_pulleyJoint:c=new C(a instanceof K?a:null);break;case t.e_gearJoint:c=new n(a instanceof w?a:null);break;case t.e_lineJoint:c=new q(a instanceof A?a:null);break;case t.e_weldJoint:c=new N(a instanceof L?a:null);break;case t.e_frictionJoint:c=new k(a instanceof m?a:null)}return c};
t.Destroy=function(a,b){};t.prototype.b2Joint=function(a){c.b2Assert(a.bodyA!=a.bodyB);this.m_type=a.type;this.m_next=this.m_prev=null;this.m_bodyA=a.bodyA;this.m_bodyB=a.bodyB;this.m_collideConnected=a.collideConnected;this.m_islandFlag=!1;this.m_userData=a.userData};t.prototype.InitVelocityConstraints=function(a){};t.prototype.SolveVelocityConstraints=function(a){};t.prototype.FinalizeVelocityConstraints=function(){};t.prototype.SolvePositionConstraints=function(a){return!1};Box2D.postDefs.push(function(){Box2D.Dynamics.Joints.b2Joint.e_unknownJoint=
0;Box2D.Dynamics.Joints.b2Joint.e_revoluteJoint=1;Box2D.Dynamics.Joints.b2Joint.e_prismaticJoint=2;Box2D.Dynamics.Joints.b2Joint.e_distanceJoint=3;Box2D.Dynamics.Joints.b2Joint.e_pulleyJoint=4;Box2D.Dynamics.Joints.b2Joint.e_mouseJoint=5;Box2D.Dynamics.Joints.b2Joint.e_gearJoint=6;Box2D.Dynamics.Joints.b2Joint.e_lineJoint=7;Box2D.Dynamics.Joints.b2Joint.e_weldJoint=8;Box2D.Dynamics.Joints.b2Joint.e_frictionJoint=9;Box2D.Dynamics.Joints.b2Joint.e_inactiveLimit=0;Box2D.Dynamics.Joints.b2Joint.e_atLowerLimit=
1;Box2D.Dynamics.Joints.b2Joint.e_atUpperLimit=2;Box2D.Dynamics.Joints.b2Joint.e_equalLimits=3});x.b2JointDef=function(){};x.prototype.b2JointDef=function(){this.type=t.e_unknownJoint;this.bodyB=this.bodyA=this.userData=null;this.collideConnected=!1};y.b2JointEdge=function(){};Box2D.inherit(q,Box2D.Dynamics.Joints.b2Joint);q.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype;q.b2LineJoint=function(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_localAnchor1=new d;this.m_localAnchor2=
new d;this.m_localXAxis1=new d;this.m_localYAxis1=new d;this.m_axis=new d;this.m_perp=new d;this.m_K=new a;this.m_impulse=new d};q.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};q.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};q.prototype.GetReactionForce=function(a){void 0===a&&(a=0);return new d(a*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x),a*(this.m_impulse.x*this.m_perp.y+
(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y))};q.prototype.GetReactionTorque=function(a){void 0===a&&(a=0);return a*this.m_impulse.y};q.prototype.GetJointTranslation=function(){var a=this.m_bodyA,b=this.m_bodyB,c=a.GetWorldPoint(this.m_localAnchor1),d=b.GetWorldPoint(this.m_localAnchor2),b=d.x-c.x,c=d.y-c.y,a=a.GetWorldVector(this.m_localXAxis1);return a.x*b+a.y*c};q.prototype.GetJointSpeed=function(){var a=this.m_bodyA,b=this.m_bodyB,c;c=a.m_xf.R;var d=this.m_localAnchor1.x-a.m_sweep.localCenter.x,
e=this.m_localAnchor1.y-a.m_sweep.localCenter.y,f=c.col1.x*d+c.col2.x*e,e=c.col1.y*d+c.col2.y*e,d=f;c=b.m_xf.R;var g=this.m_localAnchor2.x-b.m_sweep.localCenter.x,h=this.m_localAnchor2.y-b.m_sweep.localCenter.y,f=c.col1.x*g+c.col2.x*h,h=c.col1.y*g+c.col2.y*h,g=f;c=b.m_sweep.c.x+g-(a.m_sweep.c.x+d);var f=b.m_sweep.c.y+h-(a.m_sweep.c.y+e),k=a.GetWorldVector(this.m_localXAxis1),m=a.m_linearVelocity,n=b.m_linearVelocity,a=a.m_angularVelocity,b=b.m_angularVelocity;return c*-a*k.y+f*a*k.x+(k.x*(n.x+-b*
h-m.x- -a*e)+k.y*(n.y+b*g-m.y-a*d))};q.prototype.IsLimitEnabled=function(){return this.m_enableLimit};q.prototype.EnableLimit=function(a){this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_enableLimit=a};q.prototype.GetLowerLimit=function(){return this.m_lowerTranslation};q.prototype.GetUpperLimit=function(){return this.m_upperTranslation};q.prototype.SetLimits=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_lowerTranslation=a;this.m_upperTranslation=
b};q.prototype.IsMotorEnabled=function(){return this.m_enableMotor};q.prototype.EnableMotor=function(a){this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_enableMotor=a};q.prototype.SetMotorSpeed=function(a){void 0===a&&(a=0);this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_motorSpeed=a};q.prototype.GetMotorSpeed=function(){return this.m_motorSpeed};q.prototype.SetMaxMotorForce=function(a){void 0===a&&(a=0);this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_maxMotorForce=
a};q.prototype.GetMaxMotorForce=function(){return this.m_maxMotorForce};q.prototype.GetMotorForce=function(){return this.m_motorImpulse};q.prototype.b2LineJoint=function(a){this.__super.b2Joint.call(this,a);this.m_localAnchor1.SetV(a.localAnchorA);this.m_localAnchor2.SetV(a.localAnchorB);this.m_localXAxis1.SetV(a.localAxisA);this.m_localYAxis1.x=-this.m_localXAxis1.y;this.m_localYAxis1.y=this.m_localXAxis1.x;this.m_impulse.SetZero();this.m_motorImpulse=this.m_motorMass=0;this.m_lowerTranslation=a.lowerTranslation;
this.m_upperTranslation=a.upperTranslation;this.m_maxMotorForce=a.maxMotorForce;this.m_motorSpeed=a.motorSpeed;this.m_enableLimit=a.enableLimit;this.m_enableMotor=a.enableMotor;this.m_limitState=t.e_inactiveLimit;this.m_axis.SetZero();this.m_perp.SetZero()};q.prototype.InitVelocityConstraints=function(a){var b=this.m_bodyA,d=this.m_bodyB,e,f=0;this.m_localCenterA.SetV(b.GetLocalCenter());this.m_localCenterB.SetV(d.GetLocalCenter());var g=b.GetTransform();d.GetTransform();e=b.m_xf.R;var k=this.m_localAnchor1.x-
this.m_localCenterA.x,u=this.m_localAnchor1.y-this.m_localCenterA.y,f=e.col1.x*k+e.col2.x*u,u=e.col1.y*k+e.col2.y*u,k=f;e=d.m_xf.R;var r=this.m_localAnchor2.x-this.m_localCenterB.x,m=this.m_localAnchor2.y-this.m_localCenterB.y,f=e.col1.x*r+e.col2.x*m,m=e.col1.y*r+e.col2.y*m,r=f;e=d.m_sweep.c.x+r-b.m_sweep.c.x-k;f=d.m_sweep.c.y+m-b.m_sweep.c.y-u;this.m_invMassA=b.m_invMass;this.m_invMassB=d.m_invMass;this.m_invIA=b.m_invI;this.m_invIB=d.m_invI;this.m_axis.SetV(h.MulMV(g.R,this.m_localXAxis1));this.m_a1=
(e+k)*this.m_axis.y-(f+u)*this.m_axis.x;this.m_a2=r*this.m_axis.y-m*this.m_axis.x;this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2;this.m_motorMass=this.m_motorMass>Number.MIN_VALUE?1/this.m_motorMass:0;this.m_perp.SetV(h.MulMV(g.R,this.m_localYAxis1));this.m_s1=(e+k)*this.m_perp.y-(f+u)*this.m_perp.x;this.m_s2=r*this.m_perp.y-m*this.m_perp.x;g=this.m_invMassA;k=this.m_invMassB;u=this.m_invIA;r=this.m_invIB;this.m_K.col1.x=g+k+u*this.m_s1*
this.m_s1+r*this.m_s2*this.m_s2;this.m_K.col1.y=u*this.m_s1*this.m_a1+r*this.m_s2*this.m_a2;this.m_K.col2.x=this.m_K.col1.y;this.m_K.col2.y=g+k+u*this.m_a1*this.m_a1+r*this.m_a2*this.m_a2;this.m_enableLimit?(e=this.m_axis.x*e+this.m_axis.y*f,h.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*c.b2_linearSlop?this.m_limitState=t.e_equalLimits:e<=this.m_lowerTranslation?this.m_limitState!=t.e_atLowerLimit&&(this.m_limitState=t.e_atLowerLimit,this.m_impulse.y=0):e>=this.m_upperTranslation?this.m_limitState!=
t.e_atUpperLimit&&(this.m_limitState=t.e_atUpperLimit,this.m_impulse.y=0):(this.m_limitState=t.e_inactiveLimit,this.m_impulse.y=0)):this.m_limitState=t.e_inactiveLimit;!1==this.m_enableMotor&&(this.m_motorImpulse=0);a.warmStarting?(this.m_impulse.x*=a.dtRatio,this.m_impulse.y*=a.dtRatio,this.m_motorImpulse*=a.dtRatio,a=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.x,e=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.y)*this.m_axis.y,f=this.m_impulse.x*
this.m_s1+(this.m_motorImpulse+this.m_impulse.y)*this.m_a1,g=this.m_impulse.x*this.m_s2+(this.m_motorImpulse+this.m_impulse.y)*this.m_a2,b.m_linearVelocity.x-=this.m_invMassA*a,b.m_linearVelocity.y-=this.m_invMassA*e,b.m_angularVelocity-=this.m_invIA*f,d.m_linearVelocity.x+=this.m_invMassB*a,d.m_linearVelocity.y+=this.m_invMassB*e,d.m_angularVelocity+=this.m_invIB*g):(this.m_impulse.SetZero(),this.m_motorImpulse=0)};q.prototype.SolveVelocityConstraints=function(a){var b=this.m_bodyA,c=this.m_bodyB,
e=b.m_linearVelocity,f=b.m_angularVelocity,g=c.m_linearVelocity,k=c.m_angularVelocity,u=0,r=0,m=0,n=0;this.m_enableMotor&&this.m_limitState!=t.e_equalLimits&&(n=this.m_motorMass*(this.m_motorSpeed-(this.m_axis.x*(g.x-e.x)+this.m_axis.y*(g.y-e.y)+this.m_a2*k-this.m_a1*f)),u=this.m_motorImpulse,r=a.dt*this.m_maxMotorForce,this.m_motorImpulse=h.Clamp(this.m_motorImpulse+n,-r,r),n=this.m_motorImpulse-u,u=n*this.m_axis.x,r=n*this.m_axis.y,m=n*this.m_a1,n*=this.m_a2,e.x-=this.m_invMassA*u,e.y-=this.m_invMassA*
r,f-=this.m_invIA*m,g.x+=this.m_invMassB*u,g.y+=this.m_invMassB*r,k+=this.m_invIB*n);r=this.m_perp.x*(g.x-e.x)+this.m_perp.y*(g.y-e.y)+this.m_s2*k-this.m_s1*f;this.m_enableLimit&&this.m_limitState!=t.e_inactiveLimit?(m=this.m_axis.x*(g.x-e.x)+this.m_axis.y*(g.y-e.y)+this.m_a2*k-this.m_a1*f,u=this.m_impulse.Copy(),a=this.m_K.Solve(new d,-r,-m),this.m_impulse.Add(a),this.m_limitState==t.e_atLowerLimit?this.m_impulse.y=h.Max(this.m_impulse.y,0):this.m_limitState==t.e_atUpperLimit&&(this.m_impulse.y=
h.Min(this.m_impulse.y,0)),r=-r-(this.m_impulse.y-u.y)*this.m_K.col2.x,m=0,m=0!=this.m_K.col1.x?r/this.m_K.col1.x+u.x:u.x,this.m_impulse.x=m,a.x=this.m_impulse.x-u.x,a.y=this.m_impulse.y-u.y,u=a.x*this.m_perp.x+a.y*this.m_axis.x,r=a.x*this.m_perp.y+a.y*this.m_axis.y,m=a.x*this.m_s1+a.y*this.m_a1,n=a.x*this.m_s2+a.y*this.m_a2):(a=0,a=0!=this.m_K.col1.x?-r/this.m_K.col1.x:0,this.m_impulse.x+=a,u=a*this.m_perp.x,r=a*this.m_perp.y,m=a*this.m_s1,n=a*this.m_s2);e.x-=this.m_invMassA*u;e.y-=this.m_invMassA*
r;f-=this.m_invIA*m;g.x+=this.m_invMassB*u;g.y+=this.m_invMassB*r;k+=this.m_invIB*n;b.m_linearVelocity.SetV(e);b.m_angularVelocity=f;c.m_linearVelocity.SetV(g);c.m_angularVelocity=k};q.prototype.SolvePositionConstraints=function(b){b=this.m_bodyA;var e=this.m_bodyB,f=b.m_sweep.c,g=b.m_sweep.a,k=e.m_sweep.c,m=e.m_sweep.a,n,u=0,r=0,q=0,t=0,s=n=0,w=0,r=!1,x=0,y=a.FromAngle(g),q=a.FromAngle(m);n=y;var w=this.m_localAnchor1.x-this.m_localCenterA.x,z=this.m_localAnchor1.y-this.m_localCenterA.y,u=n.col1.x*
w+n.col2.x*z,z=n.col1.y*w+n.col2.y*z,w=u;n=q;q=this.m_localAnchor2.x-this.m_localCenterB.x;t=this.m_localAnchor2.y-this.m_localCenterB.y;u=n.col1.x*q+n.col2.x*t;t=n.col1.y*q+n.col2.y*t;q=u;n=k.x+q-f.x-w;u=k.y+t-f.y-z;if(this.m_enableLimit){this.m_axis=h.MulMV(y,this.m_localXAxis1);this.m_a1=(n+w)*this.m_axis.y-(u+z)*this.m_axis.x;this.m_a2=q*this.m_axis.y-t*this.m_axis.x;var A=this.m_axis.x*n+this.m_axis.y*u;h.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*c.b2_linearSlop?(x=h.Clamp(A,-c.b2_maxLinearCorrection,
c.b2_maxLinearCorrection),s=h.Abs(A),r=!0):A<=this.m_lowerTranslation?(x=h.Clamp(A-this.m_lowerTranslation+c.b2_linearSlop,-c.b2_maxLinearCorrection,0),s=this.m_lowerTranslation-A,r=!0):A>=this.m_upperTranslation&&(x=h.Clamp(A-this.m_upperTranslation+c.b2_linearSlop,0,c.b2_maxLinearCorrection),s=A-this.m_upperTranslation,r=!0)}this.m_perp=h.MulMV(y,this.m_localYAxis1);this.m_s1=(n+w)*this.m_perp.y-(u+z)*this.m_perp.x;this.m_s2=q*this.m_perp.y-t*this.m_perp.x;y=new d;z=this.m_perp.x*n+this.m_perp.y*
u;s=h.Max(s,h.Abs(z));w=0;r?(r=this.m_invMassA,q=this.m_invMassB,t=this.m_invIA,n=this.m_invIB,this.m_K.col1.x=r+q+t*this.m_s1*this.m_s1+n*this.m_s2*this.m_s2,this.m_K.col1.y=t*this.m_s1*this.m_a1+n*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=r+q+t*this.m_a1*this.m_a1+n*this.m_a2*this.m_a2,this.m_K.Solve(y,-z,-x)):(r=this.m_invMassA,q=this.m_invMassB,t=this.m_invIA,n=this.m_invIB,x=r+q+t*this.m_s1*this.m_s1+n*this.m_s2*this.m_s2,y.x=0!=x?-z/x:0,y.y=0);x=y.x*this.m_perp.x+y.y*
this.m_axis.x;r=y.x*this.m_perp.y+y.y*this.m_axis.y;z=y.x*this.m_s1+y.y*this.m_a1;y=y.x*this.m_s2+y.y*this.m_a2;f.x-=this.m_invMassA*x;f.y-=this.m_invMassA*r;g-=this.m_invIA*z;k.x+=this.m_invMassB*x;k.y+=this.m_invMassB*r;m+=this.m_invIB*y;b.m_sweep.a=g;e.m_sweep.a=m;b.SynchronizeTransform();e.SynchronizeTransform();return s<=c.b2_linearSlop&&w<=c.b2_angularSlop};Box2D.inherit(A,Box2D.Dynamics.Joints.b2JointDef);A.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype;A.b2LineJointDef=function(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,
arguments);this.localAnchorA=new d;this.localAnchorB=new d;this.localAxisA=new d};A.prototype.b2LineJointDef=function(){this.__super.b2JointDef.call(this);this.type=t.e_lineJoint;this.localAxisA.Set(1,0);this.enableLimit=!1;this.upperTranslation=this.lowerTranslation=0;this.enableMotor=!1;this.motorSpeed=this.maxMotorForce=0};A.prototype.Initialize=function(a,b,c,d){this.bodyA=a;this.bodyB=b;this.localAnchorA=this.bodyA.GetLocalPoint(c);this.localAnchorB=this.bodyB.GetLocalPoint(c);this.localAxisA=
this.bodyA.GetLocalVector(d)};Box2D.inherit(z,Box2D.Dynamics.Joints.b2Joint);z.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype;z.b2MouseJoint=function(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.K=new a;this.K1=new a;this.K2=new a;this.m_localAnchor=new d;this.m_target=new d;this.m_impulse=new d;this.m_mass=new a;this.m_C=new d};z.prototype.GetAnchorA=function(){return this.m_target};z.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor)};
z.prototype.GetReactionForce=function(a){void 0===a&&(a=0);return new d(a*this.m_impulse.x,a*this.m_impulse.y)};z.prototype.GetReactionTorque=function(a){return 0};z.prototype.GetTarget=function(){return this.m_target};z.prototype.SetTarget=function(a){!1==this.m_bodyB.IsAwake()&&this.m_bodyB.SetAwake(!0);this.m_target=a};z.prototype.GetMaxForce=function(){return this.m_maxForce};z.prototype.SetMaxForce=function(a){void 0===a&&(a=0);this.m_maxForce=a};z.prototype.GetFrequency=function(){return this.m_frequencyHz};
z.prototype.SetFrequency=function(a){void 0===a&&(a=0);this.m_frequencyHz=a};z.prototype.GetDampingRatio=function(){return this.m_dampingRatio};z.prototype.SetDampingRatio=function(a){void 0===a&&(a=0);this.m_dampingRatio=a};z.prototype.b2MouseJoint=function(a){this.__super.b2Joint.call(this,a);this.m_target.SetV(a.target);var b=this.m_target.x-this.m_bodyB.m_xf.position.x,c=this.m_target.y-this.m_bodyB.m_xf.position.y,d=this.m_bodyB.m_xf.R;this.m_localAnchor.x=b*d.col1.x+c*d.col1.y;this.m_localAnchor.y=
b*d.col2.x+c*d.col2.y;this.m_maxForce=a.maxForce;this.m_impulse.SetZero();this.m_frequencyHz=a.frequencyHz;this.m_dampingRatio=a.dampingRatio;this.m_gamma=this.m_beta=0};z.prototype.InitVelocityConstraints=function(a){var b=this.m_bodyB,c=b.GetMass(),d=2*Math.PI*this.m_frequencyHz,e=c*d*d;this.m_gamma=a.dt*(2*c*this.m_dampingRatio*d+a.dt*e);this.m_gamma=0!=this.m_gamma?1/this.m_gamma:0;this.m_beta=a.dt*e*this.m_gamma;var e=b.m_xf.R,c=this.m_localAnchor.x-b.m_sweep.localCenter.x,d=this.m_localAnchor.y-
b.m_sweep.localCenter.y,f=e.col1.x*c+e.col2.x*d,d=e.col1.y*c+e.col2.y*d,c=f,e=b.m_invMass,f=b.m_invI;this.K1.col1.x=e;this.K1.col2.x=0;this.K1.col1.y=0;this.K1.col2.y=e;this.K2.col1.x=f*d*d;this.K2.col2.x=-f*c*d;this.K2.col1.y=-f*c*d;this.K2.col2.y=f*c*c;this.K.SetM(this.K1);this.K.AddM(this.K2);this.K.col1.x+=this.m_gamma;this.K.col2.y+=this.m_gamma;this.K.GetInverse(this.m_mass);this.m_C.x=b.m_sweep.c.x+c-this.m_target.x;this.m_C.y=b.m_sweep.c.y+d-this.m_target.y;b.m_angularVelocity*=0.98;this.m_impulse.x*=
a.dtRatio;this.m_impulse.y*=a.dtRatio;b.m_linearVelocity.x+=e*this.m_impulse.x;b.m_linearVelocity.y+=e*this.m_impulse.y;b.m_angularVelocity+=f*(c*this.m_impulse.y-d*this.m_impulse.x)};z.prototype.SolveVelocityConstraints=function(a){var b=this.m_bodyB,c,d=0,e=0;c=b.m_xf.R;var f=this.m_localAnchor.x-b.m_sweep.localCenter.x,g=this.m_localAnchor.y-b.m_sweep.localCenter.y,d=c.col1.x*f+c.col2.x*g,g=c.col1.y*f+c.col2.y*g,f=d,d=b.m_linearVelocity.x+-b.m_angularVelocity*g,h=b.m_linearVelocity.y+b.m_angularVelocity*
f;c=this.m_mass;d=d+this.m_beta*this.m_C.x+this.m_gamma*this.m_impulse.x;e=h+this.m_beta*this.m_C.y+this.m_gamma*this.m_impulse.y;h=-(c.col1.x*d+c.col2.x*e);e=-(c.col1.y*d+c.col2.y*e);c=this.m_impulse.x;d=this.m_impulse.y;this.m_impulse.x+=h;this.m_impulse.y+=e;a=a.dt*this.m_maxForce;this.m_impulse.LengthSquared()>a*a&&this.m_impulse.Multiply(a/this.m_impulse.Length());h=this.m_impulse.x-c;e=this.m_impulse.y-d;b.m_linearVelocity.x+=b.m_invMass*h;b.m_linearVelocity.y+=b.m_invMass*e;b.m_angularVelocity+=
b.m_invI*(f*e-g*h)};z.prototype.SolvePositionConstraints=function(a){return!0};Box2D.inherit(H,Box2D.Dynamics.Joints.b2JointDef);H.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype;H.b2MouseJointDef=function(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.target=new d};H.prototype.b2MouseJointDef=function(){this.__super.b2JointDef.call(this);this.type=t.e_mouseJoint;this.maxForce=0;this.frequencyHz=5;this.dampingRatio=0.7};Box2D.inherit(E,Box2D.Dynamics.Joints.b2Joint);
E.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype;E.b2PrismaticJoint=function(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_localAnchor1=new d;this.m_localAnchor2=new d;this.m_localXAxis1=new d;this.m_localYAxis1=new d;this.m_axis=new d;this.m_perp=new d;this.m_K=new b;this.m_impulse=new e};E.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};E.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};
E.prototype.GetReactionForce=function(a){void 0===a&&(a=0);return new d(a*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),a*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y))};E.prototype.GetReactionTorque=function(a){void 0===a&&(a=0);return a*this.m_impulse.y};E.prototype.GetJointTranslation=function(){var a=this.m_bodyA,b=this.m_bodyB,c=a.GetWorldPoint(this.m_localAnchor1),d=b.GetWorldPoint(this.m_localAnchor2),b=d.x-c.x,
c=d.y-c.y,a=a.GetWorldVector(this.m_localXAxis1);return a.x*b+a.y*c};E.prototype.GetJointSpeed=function(){var a=this.m_bodyA,b=this.m_bodyB,c;c=a.m_xf.R;var d=this.m_localAnchor1.x-a.m_sweep.localCenter.x,e=this.m_localAnchor1.y-a.m_sweep.localCenter.y,f=c.col1.x*d+c.col2.x*e,e=c.col1.y*d+c.col2.y*e,d=f;c=b.m_xf.R;var g=this.m_localAnchor2.x-b.m_sweep.localCenter.x,h=this.m_localAnchor2.y-b.m_sweep.localCenter.y,f=c.col1.x*g+c.col2.x*h,h=c.col1.y*g+c.col2.y*h,g=f;c=b.m_sweep.c.x+g-(a.m_sweep.c.x+
d);var f=b.m_sweep.c.y+h-(a.m_sweep.c.y+e),k=a.GetWorldVector(this.m_localXAxis1),m=a.m_linearVelocity,n=b.m_linearVelocity,a=a.m_angularVelocity,b=b.m_angularVelocity;return c*-a*k.y+f*a*k.x+(k.x*(n.x+-b*h-m.x- -a*e)+k.y*(n.y+b*g-m.y-a*d))};E.prototype.IsLimitEnabled=function(){return this.m_enableLimit};E.prototype.EnableLimit=function(a){this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_enableLimit=a};E.prototype.GetLowerLimit=function(){return this.m_lowerTranslation};E.prototype.GetUpperLimit=
function(){return this.m_upperTranslation};E.prototype.SetLimits=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_lowerTranslation=a;this.m_upperTranslation=b};E.prototype.IsMotorEnabled=function(){return this.m_enableMotor};E.prototype.EnableMotor=function(a){this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_enableMotor=a};E.prototype.SetMotorSpeed=function(a){void 0===a&&(a=0);this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);
this.m_motorSpeed=a};E.prototype.GetMotorSpeed=function(){return this.m_motorSpeed};E.prototype.SetMaxMotorForce=function(a){void 0===a&&(a=0);this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_maxMotorForce=a};E.prototype.GetMotorForce=function(){return this.m_motorImpulse};E.prototype.b2PrismaticJoint=function(a){this.__super.b2Joint.call(this,a);this.m_localAnchor1.SetV(a.localAnchorA);this.m_localAnchor2.SetV(a.localAnchorB);this.m_localXAxis1.SetV(a.localAxisA);this.m_localYAxis1.x=-this.m_localXAxis1.y;
this.m_localYAxis1.y=this.m_localXAxis1.x;this.m_refAngle=a.referenceAngle;this.m_impulse.SetZero();this.m_motorImpulse=this.m_motorMass=0;this.m_lowerTranslation=a.lowerTranslation;this.m_upperTranslation=a.upperTranslation;this.m_maxMotorForce=a.maxMotorForce;this.m_motorSpeed=a.motorSpeed;this.m_enableLimit=a.enableLimit;this.m_enableMotor=a.enableMotor;this.m_limitState=t.e_inactiveLimit;this.m_axis.SetZero();this.m_perp.SetZero()};E.prototype.InitVelocityConstraints=function(a){var b=this.m_bodyA,
d=this.m_bodyB,e,f=0;this.m_localCenterA.SetV(b.GetLocalCenter());this.m_localCenterB.SetV(d.GetLocalCenter());var g=b.GetTransform();d.GetTransform();e=b.m_xf.R;var k=this.m_localAnchor1.x-this.m_localCenterA.x,m=this.m_localAnchor1.y-this.m_localCenterA.y,f=e.col1.x*k+e.col2.x*m,m=e.col1.y*k+e.col2.y*m,k=f;e=d.m_xf.R;var r=this.m_localAnchor2.x-this.m_localCenterB.x,n=this.m_localAnchor2.y-this.m_localCenterB.y,f=e.col1.x*r+e.col2.x*n,n=e.col1.y*r+e.col2.y*n,r=f;e=d.m_sweep.c.x+r-b.m_sweep.c.x-
k;f=d.m_sweep.c.y+n-b.m_sweep.c.y-m;this.m_invMassA=b.m_invMass;this.m_invMassB=d.m_invMass;this.m_invIA=b.m_invI;this.m_invIB=d.m_invI;this.m_axis.SetV(h.MulMV(g.R,this.m_localXAxis1));this.m_a1=(e+k)*this.m_axis.y-(f+m)*this.m_axis.x;this.m_a2=r*this.m_axis.y-n*this.m_axis.x;this.m_motorMass=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_a1*this.m_a1+this.m_invIB*this.m_a2*this.m_a2;this.m_motorMass>Number.MIN_VALUE&&(this.m_motorMass=1/this.m_motorMass);this.m_perp.SetV(h.MulMV(g.R,this.m_localYAxis1));
this.m_s1=(e+k)*this.m_perp.y-(f+m)*this.m_perp.x;this.m_s2=r*this.m_perp.y-n*this.m_perp.x;g=this.m_invMassA;k=this.m_invMassB;m=this.m_invIA;r=this.m_invIB;this.m_K.col1.x=g+k+m*this.m_s1*this.m_s1+r*this.m_s2*this.m_s2;this.m_K.col1.y=m*this.m_s1+r*this.m_s2;this.m_K.col1.z=m*this.m_s1*this.m_a1+r*this.m_s2*this.m_a2;this.m_K.col2.x=this.m_K.col1.y;this.m_K.col2.y=m+r;this.m_K.col2.z=m*this.m_a1+r*this.m_a2;this.m_K.col3.x=this.m_K.col1.z;this.m_K.col3.y=this.m_K.col2.z;this.m_K.col3.z=g+k+m*this.m_a1*
this.m_a1+r*this.m_a2*this.m_a2;this.m_enableLimit?(e=this.m_axis.x*e+this.m_axis.y*f,h.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*c.b2_linearSlop?this.m_limitState=t.e_equalLimits:e<=this.m_lowerTranslation?this.m_limitState!=t.e_atLowerLimit&&(this.m_limitState=t.e_atLowerLimit,this.m_impulse.z=0):e>=this.m_upperTranslation?this.m_limitState!=t.e_atUpperLimit&&(this.m_limitState=t.e_atUpperLimit,this.m_impulse.z=0):(this.m_limitState=t.e_inactiveLimit,this.m_impulse.z=0)):this.m_limitState=
t.e_inactiveLimit;!1==this.m_enableMotor&&(this.m_motorImpulse=0);a.warmStarting?(this.m_impulse.x*=a.dtRatio,this.m_impulse.y*=a.dtRatio,this.m_motorImpulse*=a.dtRatio,a=this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x,e=this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y,f=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,g=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+
this.m_impulse.z)*this.m_a2,b.m_linearVelocity.x-=this.m_invMassA*a,b.m_linearVelocity.y-=this.m_invMassA*e,b.m_angularVelocity-=this.m_invIA*f,d.m_linearVelocity.x+=this.m_invMassB*a,d.m_linearVelocity.y+=this.m_invMassB*e,d.m_angularVelocity+=this.m_invIB*g):(this.m_impulse.SetZero(),this.m_motorImpulse=0)};E.prototype.SolveVelocityConstraints=function(a){var b=this.m_bodyA,c=this.m_bodyB,f=b.m_linearVelocity,g=b.m_angularVelocity,k=c.m_linearVelocity,m=c.m_angularVelocity,n=0,r=0,q=0,s=0;this.m_enableMotor&&
this.m_limitState!=t.e_equalLimits&&(s=this.m_motorMass*(this.m_motorSpeed-(this.m_axis.x*(k.x-f.x)+this.m_axis.y*(k.y-f.y)+this.m_a2*m-this.m_a1*g)),n=this.m_motorImpulse,a=a.dt*this.m_maxMotorForce,this.m_motorImpulse=h.Clamp(this.m_motorImpulse+s,-a,a),s=this.m_motorImpulse-n,n=s*this.m_axis.x,r=s*this.m_axis.y,q=s*this.m_a1,s*=this.m_a2,f.x-=this.m_invMassA*n,f.y-=this.m_invMassA*r,g-=this.m_invIA*q,k.x+=this.m_invMassB*n,k.y+=this.m_invMassB*r,m+=this.m_invIB*s);q=this.m_perp.x*(k.x-f.x)+this.m_perp.y*
(k.y-f.y)+this.m_s2*m-this.m_s1*g;r=m-g;this.m_enableLimit&&this.m_limitState!=t.e_inactiveLimit?(a=this.m_axis.x*(k.x-f.x)+this.m_axis.y*(k.y-f.y)+this.m_a2*m-this.m_a1*g,n=this.m_impulse.Copy(),a=this.m_K.Solve33(new e,-q,-r,-a),this.m_impulse.Add(a),this.m_limitState==t.e_atLowerLimit?this.m_impulse.z=h.Max(this.m_impulse.z,0):this.m_limitState==t.e_atUpperLimit&&(this.m_impulse.z=h.Min(this.m_impulse.z,0)),q=-q-(this.m_impulse.z-n.z)*this.m_K.col3.x,r=-r-(this.m_impulse.z-n.z)*this.m_K.col3.y,
r=this.m_K.Solve22(new d,q,r),r.x+=n.x,r.y+=n.y,this.m_impulse.x=r.x,this.m_impulse.y=r.y,a.x=this.m_impulse.x-n.x,a.y=this.m_impulse.y-n.y,a.z=this.m_impulse.z-n.z,n=a.x*this.m_perp.x+a.z*this.m_axis.x,r=a.x*this.m_perp.y+a.z*this.m_axis.y,q=a.x*this.m_s1+a.y+a.z*this.m_a1,s=a.x*this.m_s2+a.y+a.z*this.m_a2):(a=this.m_K.Solve22(new d,-q,-r),this.m_impulse.x+=a.x,this.m_impulse.y+=a.y,n=a.x*this.m_perp.x,r=a.x*this.m_perp.y,q=a.x*this.m_s1+a.y,s=a.x*this.m_s2+a.y);f.x-=this.m_invMassA*n;f.y-=this.m_invMassA*
r;g-=this.m_invIA*q;k.x+=this.m_invMassB*n;k.y+=this.m_invMassB*r;m+=this.m_invIB*s;b.m_linearVelocity.SetV(f);b.m_angularVelocity=g;c.m_linearVelocity.SetV(k);c.m_angularVelocity=m};E.prototype.SolvePositionConstraints=function(b){b=this.m_bodyA;var f=this.m_bodyB,g=b.m_sweep.c,k=b.m_sweep.a,m=f.m_sweep.c,n=f.m_sweep.a,q,u=0,r=0,t=0,s=u=q=0,w=0,r=!1,y=0,x=a.FromAngle(k),z=a.FromAngle(n);q=x;var w=this.m_localAnchor1.x-this.m_localCenterA.x,A=this.m_localAnchor1.y-this.m_localCenterA.y,u=q.col1.x*
w+q.col2.x*A,A=q.col1.y*w+q.col2.y*A,w=u;q=z;z=this.m_localAnchor2.x-this.m_localCenterB.x;t=this.m_localAnchor2.y-this.m_localCenterB.y;u=q.col1.x*z+q.col2.x*t;t=q.col1.y*z+q.col2.y*t;z=u;q=m.x+z-g.x-w;u=m.y+t-g.y-A;if(this.m_enableLimit){this.m_axis=h.MulMV(x,this.m_localXAxis1);this.m_a1=(q+w)*this.m_axis.y-(u+A)*this.m_axis.x;this.m_a2=z*this.m_axis.y-t*this.m_axis.x;var C=this.m_axis.x*q+this.m_axis.y*u;h.Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*c.b2_linearSlop?(y=h.Clamp(C,-c.b2_maxLinearCorrection,
c.b2_maxLinearCorrection),s=h.Abs(C),r=!0):C<=this.m_lowerTranslation?(y=h.Clamp(C-this.m_lowerTranslation+c.b2_linearSlop,-c.b2_maxLinearCorrection,0),s=this.m_lowerTranslation-C,r=!0):C>=this.m_upperTranslation&&(y=h.Clamp(C-this.m_upperTranslation+c.b2_linearSlop,0,c.b2_maxLinearCorrection),s=C-this.m_upperTranslation,r=!0)}this.m_perp=h.MulMV(x,this.m_localYAxis1);this.m_s1=(q+w)*this.m_perp.y-(u+A)*this.m_perp.x;this.m_s2=z*this.m_perp.y-t*this.m_perp.x;x=new e;A=this.m_perp.x*q+this.m_perp.y*
u;z=n-k-this.m_refAngle;s=h.Max(s,h.Abs(A));w=h.Abs(z);r?(r=this.m_invMassA,t=this.m_invMassB,q=this.m_invIA,u=this.m_invIB,this.m_K.col1.x=r+t+q*this.m_s1*this.m_s1+u*this.m_s2*this.m_s2,this.m_K.col1.y=q*this.m_s1+u*this.m_s2,this.m_K.col1.z=q*this.m_s1*this.m_a1+u*this.m_s2*this.m_a2,this.m_K.col2.x=this.m_K.col1.y,this.m_K.col2.y=q+u,this.m_K.col2.z=q*this.m_a1+u*this.m_a2,this.m_K.col3.x=this.m_K.col1.z,this.m_K.col3.y=this.m_K.col2.z,this.m_K.col3.z=r+t+q*this.m_a1*this.m_a1+u*this.m_a2*this.m_a2,
this.m_K.Solve33(x,-A,-z,-y)):(r=this.m_invMassA,t=this.m_invMassB,q=this.m_invIA,u=this.m_invIB,y=q*this.m_s1+u*this.m_s2,C=q+u,this.m_K.col1.Set(r+t+q*this.m_s1*this.m_s1+u*this.m_s2*this.m_s2,y,0),this.m_K.col2.Set(y,C,0),y=this.m_K.Solve22(new d,-A,-z),x.x=y.x,x.y=y.y,x.z=0);y=x.x*this.m_perp.x+x.z*this.m_axis.x;r=x.x*this.m_perp.y+x.z*this.m_axis.y;A=x.x*this.m_s1+x.y+x.z*this.m_a1;x=x.x*this.m_s2+x.y+x.z*this.m_a2;g.x-=this.m_invMassA*y;g.y-=this.m_invMassA*r;k-=this.m_invIA*A;m.x+=this.m_invMassB*
y;m.y+=this.m_invMassB*r;n+=this.m_invIB*x;b.m_sweep.a=k;f.m_sweep.a=n;b.SynchronizeTransform();f.SynchronizeTransform();return s<=c.b2_linearSlop&&w<=c.b2_angularSlop};Box2D.inherit(G,Box2D.Dynamics.Joints.b2JointDef);G.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype;G.b2PrismaticJointDef=function(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.localAnchorA=new d;this.localAnchorB=new d;this.localAxisA=new d};G.prototype.b2PrismaticJointDef=function(){this.__super.b2JointDef.call(this);
this.type=t.e_prismaticJoint;this.localAxisA.Set(1,0);this.referenceAngle=0;this.enableLimit=!1;this.upperTranslation=this.lowerTranslation=0;this.enableMotor=!1;this.motorSpeed=this.maxMotorForce=0};G.prototype.Initialize=function(a,b,c,d){this.bodyA=a;this.bodyB=b;this.localAnchorA=this.bodyA.GetLocalPoint(c);this.localAnchorB=this.bodyB.GetLocalPoint(c);this.localAxisA=this.bodyA.GetLocalVector(d);this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()};Box2D.inherit(C,Box2D.Dynamics.Joints.b2Joint);
C.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype;C.b2PulleyJoint=function(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_groundAnchor1=new d;this.m_groundAnchor2=new d;this.m_localAnchor1=new d;this.m_localAnchor2=new d;this.m_u1=new d;this.m_u2=new d};C.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};C.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};C.prototype.GetReactionForce=function(a){void 0===
a&&(a=0);return new d(a*this.m_impulse*this.m_u2.x,a*this.m_impulse*this.m_u2.y)};C.prototype.GetReactionTorque=function(a){return 0};C.prototype.GetGroundAnchorA=function(){var a=this.m_ground.m_xf.position.Copy();a.Add(this.m_groundAnchor1);return a};C.prototype.GetGroundAnchorB=function(){var a=this.m_ground.m_xf.position.Copy();a.Add(this.m_groundAnchor2);return a};C.prototype.GetLength1=function(){var a=this.m_bodyA.GetWorldPoint(this.m_localAnchor1),b=a.x-(this.m_ground.m_xf.position.x+this.m_groundAnchor1.x),
a=a.y-(this.m_ground.m_xf.position.y+this.m_groundAnchor1.y);return Math.sqrt(b*b+a*a)};C.prototype.GetLength2=function(){var a=this.m_bodyB.GetWorldPoint(this.m_localAnchor2),b=a.x-(this.m_ground.m_xf.position.x+this.m_groundAnchor2.x),a=a.y-(this.m_ground.m_xf.position.y+this.m_groundAnchor2.y);return Math.sqrt(b*b+a*a)};C.prototype.GetRatio=function(){return this.m_ratio};C.prototype.b2PulleyJoint=function(a){this.__super.b2Joint.call(this,a);this.m_ground=this.m_bodyA.m_world.m_groundBody;this.m_groundAnchor1.x=
a.groundAnchorA.x-this.m_ground.m_xf.position.x;this.m_groundAnchor1.y=a.groundAnchorA.y-this.m_ground.m_xf.position.y;this.m_groundAnchor2.x=a.groundAnchorB.x-this.m_ground.m_xf.position.x;this.m_groundAnchor2.y=a.groundAnchorB.y-this.m_ground.m_xf.position.y;this.m_localAnchor1.SetV(a.localAnchorA);this.m_localAnchor2.SetV(a.localAnchorB);this.m_ratio=a.ratio;this.m_constant=a.lengthA+this.m_ratio*a.lengthB;this.m_maxLength1=h.Min(a.maxLengthA,this.m_constant-this.m_ratio*C.b2_minPulleyLength);
this.m_maxLength2=h.Min(a.maxLengthB,(this.m_constant-C.b2_minPulleyLength)/this.m_ratio);this.m_limitImpulse2=this.m_limitImpulse1=this.m_impulse=0};C.prototype.InitVelocityConstraints=function(a){var b=this.m_bodyA,d=this.m_bodyB,e;e=b.m_xf.R;var f=this.m_localAnchor1.x-b.m_sweep.localCenter.x,g=this.m_localAnchor1.y-b.m_sweep.localCenter.y,h=e.col1.x*f+e.col2.x*g,g=e.col1.y*f+e.col2.y*g,f=h;e=d.m_xf.R;var k=this.m_localAnchor2.x-d.m_sweep.localCenter.x,r=this.m_localAnchor2.y-d.m_sweep.localCenter.y,
h=e.col1.x*k+e.col2.x*r,r=e.col1.y*k+e.col2.y*r,k=h;e=d.m_sweep.c.x+k;var h=d.m_sweep.c.y+r,m=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,n=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y;this.m_u1.Set(b.m_sweep.c.x+f-(this.m_ground.m_xf.position.x+this.m_groundAnchor1.x),b.m_sweep.c.y+g-(this.m_ground.m_xf.position.y+this.m_groundAnchor1.y));this.m_u2.Set(e-m,h-n);e=this.m_u1.Length();h=this.m_u2.Length();e>c.b2_linearSlop?this.m_u1.Multiply(1/e):this.m_u1.SetZero();h>c.b2_linearSlop?
this.m_u2.Multiply(1/h):this.m_u2.SetZero();0<this.m_constant-e-this.m_ratio*h?(this.m_y3=t.e_inactiveLimit,this.m_impulse=0):this.m_y3=t.e_atUpperLimit;e<this.m_maxLength1?(this.m_limitState1=t.e_inactiveLimit,this.m_limitImpulse1=0):this.m_limitState1=t.e_atUpperLimit;h<this.m_maxLength2?(this.m_limitState2=t.e_inactiveLimit,this.m_limitImpulse2=0):this.m_limitState2=t.e_atUpperLimit;e=f*this.m_u1.y-g*this.m_u1.x;h=k*this.m_u2.y-r*this.m_u2.x;this.m_limitMass1=b.m_invMass+b.m_invI*e*e;this.m_limitMass2=
d.m_invMass+d.m_invI*h*h;this.m_pulleyMass=this.m_limitMass1+this.m_ratio*this.m_ratio*this.m_limitMass2;this.m_limitMass1=1/this.m_limitMass1;this.m_limitMass2=1/this.m_limitMass2;this.m_pulleyMass=1/this.m_pulleyMass;a.warmStarting?(this.m_impulse*=a.dtRatio,this.m_limitImpulse1*=a.dtRatio,this.m_limitImpulse2*=a.dtRatio,a=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.x,e=(-this.m_impulse-this.m_limitImpulse1)*this.m_u1.y,h=(-this.m_ratio*this.m_impulse-this.m_limitImpulse2)*this.m_u2.x,m=(-this.m_ratio*
this.m_impulse-this.m_limitImpulse2)*this.m_u2.y,b.m_linearVelocity.x+=b.m_invMass*a,b.m_linearVelocity.y+=b.m_invMass*e,b.m_angularVelocity+=b.m_invI*(f*e-g*a),d.m_linearVelocity.x+=d.m_invMass*h,d.m_linearVelocity.y+=d.m_invMass*m,d.m_angularVelocity+=d.m_invI*(k*m-r*h)):this.m_limitImpulse2=this.m_limitImpulse1=this.m_impulse=0};C.prototype.SolveVelocityConstraints=function(a){a=this.m_bodyA;var b=this.m_bodyB,c;c=a.m_xf.R;var d=this.m_localAnchor1.x-a.m_sweep.localCenter.x,e=this.m_localAnchor1.y-
a.m_sweep.localCenter.y,f=c.col1.x*d+c.col2.x*e,e=c.col1.y*d+c.col2.y*e,d=f;c=b.m_xf.R;var g=this.m_localAnchor2.x-b.m_sweep.localCenter.x,k=this.m_localAnchor2.y-b.m_sweep.localCenter.y,f=c.col1.x*g+c.col2.x*k,k=c.col1.y*g+c.col2.y*k,g=f,r=f=c=0,m=0;c=m=c=m=r=f=c=0;this.m_y3==t.e_atUpperLimit&&(c=a.m_linearVelocity.x+-a.m_angularVelocity*e,f=a.m_linearVelocity.y+a.m_angularVelocity*d,r=b.m_linearVelocity.x+-b.m_angularVelocity*k,m=b.m_linearVelocity.y+b.m_angularVelocity*g,c=-(this.m_u1.x*c+this.m_u1.y*
f)-this.m_ratio*(this.m_u2.x*r+this.m_u2.y*m),m=this.m_pulleyMass*-c,c=this.m_impulse,this.m_impulse=h.Max(0,this.m_impulse+m),m=this.m_impulse-c,c=-m*this.m_u1.x,f=-m*this.m_u1.y,r=-this.m_ratio*m*this.m_u2.x,m=-this.m_ratio*m*this.m_u2.y,a.m_linearVelocity.x+=a.m_invMass*c,a.m_linearVelocity.y+=a.m_invMass*f,a.m_angularVelocity+=a.m_invI*(d*f-e*c),b.m_linearVelocity.x+=b.m_invMass*r,b.m_linearVelocity.y+=b.m_invMass*m,b.m_angularVelocity+=b.m_invI*(g*m-k*r));this.m_limitState1==t.e_atUpperLimit&&
(c=a.m_linearVelocity.x+-a.m_angularVelocity*e,f=a.m_linearVelocity.y+a.m_angularVelocity*d,c=-(this.m_u1.x*c+this.m_u1.y*f),m=-this.m_limitMass1*c,c=this.m_limitImpulse1,this.m_limitImpulse1=h.Max(0,this.m_limitImpulse1+m),m=this.m_limitImpulse1-c,c=-m*this.m_u1.x,f=-m*this.m_u1.y,a.m_linearVelocity.x+=a.m_invMass*c,a.m_linearVelocity.y+=a.m_invMass*f,a.m_angularVelocity+=a.m_invI*(d*f-e*c));this.m_limitState2==t.e_atUpperLimit&&(r=b.m_linearVelocity.x+-b.m_angularVelocity*k,m=b.m_linearVelocity.y+
b.m_angularVelocity*g,c=-(this.m_u2.x*r+this.m_u2.y*m),m=-this.m_limitMass2*c,c=this.m_limitImpulse2,this.m_limitImpulse2=h.Max(0,this.m_limitImpulse2+m),m=this.m_limitImpulse2-c,r=-m*this.m_u2.x,m=-m*this.m_u2.y,b.m_linearVelocity.x+=b.m_invMass*r,b.m_linearVelocity.y+=b.m_invMass*m,b.m_angularVelocity+=b.m_invI*(g*m-k*r))};C.prototype.SolvePositionConstraints=function(a){a=this.m_bodyA;var b=this.m_bodyB,d,e=this.m_ground.m_xf.position.x+this.m_groundAnchor1.x,f=this.m_ground.m_xf.position.y+this.m_groundAnchor1.y,
g=this.m_ground.m_xf.position.x+this.m_groundAnchor2.x,k=this.m_ground.m_xf.position.y+this.m_groundAnchor2.y,m=0,r=0,n=0,q=0,s=d=0,w=0,x=0,y=s=x=d=s=d=0;this.m_y3==t.e_atUpperLimit&&(d=a.m_xf.R,m=this.m_localAnchor1.x-a.m_sweep.localCenter.x,r=this.m_localAnchor1.y-a.m_sweep.localCenter.y,s=d.col1.x*m+d.col2.x*r,r=d.col1.y*m+d.col2.y*r,m=s,d=b.m_xf.R,n=this.m_localAnchor2.x-b.m_sweep.localCenter.x,q=this.m_localAnchor2.y-b.m_sweep.localCenter.y,s=d.col1.x*n+d.col2.x*q,q=d.col1.y*n+d.col2.y*q,n=s,
d=a.m_sweep.c.x+m,s=a.m_sweep.c.y+r,w=b.m_sweep.c.x+n,x=b.m_sweep.c.y+q,this.m_u1.Set(d-e,s-f),this.m_u2.Set(w-g,x-k),d=this.m_u1.Length(),s=this.m_u2.Length(),d>c.b2_linearSlop?this.m_u1.Multiply(1/d):this.m_u1.SetZero(),s>c.b2_linearSlop?this.m_u2.Multiply(1/s):this.m_u2.SetZero(),d=this.m_constant-d-this.m_ratio*s,y=h.Max(y,-d),d=h.Clamp(d+c.b2_linearSlop,-c.b2_maxLinearCorrection,0),x=-this.m_pulleyMass*d,d=-x*this.m_u1.x,s=-x*this.m_u1.y,w=-this.m_ratio*x*this.m_u2.x,x=-this.m_ratio*x*this.m_u2.y,
a.m_sweep.c.x+=a.m_invMass*d,a.m_sweep.c.y+=a.m_invMass*s,a.m_sweep.a+=a.m_invI*(m*s-r*d),b.m_sweep.c.x+=b.m_invMass*w,b.m_sweep.c.y+=b.m_invMass*x,b.m_sweep.a+=b.m_invI*(n*x-q*w),a.SynchronizeTransform(),b.SynchronizeTransform());this.m_limitState1==t.e_atUpperLimit&&(d=a.m_xf.R,m=this.m_localAnchor1.x-a.m_sweep.localCenter.x,r=this.m_localAnchor1.y-a.m_sweep.localCenter.y,s=d.col1.x*m+d.col2.x*r,r=d.col1.y*m+d.col2.y*r,m=s,d=a.m_sweep.c.x+m,s=a.m_sweep.c.y+r,this.m_u1.Set(d-e,s-f),d=this.m_u1.Length(),
d>c.b2_linearSlop?(this.m_u1.x*=1/d,this.m_u1.y*=1/d):this.m_u1.SetZero(),d=this.m_maxLength1-d,y=h.Max(y,-d),d=h.Clamp(d+c.b2_linearSlop,-c.b2_maxLinearCorrection,0),x=-this.m_limitMass1*d,d=-x*this.m_u1.x,s=-x*this.m_u1.y,a.m_sweep.c.x+=a.m_invMass*d,a.m_sweep.c.y+=a.m_invMass*s,a.m_sweep.a+=a.m_invI*(m*s-r*d),a.SynchronizeTransform());this.m_limitState2==t.e_atUpperLimit&&(d=b.m_xf.R,n=this.m_localAnchor2.x-b.m_sweep.localCenter.x,q=this.m_localAnchor2.y-b.m_sweep.localCenter.y,s=d.col1.x*n+d.col2.x*
q,q=d.col1.y*n+d.col2.y*q,n=s,w=b.m_sweep.c.x+n,x=b.m_sweep.c.y+q,this.m_u2.Set(w-g,x-k),s=this.m_u2.Length(),s>c.b2_linearSlop?(this.m_u2.x*=1/s,this.m_u2.y*=1/s):this.m_u2.SetZero(),d=this.m_maxLength2-s,y=h.Max(y,-d),d=h.Clamp(d+c.b2_linearSlop,-c.b2_maxLinearCorrection,0),x=-this.m_limitMass2*d,w=-x*this.m_u2.x,x=-x*this.m_u2.y,b.m_sweep.c.x+=b.m_invMass*w,b.m_sweep.c.y+=b.m_invMass*x,b.m_sweep.a+=b.m_invI*(n*x-q*w),b.SynchronizeTransform());return y<c.b2_linearSlop};Box2D.postDefs.push(function(){Box2D.Dynamics.Joints.b2PulleyJoint.b2_minPulleyLength=
2});Box2D.inherit(K,Box2D.Dynamics.Joints.b2JointDef);K.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype;K.b2PulleyJointDef=function(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.groundAnchorA=new d;this.groundAnchorB=new d;this.localAnchorA=new d;this.localAnchorB=new d};K.prototype.b2PulleyJointDef=function(){this.__super.b2JointDef.call(this);this.type=t.e_pulleyJoint;this.groundAnchorA.Set(-1,1);this.groundAnchorB.Set(1,1);this.localAnchorA.Set(-1,0);this.localAnchorB.Set(1,
0);this.maxLengthB=this.lengthB=this.maxLengthA=this.lengthA=0;this.ratio=1;this.collideConnected=!0};K.prototype.Initialize=function(a,b,c,d,e,f,g){void 0===g&&(g=0);this.bodyA=a;this.bodyB=b;this.groundAnchorA.SetV(c);this.groundAnchorB.SetV(d);this.localAnchorA=this.bodyA.GetLocalPoint(e);this.localAnchorB=this.bodyB.GetLocalPoint(f);a=e.x-c.x;c=e.y-c.y;this.lengthA=Math.sqrt(a*a+c*c);c=f.x-d.x;d=f.y-d.y;this.lengthB=Math.sqrt(c*c+d*d);this.ratio=g;g=this.lengthA+this.ratio*this.lengthB;this.maxLengthA=
g-this.ratio*C.b2_minPulleyLength;this.maxLengthB=(g-C.b2_minPulleyLength)/this.ratio};Box2D.inherit(F,Box2D.Dynamics.Joints.b2Joint);F.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype;F.b2RevoluteJoint=function(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.K=new a;this.K1=new a;this.K2=new a;this.K3=new a;this.impulse3=new e;this.impulse2=new d;this.reduced=new d;this.m_localAnchor1=new d;this.m_localAnchor2=new d;this.m_impulse=new e;this.m_mass=new b};F.prototype.GetAnchorA=
function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchor1)};F.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchor2)};F.prototype.GetReactionForce=function(a){void 0===a&&(a=0);return new d(a*this.m_impulse.x,a*this.m_impulse.y)};F.prototype.GetReactionTorque=function(a){void 0===a&&(a=0);return a*this.m_impulse.z};F.prototype.GetJointAngle=function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle};F.prototype.GetJointSpeed=function(){return this.m_bodyB.m_angularVelocity-
this.m_bodyA.m_angularVelocity};F.prototype.IsLimitEnabled=function(){return this.m_enableLimit};F.prototype.EnableLimit=function(a){this.m_enableLimit=a};F.prototype.GetLowerLimit=function(){return this.m_lowerAngle};F.prototype.GetUpperLimit=function(){return this.m_upperAngle};F.prototype.SetLimits=function(a,b){void 0===a&&(a=0);void 0===b&&(b=0);this.m_lowerAngle=a;this.m_upperAngle=b};F.prototype.IsMotorEnabled=function(){this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);return this.m_enableMotor};
F.prototype.EnableMotor=function(a){this.m_enableMotor=a};F.prototype.SetMotorSpeed=function(a){void 0===a&&(a=0);this.m_bodyA.SetAwake(!0);this.m_bodyB.SetAwake(!0);this.m_motorSpeed=a};F.prototype.GetMotorSpeed=function(){return this.m_motorSpeed};F.prototype.SetMaxMotorTorque=function(a){void 0===a&&(a=0);this.m_maxMotorTorque=a};F.prototype.GetMotorTorque=function(){return this.m_maxMotorTorque};F.prototype.b2RevoluteJoint=function(a){this.__super.b2Joint.call(this,a);this.m_localAnchor1.SetV(a.localAnchorA);
this.m_localAnchor2.SetV(a.localAnchorB);this.m_referenceAngle=a.referenceAngle;this.m_impulse.SetZero();this.m_motorImpulse=0;this.m_lowerAngle=a.lowerAngle;this.m_upperAngle=a.upperAngle;this.m_maxMotorTorque=a.maxMotorTorque;this.m_motorSpeed=a.motorSpeed;this.m_enableLimit=a.enableLimit;this.m_enableMotor=a.enableMotor;this.m_limitState=t.e_inactiveLimit};F.prototype.InitVelocityConstraints=function(a){var b=this.m_bodyA,d=this.m_bodyB,e,f=0;e=b.m_xf.R;var g=this.m_localAnchor1.x-b.m_sweep.localCenter.x,
k=this.m_localAnchor1.y-b.m_sweep.localCenter.y,f=e.col1.x*g+e.col2.x*k,k=e.col1.y*g+e.col2.y*k,g=f;e=d.m_xf.R;var m=this.m_localAnchor2.x-d.m_sweep.localCenter.x,r=this.m_localAnchor2.y-d.m_sweep.localCenter.y,f=e.col1.x*m+e.col2.x*r,r=e.col1.y*m+e.col2.y*r,m=f;e=b.m_invMass;var f=d.m_invMass,n=b.m_invI,q=d.m_invI;this.m_mass.col1.x=e+f+k*k*n+r*r*q;this.m_mass.col2.x=-k*g*n-r*m*q;this.m_mass.col3.x=-k*n-r*q;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=e+f+g*g*n+m*m*q;this.m_mass.col3.y=
g*n+m*q;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=n+q;this.m_motorMass=1/(n+q);!1==this.m_enableMotor&&(this.m_motorImpulse=0);if(this.m_enableLimit){var s=d.m_sweep.a-b.m_sweep.a-this.m_referenceAngle;h.Abs(this.m_upperAngle-this.m_lowerAngle)<2*c.b2_angularSlop?this.m_limitState=t.e_equalLimits:s<=this.m_lowerAngle?(this.m_limitState!=t.e_atLowerLimit&&(this.m_impulse.z=0),this.m_limitState=t.e_atLowerLimit):s>=this.m_upperAngle?(this.m_limitState!=
t.e_atUpperLimit&&(this.m_impulse.z=0),this.m_limitState=t.e_atUpperLimit):(this.m_limitState=t.e_inactiveLimit,this.m_impulse.z=0)}else this.m_limitState=t.e_inactiveLimit;a.warmStarting?(this.m_impulse.x*=a.dtRatio,this.m_impulse.y*=a.dtRatio,this.m_motorImpulse*=a.dtRatio,a=this.m_impulse.x,s=this.m_impulse.y,b.m_linearVelocity.x-=e*a,b.m_linearVelocity.y-=e*s,b.m_angularVelocity-=n*(g*s-k*a+this.m_motorImpulse+this.m_impulse.z),d.m_linearVelocity.x+=f*a,d.m_linearVelocity.y+=f*s,d.m_angularVelocity+=
q*(m*s-r*a+this.m_motorImpulse+this.m_impulse.z)):(this.m_impulse.SetZero(),this.m_motorImpulse=0)};F.prototype.SolveVelocityConstraints=function(a){var b=this.m_bodyA,c=this.m_bodyB,d=0,e=d=0,f=0,g=0,k=0,m=b.m_linearVelocity,n=b.m_angularVelocity,q=c.m_linearVelocity,s=c.m_angularVelocity,w=b.m_invMass,x=c.m_invMass,y=b.m_invI,z=c.m_invI;this.m_enableMotor&&this.m_limitState!=t.e_equalLimits&&(e=this.m_motorMass*-(s-n-this.m_motorSpeed),f=this.m_motorImpulse,g=a.dt*this.m_maxMotorTorque,this.m_motorImpulse=
h.Clamp(this.m_motorImpulse+e,-g,g),e=this.m_motorImpulse-f,n-=y*e,s+=z*e);if(this.m_enableLimit&&this.m_limitState!=t.e_inactiveLimit){a=b.m_xf.R;e=this.m_localAnchor1.x-b.m_sweep.localCenter.x;f=this.m_localAnchor1.y-b.m_sweep.localCenter.y;d=a.col1.x*e+a.col2.x*f;f=a.col1.y*e+a.col2.y*f;e=d;a=c.m_xf.R;g=this.m_localAnchor2.x-c.m_sweep.localCenter.x;k=this.m_localAnchor2.y-c.m_sweep.localCenter.y;d=a.col1.x*g+a.col2.x*k;k=a.col1.y*g+a.col2.y*k;g=d;a=q.x+-s*k-m.x- -n*f;var A=q.y+s*g-m.y-n*e;this.m_mass.Solve33(this.impulse3,
-a,-A,-(s-n));this.m_limitState==t.e_equalLimits?this.m_impulse.Add(this.impulse3):this.m_limitState==t.e_atLowerLimit?(d=this.m_impulse.z+this.impulse3.z,0>d&&(this.m_mass.Solve22(this.reduced,-a,-A),this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0)):this.m_limitState==t.e_atUpperLimit&&(d=this.m_impulse.z+this.impulse3.z,0<d&&(this.m_mass.Solve22(this.reduced,-a,-A),
this.impulse3.x=this.reduced.x,this.impulse3.y=this.reduced.y,this.impulse3.z=-this.m_impulse.z,this.m_impulse.x+=this.reduced.x,this.m_impulse.y+=this.reduced.y,this.m_impulse.z=0));m.x-=w*this.impulse3.x;m.y-=w*this.impulse3.y;n-=y*(e*this.impulse3.y-f*this.impulse3.x+this.impulse3.z);q.x+=x*this.impulse3.x;q.y+=x*this.impulse3.y;s+=z*(g*this.impulse3.y-k*this.impulse3.x+this.impulse3.z)}else a=b.m_xf.R,e=this.m_localAnchor1.x-b.m_sweep.localCenter.x,f=this.m_localAnchor1.y-b.m_sweep.localCenter.y,
d=a.col1.x*e+a.col2.x*f,f=a.col1.y*e+a.col2.y*f,e=d,a=c.m_xf.R,g=this.m_localAnchor2.x-c.m_sweep.localCenter.x,k=this.m_localAnchor2.y-c.m_sweep.localCenter.y,d=a.col1.x*g+a.col2.x*k,k=a.col1.y*g+a.col2.y*k,g=d,this.m_mass.Solve22(this.impulse2,-(q.x+-s*k-m.x- -n*f),-(q.y+s*g-m.y-n*e)),this.m_impulse.x+=this.impulse2.x,this.m_impulse.y+=this.impulse2.y,m.x-=w*this.impulse2.x,m.y-=w*this.impulse2.y,n-=y*(e*this.impulse2.y-f*this.impulse2.x),q.x+=x*this.impulse2.x,q.y+=x*this.impulse2.y,s+=z*(g*this.impulse2.y-
k*this.impulse2.x);b.m_linearVelocity.SetV(m);b.m_angularVelocity=n;c.m_linearVelocity.SetV(q);c.m_angularVelocity=s};F.prototype.SolvePositionConstraints=function(a){var b=0,d;a=this.m_bodyA;var e=this.m_bodyB,f=0,g=d=0,k=0,m=0;if(this.m_enableLimit&&this.m_limitState!=t.e_inactiveLimit){var b=e.m_sweep.a-a.m_sweep.a-this.m_referenceAngle,n=0;this.m_limitState==t.e_equalLimits?(b=h.Clamp(b-this.m_lowerAngle,-c.b2_maxAngularCorrection,c.b2_maxAngularCorrection),n=-this.m_motorMass*b,f=h.Abs(b)):this.m_limitState==
t.e_atLowerLimit?(b-=this.m_lowerAngle,f=-b,b=h.Clamp(b+c.b2_angularSlop,-c.b2_maxAngularCorrection,0),n=-this.m_motorMass*b):this.m_limitState==t.e_atUpperLimit&&(f=b-=this.m_upperAngle,b=h.Clamp(b-c.b2_angularSlop,0,c.b2_maxAngularCorrection),n=-this.m_motorMass*b);a.m_sweep.a-=a.m_invI*n;e.m_sweep.a+=e.m_invI*n;a.SynchronizeTransform();e.SynchronizeTransform()}d=a.m_xf.R;n=this.m_localAnchor1.x-a.m_sweep.localCenter.x;b=this.m_localAnchor1.y-a.m_sweep.localCenter.y;g=d.col1.x*n+d.col2.x*b;b=d.col1.y*
n+d.col2.y*b;n=g;d=e.m_xf.R;var q=this.m_localAnchor2.x-e.m_sweep.localCenter.x,s=this.m_localAnchor2.y-e.m_sweep.localCenter.y,g=d.col1.x*q+d.col2.x*s,s=d.col1.y*q+d.col2.y*s,q=g,k=e.m_sweep.c.x+q-a.m_sweep.c.x-n,m=e.m_sweep.c.y+s-a.m_sweep.c.y-b,w=k*k+m*m;d=Math.sqrt(w);var g=a.m_invMass,x=e.m_invMass,y=a.m_invI,z=e.m_invI,A=10*c.b2_linearSlop;w>A*A&&(w=1/(g+x),k=w*-k,m=w*-m,a.m_sweep.c.x-=0.5*g*k,a.m_sweep.c.y-=0.5*g*m,e.m_sweep.c.x+=0.5*x*k,e.m_sweep.c.y+=0.5*x*m,k=e.m_sweep.c.x+q-a.m_sweep.c.x-
n,m=e.m_sweep.c.y+s-a.m_sweep.c.y-b);this.K1.col1.x=g+x;this.K1.col2.x=0;this.K1.col1.y=0;this.K1.col2.y=g+x;this.K2.col1.x=y*b*b;this.K2.col2.x=-y*n*b;this.K2.col1.y=-y*n*b;this.K2.col2.y=y*n*n;this.K3.col1.x=z*s*s;this.K3.col2.x=-z*q*s;this.K3.col1.y=-z*q*s;this.K3.col2.y=z*q*q;this.K.SetM(this.K1);this.K.AddM(this.K2);this.K.AddM(this.K3);this.K.Solve(F.tImpulse,-k,-m);k=F.tImpulse.x;m=F.tImpulse.y;a.m_sweep.c.x-=a.m_invMass*k;a.m_sweep.c.y-=a.m_invMass*m;a.m_sweep.a-=a.m_invI*(n*m-b*k);e.m_sweep.c.x+=
e.m_invMass*k;e.m_sweep.c.y+=e.m_invMass*m;e.m_sweep.a+=e.m_invI*(q*m-s*k);a.SynchronizeTransform();e.SynchronizeTransform();return d<=c.b2_linearSlop&&f<=c.b2_angularSlop};Box2D.postDefs.push(function(){Box2D.Dynamics.Joints.b2RevoluteJoint.tImpulse=new d});Box2D.inherit(I,Box2D.Dynamics.Joints.b2JointDef);I.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype;I.b2RevoluteJointDef=function(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.localAnchorA=new d;this.localAnchorB=
new d};I.prototype.b2RevoluteJointDef=function(){this.__super.b2JointDef.call(this);this.type=t.e_revoluteJoint;this.localAnchorA.Set(0,0);this.localAnchorB.Set(0,0);this.motorSpeed=this.maxMotorTorque=this.upperAngle=this.lowerAngle=this.referenceAngle=0;this.enableMotor=this.enableLimit=!1};I.prototype.Initialize=function(a,b,c){this.bodyA=a;this.bodyB=b;this.localAnchorA=this.bodyA.GetLocalPoint(c);this.localAnchorB=this.bodyB.GetLocalPoint(c);this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()};
Box2D.inherit(N,Box2D.Dynamics.Joints.b2Joint);N.prototype.__super=Box2D.Dynamics.Joints.b2Joint.prototype;N.b2WeldJoint=function(){Box2D.Dynamics.Joints.b2Joint.b2Joint.apply(this,arguments);this.m_localAnchorA=new d;this.m_localAnchorB=new d;this.m_impulse=new e;this.m_mass=new b};N.prototype.GetAnchorA=function(){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA)};N.prototype.GetAnchorB=function(){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB)};N.prototype.GetReactionForce=function(a){void 0===
a&&(a=0);return new d(a*this.m_impulse.x,a*this.m_impulse.y)};N.prototype.GetReactionTorque=function(a){void 0===a&&(a=0);return a*this.m_impulse.z};N.prototype.b2WeldJoint=function(a){this.__super.b2Joint.call(this,a);this.m_localAnchorA.SetV(a.localAnchorA);this.m_localAnchorB.SetV(a.localAnchorB);this.m_referenceAngle=a.referenceAngle;this.m_impulse.SetZero();this.m_mass=new b};N.prototype.InitVelocityConstraints=function(a){var b,c=0,d=this.m_bodyA,e=this.m_bodyB;b=d.m_xf.R;var f=this.m_localAnchorA.x-
d.m_sweep.localCenter.x,g=this.m_localAnchorA.y-d.m_sweep.localCenter.y,c=b.col1.x*f+b.col2.x*g,g=b.col1.y*f+b.col2.y*g,f=c;b=e.m_xf.R;var h=this.m_localAnchorB.x-e.m_sweep.localCenter.x,k=this.m_localAnchorB.y-e.m_sweep.localCenter.y,c=b.col1.x*h+b.col2.x*k,k=b.col1.y*h+b.col2.y*k,h=c;b=d.m_invMass;var c=e.m_invMass,m=d.m_invI,n=e.m_invI;this.m_mass.col1.x=b+c+g*g*m+k*k*n;this.m_mass.col2.x=-g*f*m-k*h*n;this.m_mass.col3.x=-g*m-k*n;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=b+c+f*f*
m+h*h*n;this.m_mass.col3.y=f*m+h*n;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=m+n;a.warmStarting?(this.m_impulse.x*=a.dtRatio,this.m_impulse.y*=a.dtRatio,this.m_impulse.z*=a.dtRatio,d.m_linearVelocity.x-=b*this.m_impulse.x,d.m_linearVelocity.y-=b*this.m_impulse.y,d.m_angularVelocity-=m*(f*this.m_impulse.y-g*this.m_impulse.x+this.m_impulse.z),e.m_linearVelocity.x+=c*this.m_impulse.x,e.m_linearVelocity.y+=c*this.m_impulse.y,e.m_angularVelocity+=n*
(h*this.m_impulse.y-k*this.m_impulse.x+this.m_impulse.z)):this.m_impulse.SetZero()};N.prototype.SolveVelocityConstraints=function(a){var b,c=0;a=this.m_bodyA;var d=this.m_bodyB,f=a.m_linearVelocity,g=a.m_angularVelocity,h=d.m_linearVelocity,k=d.m_angularVelocity,m=a.m_invMass,n=d.m_invMass,q=a.m_invI,s=d.m_invI;b=a.m_xf.R;var t=this.m_localAnchorA.x-a.m_sweep.localCenter.x,w=this.m_localAnchorA.y-a.m_sweep.localCenter.y,c=b.col1.x*t+b.col2.x*w,w=b.col1.y*t+b.col2.y*w,t=c;b=d.m_xf.R;var x=this.m_localAnchorB.x-
d.m_sweep.localCenter.x,y=this.m_localAnchorB.y-d.m_sweep.localCenter.y,c=b.col1.x*x+b.col2.x*y,y=b.col1.y*x+b.col2.y*y,x=c;b=h.x-k*y-f.x+g*w;var c=h.y+k*x-f.y-g*t,z=k-g,A=new e;this.m_mass.Solve33(A,-b,-c,-z);this.m_impulse.Add(A);f.x-=m*A.x;f.y-=m*A.y;g-=q*(t*A.y-w*A.x+A.z);h.x+=n*A.x;h.y+=n*A.y;k+=s*(x*A.y-y*A.x+A.z);a.m_angularVelocity=g;d.m_angularVelocity=k};N.prototype.SolvePositionConstraints=function(a){var b,d=0;a=this.m_bodyA;var f=this.m_bodyB;b=a.m_xf.R;var g=this.m_localAnchorA.x-a.m_sweep.localCenter.x,
k=this.m_localAnchorA.y-a.m_sweep.localCenter.y,d=b.col1.x*g+b.col2.x*k,k=b.col1.y*g+b.col2.y*k,g=d;b=f.m_xf.R;var m=this.m_localAnchorB.x-f.m_sweep.localCenter.x,n=this.m_localAnchorB.y-f.m_sweep.localCenter.y,d=b.col1.x*m+b.col2.x*n,n=b.col1.y*m+b.col2.y*n,m=d;b=a.m_invMass;var d=f.m_invMass,q=a.m_invI,s=f.m_invI,t=f.m_sweep.c.x+m-a.m_sweep.c.x-g,w=f.m_sweep.c.y+n-a.m_sweep.c.y-k,x=f.m_sweep.a-a.m_sweep.a-this.m_referenceAngle,y=10*c.b2_linearSlop,z=Math.sqrt(t*t+w*w),A=h.Abs(x);z>y&&(q*=1,s*=1);
this.m_mass.col1.x=b+d+k*k*q+n*n*s;this.m_mass.col2.x=-k*g*q-n*m*s;this.m_mass.col3.x=-k*q-n*s;this.m_mass.col1.y=this.m_mass.col2.x;this.m_mass.col2.y=b+d+g*g*q+m*m*s;this.m_mass.col3.y=g*q+m*s;this.m_mass.col1.z=this.m_mass.col3.x;this.m_mass.col2.z=this.m_mass.col3.y;this.m_mass.col3.z=q+s;y=new e;this.m_mass.Solve33(y,-t,-w,-x);a.m_sweep.c.x-=b*y.x;a.m_sweep.c.y-=b*y.y;a.m_sweep.a-=q*(g*y.y-k*y.x+y.z);f.m_sweep.c.x+=d*y.x;f.m_sweep.c.y+=d*y.y;f.m_sweep.a+=s*(m*y.y-n*y.x+y.z);a.SynchronizeTransform();
f.SynchronizeTransform();return z<=c.b2_linearSlop&&A<=c.b2_angularSlop};Box2D.inherit(L,Box2D.Dynamics.Joints.b2JointDef);L.prototype.__super=Box2D.Dynamics.Joints.b2JointDef.prototype;L.b2WeldJointDef=function(){Box2D.Dynamics.Joints.b2JointDef.b2JointDef.apply(this,arguments);this.localAnchorA=new d;this.localAnchorB=new d};L.prototype.b2WeldJointDef=function(){this.__super.b2JointDef.call(this);this.type=t.e_weldJoint;this.referenceAngle=0};L.prototype.Initialize=function(a,b,c){this.bodyA=a;
this.bodyB=b;this.localAnchorA.SetV(this.bodyA.GetLocalPoint(c));this.localAnchorB.SetV(this.bodyB.GetLocalPoint(c));this.referenceAngle=this.bodyB.GetAngle()-this.bodyA.GetAngle()}})();
(function(){var c=Box2D.Dynamics.b2DebugDraw;c.b2DebugDraw=function(){this.m_xformScale=this.m_fillAlpha=this.m_alpha=this.m_lineThickness=this.m_drawScale=1;var a=this;this.m_sprite={graphics:{clear:function(){a.m_ctx.clearRect(0,0,a.m_ctx.canvas.width,a.m_ctx.canvas.height)}}}};c.prototype._color=function(a,b){return"rgba("+((a&16711680)>>16)+","+((a&65280)>>8)+","+(a&255)+","+b+")"};c.prototype.b2DebugDraw=function(){this.m_drawFlags=0};c.prototype.SetFlags=function(a){void 0===a&&(a=0);this.m_drawFlags=
a};c.prototype.GetFlags=function(){return this.m_drawFlags};c.prototype.AppendFlags=function(a){void 0===a&&(a=0);this.m_drawFlags|=a};c.prototype.ClearFlags=function(a){void 0===a&&(a=0);this.m_drawFlags&=~a};c.prototype.SetSprite=function(a){this.m_ctx=a};c.prototype.GetSprite=function(){return this.m_ctx};c.prototype.SetDrawScale=function(a){void 0===a&&(a=0);this.m_drawScale=a};c.prototype.GetDrawScale=function(){return this.m_drawScale};c.prototype.SetLineThickness=function(a){void 0===a&&(a=
0);this.m_lineThickness=a;this.m_ctx.strokeWidth=a};c.prototype.GetLineThickness=function(){return this.m_lineThickness};c.prototype.SetAlpha=function(a){void 0===a&&(a=0);this.m_alpha=a};c.prototype.GetAlpha=function(){return this.m_alpha};c.prototype.SetFillAlpha=function(a){void 0===a&&(a=0);this.m_fillAlpha=a};c.prototype.GetFillAlpha=function(){return this.m_fillAlpha};c.prototype.SetXFormScale=function(a){void 0===a&&(a=0);this.m_xformScale=a};c.prototype.GetXFormScale=function(){return this.m_xformScale};
c.prototype.DrawPolygon=function(a,b,c){if(b){var d=this.m_ctx,e=this.m_drawScale;d.beginPath();d.strokeStyle=this._color(c.color,this.m_alpha);d.moveTo(a[0].x*e,a[0].y*e);for(c=1;c<b;c++)d.lineTo(a[c].x*e,a[c].y*e);d.lineTo(a[0].x*e,a[0].y*e);d.closePath();d.stroke()}};c.prototype.DrawSolidPolygon=function(a,b,c){if(b){var d=this.m_ctx,e=this.m_drawScale;d.beginPath();d.strokeStyle=this._color(c.color,this.m_alpha);d.fillStyle=this._color(c.color,this.m_fillAlpha);d.moveTo(a[0].x*e,a[0].y*e);for(c=
1;c<b;c++)d.lineTo(a[c].x*e,a[c].y*e);d.lineTo(a[0].x*e,a[0].y*e);d.closePath();d.fill();d.stroke()}};c.prototype.DrawCircle=function(a,b,c){if(b){var d=this.m_ctx,e=this.m_drawScale;d.beginPath();d.strokeStyle=this._color(c.color,this.m_alpha);d.arc(a.x*e,a.y*e,b*e,0,2*Math.PI,!0);d.closePath();d.stroke()}};c.prototype.DrawSolidCircle=function(a,b,c,d){if(b){var e=this.m_ctx,f=this.m_drawScale,g=a.x*f,k=a.y*f;e.moveTo(0,0);e.beginPath();e.strokeStyle=this._color(d.color,this.m_alpha);e.fillStyle=
this._color(d.color,this.m_fillAlpha);e.arc(g,k,b*f,0,2*Math.PI,!0);e.moveTo(g,k);e.lineTo((a.x+c.x*b)*f,(a.y+c.y*b)*f);e.closePath();e.fill();e.stroke()}};c.prototype.DrawSegment=function(a,b,c){var d=this.m_ctx,e=this.m_drawScale;d.strokeStyle=this._color(c.color,this.m_alpha);d.beginPath();d.moveTo(a.x*e,a.y*e);d.lineTo(b.x*e,b.y*e);d.closePath();d.stroke()};c.prototype.DrawTransform=function(a){var b=this.m_ctx,c=this.m_drawScale;b.beginPath();b.strokeStyle=this._color(16711680,this.m_alpha);
b.moveTo(a.position.x*c,a.position.y*c);b.lineTo((a.position.x+this.m_xformScale*a.R.col1.x)*c,(a.position.y+this.m_xformScale*a.R.col1.y)*c);b.strokeStyle=this._color(65280,this.m_alpha);b.moveTo(a.position.x*c,a.position.y*c);b.lineTo((a.position.x+this.m_xformScale*a.R.col2.x)*c,(a.position.y+this.m_xformScale*a.R.col2.y)*c);b.closePath();b.stroke()}})();var i;for(i=0;i<Box2D.postDefs.length;++i)Box2D.postDefs[i]();delete Box2D.postDefs;
var world,PHYS_SCALE=30,RAD_TO_DEGREES=180/Math.PI,DEGREES_TO_RAD=Math.PI/180,b2Color=Box2D.Common.b2Color,b2internal=Box2D.Common.b2internal,b2Settings=Box2D.Common.b2Settings,b2CircleShape=Box2D.Collision.Shapes.b2CircleShape,b2EdgeChainDef=Box2D.Collision.Shapes.b2EdgeChainDef,b2EdgeShape=Box2D.Collision.Shapes.b2EdgeShape,b2MassData=Box2D.Collision.Shapes.b2MassData,b2PolygonShape=Box2D.Collision.Shapes.b2PolygonShape,b2Shape=Box2D.Collision.Shapes.b2Shape,b2Mat22=Box2D.Common.Math.b2Mat22,b2Mat33=
Box2D.Common.Math.b2Mat33,b2Math=Box2D.Common.Math.b2Math,b2Sweep=Box2D.Common.Math.b2Sweep,b2Transform=Box2D.Common.Math.b2Transform,b2Vec2=Box2D.Common.Math.b2Vec2,b2Vec3=Box2D.Common.Math.b2Vec3,b2Body=Box2D.Dynamics.b2Body,b2BodyDef=Box2D.Dynamics.b2BodyDef,b2ContactFilter=Box2D.Dynamics.b2ContactFilter,b2ContactImpulse=Box2D.Dynamics.b2ContactImpulse,b2ContactListener=Box2D.Dynamics.b2ContactListener,b2ContactManager=Box2D.Dynamics.b2ContactManager,b2DebugDraw=Box2D.Dynamics.b2DebugDraw,b2DestructionListener=
Box2D.Dynamics.b2DestructionListener,b2FilterData=Box2D.Dynamics.b2FilterData,b2Fixture=Box2D.Dynamics.b2Fixture,b2FixtureDef=Box2D.Dynamics.b2FixtureDef,b2Island=Box2D.Dynamics.b2Island,b2TimeStep=Box2D.Dynamics.b2TimeStep,b2World=Box2D.Dynamics.b2World,b2AABB=Box2D.Collision.b2AABB,b2Bound=Box2D.Collision.b2Bound,b2BoundValues=Box2D.Collision.b2BoundValues,b2Collision=Box2D.Collision.b2Collision,b2ContactID=Box2D.Collision.b2ContactID,b2ContactPoint=Box2D.Collision.b2ContactPoint,b2Distance=Box2D.Collision.b2Distance,
b2DistanceInput=Box2D.Collision.b2DistanceInput,b2DistanceOutput=Box2D.Collision.b2DistanceOutput,b2DistanceProxy=Box2D.Collision.b2DistanceProxy,b2DynamicTree=Box2D.Collision.b2DynamicTree,b2DynamicTreeBroadPhase=Box2D.Collision.b2DynamicTreeBroadPhase,b2DynamicTreeNode=Box2D.Collision.b2DynamicTreeNode,b2DynamicTreePair=Box2D.Collision.b2DynamicTreePair,b2Manifold=Box2D.Collision.b2Manifold,b2ManifoldPoint=Box2D.Collision.b2ManifoldPoint,b2Point=Box2D.Collision.b2Point,b2RayCastInput=Box2D.Collision.b2RayCastInput,
b2RayCastOutput=Box2D.Collision.b2RayCastOutput,b2Segment=Box2D.Collision.b2Segment,b2SeparationFunction=Box2D.Collision.b2SeparationFunction,b2Simplex=Box2D.Collision.b2Simplex,b2SimplexCache=Box2D.Collision.b2SimplexCache,b2SimplexVertex=Box2D.Collision.b2SimplexVertex,b2TimeOfImpact=Box2D.Collision.b2TimeOfImpact,b2TOIInput=Box2D.Collision.b2TOIInput,b2WorldManifold=Box2D.Collision.b2WorldManifold,ClipVertex=Box2D.Collision.ClipVertex,Features=Box2D.Collision.Features,IBroadPhase=Box2D.Collision.IBroadPhase,
objA,objB,debugCanvas,debugDraw;
function initPhysics(){world=new b2World(new b2Vec2(0,10),!1);isPhysicsDebugDraw&&(debugCanvas=document.createElement("canvas"),debugCanvas.id="debugCanvas",debugCanvas.width=1280,debugCanvas.height=1424,debugCanvas.style.position="absolute",debugCanvas.style.left="50%",debugCanvas.style.top="10%",debugCanvas.style.zIndex="100",debugCanvas.style.pointerEvents="none",document.body.appendChild(debugCanvas),debugDraw=new b2DebugDraw,debugDraw.SetSprite(debugCanvas.getContext("2d")),debugDraw.SetDrawScale(30*
scaleFactor),debugDraw.SetFillAlpha(0.6),debugDraw.SetLineThickness(1),debugDraw.SetFlags(b2DebugDraw.e_shapeBit|b2DebugDraw.e_jointBit),world.SetDebugDraw(debugDraw),y112(null));worldManifold=new Box2D.Collision.b2WorldManifold;fixDef=new b2FixtureDef;bodyDef=new b2BodyDef;var c=new Box2D.Dynamics.b2ContactListener;c.BeginContact=beginContactListener;c.EndContact=endContactListener;this.world.SetContactListener(c)}var worldManifold,isCollideParticlesNeed=!0,collidedChar,collidedAim=null;
function beginContactListener(c){objA=c.m_fixtureA.m_body.m_userData;objB=c.m_fixtureB.m_body.m_userData;isCollideParticlesNeed=!0;collidedChar=collidedAim=null;if(objA&&objB&&(objB.isHero?(collidedAim=objA,collidedChar=objB):objA.isHero&&(collidedAim=objB,collidedChar=objA),collidedChar&&(!collidedAim.isAim||isLevelCompleted||isLevelFailed||(collidedChar.heroRejoicing(),collidedAim.aimCollected(),y358()),collidedAim.isTeleport&&collidedChar.teleportTo(collidedAim),collidedAim.isDanger&&(addAchiev(SPIKES_ACHIEV),
collidedChar.die()),collidedAim.isPhysStatic||(collidedChar.collideWithDyn(collidedAim),collidedAim.isHero&&collidedAim.collideWithDyn(collidedChar))),collidedChar=null,objA.isGlass?(collidedChar=objA,collidedAim=objB):objB.isGlass&&(collidedChar=objB,collidedAim=objA),collidedChar&&(collidedAim.isMonster||collidedAim.isAim||collidedAim.type===DYNAMIC_CIRCLE_TYPE||collidedAim.type===DYNAMIC_RECT_TYPE||collidedAim.type===DYNAMIC_BOX_TYPE))){c=collidedAim.physBody.m_linearVelocity.x;var a=collidedAim.physBody.m_linearVelocity.y;
1<Math.sqrt(c*c+a*a)&&collidedChar.breakGlass()}}function postSolveContactListener(c,a){}function endContactListener(c){isLevelCompleted||isLevelFailed||(objA=c.m_fixtureA.m_body.m_userData,objB=c.m_fixtureB.m_body.m_userData,isCollideParticlesNeed=!0,collidedChar=collidedAim=null,objA&&objB&&(objB.isHero?(collidedAim=objA,collidedChar=objB):objA.isHero&&(collidedAim=objB,collidedChar=objA),collidedChar&&collidedAim.isTeleport&&collidedChar.teleportContactEnd(collidedAim)))}var fixDef,bodyDef;
function createPhysicsWalls(){fixDef.density=1;fixDef.restitution=0;bodyDef.type=b2Body.b2_staticBody;fixDef.shape=new b2PolygonShape;fixDef.shape.SetAsBox(14,2);bodyDef.position.Set(7,oh/PHYS_SCALE+2);world.CreateBody(bodyDef).CreateFixture(fixDef);bodyDef.position.Set(7,-2);world.CreateBody(bodyDef).CreateFixture(fixDef);fixDef.shape.SetAsBox(2,8);bodyDef.position.Set(-2,8);world.CreateBody(bodyDef).CreateFixture(fixDef);bodyDef.position.Set(ow/PHYS_SCALE+2,8);world.CreateBody(bodyDef).CreateFixture(fixDef)}
function createCircleShape(c,a,b,h){fixDef.density=1;fixDef.friction=0.2;fixDef.restitution=0;fixDef.isSensor=!1;bodyDef.type=b2Body.b2_dynamicBody;fixDef.filter.maskBits=255;fixDef.filter.categoryBits=STATIC_CATEGORY;bodyDef.bullet=!1;h==TELEPORT_TYPE&&(fixDef.isSensor=!0,bodyDef.type=b2Body.b2_staticBody);h===HERO_TYPE||h===HERO_DOC_TYPE?(bodyDef.bullet=!0,fixDef.filter.categoryBits=MAN_CATEGORY):h===HERO_WOMAN_TYPE&&(bodyDef.bullet=!0,fixDef.filter.categoryBits=WOMAN_CATEGORY);fixDef.shape=new b2CircleShape(b);
bodyDef.position.x=c;bodyDef.position.y=a;c=world.CreateBody(bodyDef);c.CreateFixture(fixDef);return c}var DEFAULT_RECT_SIZE=90/PHYS_SCALE,DEFAULT_BOX_SIZE=52/PHYS_SCALE;
function createRectPhysics(c,a,b,h,d){var e=DEFAULT_RECT_SIZE,f=DEFAULT_RECT_SIZE;fixDef.isSensor=!1;fixDef.friction=0.2;fixDef.restitution=0;fixDef.density=1;fixDef.filter.categoryBits=STATIC_CATEGORY;fixDef.filter.maskBits=255;bodyDef.bullet=!1;d==PHYSICS_RECT_TYPE?bodyDef.type=b2Body.b2_staticBody:d===DYNAMIC_BOX_TYPE?(f=e=DEFAULT_BOX_SIZE,bodyDef.type=b2Body.b2_dynamicBody):d===DANGER_TYPE?(e=100/PHYS_SCALE,f=18/PHYS_SCALE,bodyDef.type=b2Body.b2_staticBody):d===PHYSICS_MAN_BLOCK_TYPE||d===PHYSICS_WOMAN_BLOCK_TYPE?
(e=194/PHYS_SCALE,f=23/PHYS_SCALE,bodyDef.type=b2Body.b2_staticBody,fixDef.filter.categoryBits=MAN_CATEGORY,fixDef.filter.maskBits=STATIC_CATEGORY+WOMAN_CATEGORY,d===PHYSICS_WOMAN_BLOCK_TYPE&&(fixDef.filter.categoryBits=WOMAN_CATEGORY,fixDef.filter.maskBits=MAN_CATEGORY+STATIC_CATEGORY)):d===MONSTER_TYPE?(fixDef.friction=0.8,f=e=63/PHYS_SCALE,bodyDef.type=b2Body.b2_dynamicBody):d===GLASS_BLOCK_TYPE?(e=122/PHYS_SCALE,f=20/PHYS_SCALE,bodyDef.type=b2Body.b2_staticBody):d===DOOR_TYPE?(e=122/PHYS_SCALE,
f=18/PHYS_SCALE,bodyDef.type=b2Body.b2_kinematicBody):d===DYNAMIC_RECT_TYPE&&(fixDef.friction=0.8,e=111/PHYS_SCALE,f=14/PHYS_SCALE,bodyDef.type=b2Body.b2_dynamicBody);b*=e;h*=f;fixDef.shape=new b2PolygonShape;fixDef.shape.SetAsBox(b/2,h/2);bodyDef.position.x=c;bodyDef.position.y=a;c=world.CreateBody(bodyDef);c.CreateFixture(fixDef);return c}
function createKinematicPhysics(c,a,b,h,d){var e=DEFAULT_RECT_SIZE;b=DEFAULT_RECT_SIZE;fixDef.isSensor=!1;fixDef.friction=0.2;fixDef.restitution=0;fixDef.density=1;fixDef.filter.categoryBits=STATIC_CATEGORY;fixDef.filter.maskBits=255;bodyDef.bullet=!1;d===TELEGA_TYPE&&(e=100/PHYS_SCALE,b=12/PHYS_SCALE,bodyDef.type=b2Body.b2_kinematicBody);d=e*h;b*=h;fixDef.shape=new b2PolygonShape;fixDef.shape.SetAsOrientedBox(d/2,b/2,new b2Vec2(0,0.5*h),0);bodyDef.position.x=c;bodyDef.position.y=a;c=world.CreateBody(bodyDef);
c.CreateFixture(fixDef);fixDef.shape=new b2PolygonShape;fixDef.shape.SetAsOrientedBox(6/PHYS_SCALE*h,20/PHYS_SCALE*h,new b2Vec2(-1.55*h,0),0);c.CreateFixture(fixDef);fixDef.shape=new b2PolygonShape;fixDef.shape.SetAsOrientedBox(6/PHYS_SCALE*h,20/PHYS_SCALE*h,new b2Vec2(1.6*h,0),0);c.CreateFixture(fixDef);return c}var y34=3,y71=6,IS_NITRO=!1,y114=0,y35=1,ACTIVATOR_RADIUS=25,MORE_EASY_MULT=1,isNeedActivate=!1;
(function(c){function a(a,b,c,f,g){var k=new createjs.Sprite(y162);k.baseBlock=this;this.vis=k;this.reset(a,b,c,f,g)}var b=a.prototype;b.reset=function(a,b,e,f,g){this.typeId=a;this.type=c[a];createjs.Tween.removeTweens(this.vis);this.parent=b;this.vis.isOnTop=!1;this.vis.isOnBottom=!0;this.isFly=!1;this.dir=1;this.startPosX=this.distanceEndX=0;this.isClicked=!1;this.doorDistanceEnd=0;this.isMechanic=this.isActivated=this.isGlass=!1;this.activId="";this.isMonster=!1;this.isRectMonster=!0;this.isNeedDispose=
!1;this.teleportationStatus=-1;this.vis.alpha=1;this.vis.mouseEnabled=!1;this.physBody=null;this.scale=e;this.scaleY=f;this.isEnemy=!1;this.additParams=g;this.aimTeleport=this.startTeleport=null;this.isFirstCollided=this.isTeleport=this.isDanger=this.isAim=!1;this.shape=null;this.y6=30*Math.random();this.isNeutralEnemy=!1;this.startMoveX=this.currSpeed=0;this.y3=y114;this.y4=this.charRadius=0;this.isExploded=!1;this.lastColliderType=-1;this.raduis=this.vis.y7=0;this.isDied=!1;this.forceToFly=this.vel=
null;this.isByPhysPosUpdate=!0;this.vis.cursor=null;this.isHero=!1;this.lastVelocity=new b2Vec2(0,0);this.lastAngularVelocity=0;this.isDynamicDecor=(this.isDecor=-1<a.indexOf("DECOR"))?this.isDynDecor():!0;this.isPhysStatic=-1<a.indexOf("PHYSICS");this.vis.visible=!this.isPhysStatic;this.y16();this.y14();!this.isDynamicDecor&&isWithCache&&(this.parent=y150);this.parent.addChild(this.vis)};b.isDynDecor=function(){return this.type===DECOR_MELNICA_ROT_TYPE||this.type===DECOR_ARROW_TYPE};b.setupMouseEventListeners=
function(){this.vis.cursor="pointer"};b.y16=function(){this.vis.gotoAndStop(this.typeId);this.type===HERO_TYPE?(this.isHero=!0,this.vis.play()):this.type===HERO_DOC_TYPE?(this.isHero=!0,this.vis.play()):this.type===HERO_WOMAN_TYPE?(this.isHero=!0,this.vis.play()):this.type===y125?(this.vis.play(),this.vis.cursor="pointer",this.vis.mouseEnabled=!0,addToArray(allBombs,this)):this.type===PHYSICS_MAN_BLOCK_TYPE||this.type===PHYSICS_WOMAN_BLOCK_TYPE?this.vis.visible=!0:this.type===MONSTER_TYPE?(this.vis.cursor=
"pointer",this.vis.mouseEnabled=!0,addToArray(allMonsters,this),this.isMonster=!0):this.type===GLASS_BLOCK_TYPE?this.isGlass=!0:this.type===ACTIVATOR_TYPE?(addToArray(allActivators,this),this.setupActivLabel()):this.type===DOOR_TYPE?(this.isMechanic=!0,this.setupActivLabel(),this.doorDistanceEnd=parseInt(this.getAdditParams(1)),this.currSpeed=2):this.type===TELEGA_TYPE&&(this.currSpeed=parseInt(this.getAdditParams(0))/10);this.isHero&&(isDesktop()&&(this.vis.cursor="pointer",this.vis.mouseEnabled=
!0),this.isByPhysPosUpdate=this.additParams&&-1<this.additParams[0].indexOf("INITED"),addToArray(allHeroes,this));this.type===AIM_TYPE&&(this.isAim=!0);this.type===DANGER_TYPE&&(this.isDanger=!0,this.isDynamicDecor=!1);this.type===TELEPORT_TYPE&&(this.isByPhysPosUpdate=!1,this.isTeleport=!0,teleportIn?teleportOut||(teleportOut=this):teleportIn=this);this.vis.paused||(this.vis.currentAnimationFrame=Math.floor(20*Math.random()))};b.getAdditParams=function(a){return this.additParams[0].split("_")[a]};
b.setupActivLabel=function(){this.activId=this.getAdditParams(0)};b.bombClick=function(a){isLevelCompleted||isLevelFailed||isGamePaused||this.isExploded||(createExplosion(this),this.vis.removeAllEventListeners(),this.vis.mouseEnabled=!1,this.vis.scaleX=this.vis.scaleY=this.scale=1.2,this.vis.gotoAndPlay("bombexplosionv"),this.isExploded=!0,y203("y21Sound"))};b.y17=function(){var a=1;this.isEnemy&&(a=0.7);var b=this.vis._animation;b&&b.frames&&0<b.frames.length&&(this.y13=charSS.getFrameBounds(b.frames[0]),
this.y13.width=this.y13.width*this.scale*a,this.y13.height=this.y13.height*this.scale*a,this.y13.x=this.y13.x*this.scale*a,this.y13.y=this.y13.y*this.scale*a,this.charRadius=this.y13.width/2)};b.setPos=function(a,b,c){this.vis.x=a;this.vis.y=b;c&&(this.vis.y7=c);0===this.startPosX&&(this.distanceEndX=140*this.scale-106*this.scaleY,this.startPosX=a-this.distanceEndX/2,this.distanceEndX=a+this.distanceEndX/2)};b.initPhysics=function(){this.physBody&&world.DestroyBody(this.physBody);if(!this.isDecor&&
this.type!==ACTIVATOR_TYPE){var a;a=this.vis.x/PHYS_SCALE;var b=this.vis.y/PHYS_SCALE;if(a=this.isPhysStatic||this.type===DYNAMIC_BOX_TYPE||this.type===DANGER_TYPE||this.type===MONSTER_TYPE&&this.isRectMonster||this.type===GLASS_BLOCK_TYPE||this.type===DOOR_TYPE||this.type===DYNAMIC_RECT_TYPE?createRectPhysics(a,b,this.scale,this.scaleY,this.type):this.type===TELEGA_TYPE?createKinematicPhysics(a,b,this.scale,this.scaleY,this.type):createCircleShape(a,b,this.scale*this.getRadiusByType()/PHYS_SCALE,
this.type)){a.SetUserData(this);a.SetAngle(this.vis.y7*DEGREES_TO_RAD);this.physBody=a;this.forceToFly=new b2Vec2(0,-15*this.physBody.GetMass());this.shape=a.GetFixtureList().GetShape();if(this.type===DOOR_TYPE){if(-90>this.vis.y7||90<this.vis.y7)this.dir=-1;this.doorDistanceEnd=this.vis.x+this.doorDistanceEnd*this.dir;this.startMoveX=this.vis.x}this.type===TELEGA_TYPE&&this.physBody.SetLinearVelocity(new b2Vec2(this.currSpeed*this.dir*dtScale,0))}}};b.getRadiusByType=function(){switch(this.type){case HERO_TYPE:return 31;
case AIM_TYPE:return 19;case HERO_DOC_TYPE:return 31;case HERO_WOMAN_TYPE:return 31;case TELEPORT_TYPE:return 25;case y125:return 20;case MONSTER_TYPE:return 31;case DYNAMIC_CIRCLE_TYPE:return 16}return 0};b.y32=function(a,b){b?this.vis.gotoAndPlay(a):this.vis.gotoAndStop(a)};b.y20=function(a){};b.onInflateEnd=function(){this.isFly=!1};b.tick=function(){if(this.isNeedDispose)this.dispose();else if(!isGamePaused&&(!this.isDecor||this.isDynamicDecor)){this.physBody&&!this.isPhysStatic&&this.isByPhysPosUpdate&&
(this.vis.x=this.physBody.m_xf.position.x*PHYS_SCALE,this.vis.y=this.physBody.m_xf.position.y*PHYS_SCALE,this.vis.y7=this.physBody.m_sweep.a*RAD_TO_DEGREES,this.isFly&&this.physBody.ApplyForce(this.forceToFly,this.physBody.m_sweep.c));if(this.type===AIM_TYPE)this.vis.scaleX=this.scale+Math.cos((y377+this.y6)/5)/30,this.vis.scaleY=this.scale-Math.cos((y377+this.y6)/5)/30;else if(this.type===y125)this.vis.scaleX=this.scale+Math.cos((y377+this.y6)/5)/60,this.vis.scaleY=this.scale-Math.cos((y377+this.y6)/
5)/60,this.isExploded&&14<=this.vis.currentAnimationFrame&&(this.isNeedDispose=!0);else if(this.type===TELEPORT_TYPE)this.vis.y7+=4*dtScale,this.vis.scaleX=this.scale+Math.cos((y377+this.y6)/5)/30,this.vis.scaleY=this.vis.scaleX;else if(this.type===DECOR_MELNICA_ROT_TYPE)this.vis.y7+=4*dtScale;else if(this.type===DECOR_ARROW_TYPE)this.vis.scaleX=this.scale+Math.cos((y377+this.y6)/12)/6,this.vis.scaleY=this.vis.scaleX;else if(this.type===ACTIVATOR_TYPE){isNeedActivate=!1;for(var a=0;a<allHeroesLen;a++){var b=
allHeroes[a];Math.abs(b.vis.x-this.vis.x)<ACTIVATOR_RADIUS&&Math.abs(b.vis.y-this.vis.y)<ACTIVATOR_RADIUS&&(isNeedActivate=!0)}isNeedActivate?this.activateBtn():this.deActivateBtn()}this.isHero?(this.updateTeleportation(),(-50>this.vis.x||450<this.vis.x||320<this.vis.y||-140>this.vis.y)&&this.dieByWorldOut()):this.isMonster?this.physBody||(this.initPhysics(),this.physBody.SetLinearVelocity(this.lastVelocity),this.physBody.SetAngularVelocity(this.lastAngularVelocity)):this.type===DOOR_TYPE&&this.updateDoor();
this.type===TELEGA_TYPE&&(this.vis.x>this.distanceEndX&&(this.dir=-1,this.physBody.m_linearVelocity.x=this.currSpeed*this.dir*dtScale),this.vis.x<this.startPosX&&(this.dir=1,this.physBody.m_linearVelocity.x=this.currSpeed*this.dir*dtScale))}};b.updateDoor=function(){0===y377%10&&this.vis.currentAnimationFrame++;this.physBody&&(this.physBody.m_linearVelocity.x=this.isActivated?0>this.dir&&this.vis.x>this.doorDistanceEnd||0<this.dir&&this.vis.x<this.doorDistanceEnd?this.currSpeed*this.dir*dtScale:0:
0>this.dir&&this.vis.x<this.startMoveX||0<this.dir&&this.vis.x>this.startMoveX?-this.currSpeed*this.dir*dtScale:0)};b.updateTeleportation=function(){if(this.physBody)if(0===this.teleportationStatus){this.isByPhysPosUpdate=!1;this.teleportationStatus=1;this.physBody.SetPosition(new b2Vec2(-1E3,0));var a=this;y203("portalAppearSound");createjs.Tween.get(this.vis,{override:!0}).to({y7:900,scaleX:0.05,scaleY:0.05,x:this.startTeleport.vis.x,y:this.startTeleport.vis.y},700).to({x:this.aimTeleport.vis.x,
y:this.aimTeleport.vis.y},0).call(function(){y203("portalDissapearSound")}).to({y7:0,scaleX:this.scale,scaleY:this.scale},700).call(function(){a.teleportationStatus=2})}else 2==this.teleportationStatus&&(this.physBody.SetPositionAndAngle(new b2Vec2(this.aimTeleport.vis.x/PHYS_SCALE,this.aimTeleport.vis.y/PHYS_SCALE),0),this.physBody.m_linearVelocity.x=0,this.physBody.m_linearVelocity.y=0,this.physBody.m_angularVelocity=0,this.teleportationStatus=-1,this.isByPhysPosUpdate=!0)};b.y14=function(){this.isDecor?
(this.vis.scaleX=this.scale,this.vis.scaleY=this.scaleY):this.vis.scaleX=this.vis.scaleY=this.scale;this.type===TELEGA_TYPE&&(this.vis.scaleX=this.vis.scaleY=this.scaleY)};b.dispose=function(){removeFromArray(y301,this);this.isHero&&removeFromArray(allHeroes,this);this.lastColliderType=-1;y290(this);this.vis.removeAllEventListeners();this.physBody&&toDisposePhysicsBodies.push(this.physBody);this.shape=this.physBody=null;this.vis.stop();y149(this.vis)};b.collideWithOtherDynamic=function(){-1<this.teleportationStatus||
(this.isByPhysPosUpdate=!0)};b.toggleFly=function(){-1<this.teleportationStatus||isLevelFailed||(this.isClicked=!0,this.isFly=!this.isFly,this.isByPhysPosUpdate||(this.isByPhysPosUpdate=!0),this.isFirstCollided=!0,this.isFly?this.type===HERO_DOC_TYPE?(this.vis.gotoAndPlay("herodoctransformv"),this.vis._animation.next="herodocfly",y203("docUpSound")):this.type===HERO_WOMAN_TYPE?(this.vis.gotoAndPlay("herowomantransformv"),this.vis._animation.next="herowomanfly",y203("womanUpSound")):(this.vis.gotoAndPlay("herotransformv"),
this.vis._animation.next="heroflyv",y203("manUpSound")):this.type===HERO_DOC_TYPE?(this.vis.gotoAndPlay("herodoctransformrevv"),this.vis._animation.next="HERO_DOC_TYPE",y203("docDownSound")):this.type===HERO_WOMAN_TYPE?(this.vis.gotoAndPlay("herowomantransformrevv"),this.vis._animation.next="HERO_WOMAN_TYPE",y203("womanDownSound")):(this.vis.gotoAndPlay("herotransformrevv"),this.vis._animation.next="HERO_TYPE",y203("manDownSound")))};b.heroRejoicing=function(){this.vis.gotoAndPlay(this.typeId)};b.aimCollected=
function(){y58Explode(this.vis.x,this.vis.y,10,y223,null,1);addAchiev(FIRST_LUCK_ACHIEV)};b.teleportTo=function(a){this.aimTeleport||(this.startTeleport=a,this.aimTeleport=a===teleportIn?teleportOut:teleportIn,this.teleportationStatus=0)};b.teleportContactEnd=function(a){this.aimTeleport===a&&(this.aimTeleport=this.startTeleport=null)};b.die=function(){isLevelCompleted||isLevelFailed||(this.isDied=isLevelFailed=!0,this.isByPhysPosUpdate=this.isFly=!1,y254(),createjs.Tween.get(this.vis,{override:!0}).to({alpha:0,
scaleX:0,scaleY:0,y7:900},1200).wait(400).call(y166),createDiePart(this.vis.x,this.vis.y),addAchiev(FIRST_DEAD_ACHIEV),this.physBody&&this.physBody.SetPosition(new b2Vec2(-1E3,0)),y203("restartSound"))};b.dieByWorldOut=function(){isLevelCompleted||isLevelFailed||(this.isDied=isLevelFailed=!0,this.isByPhysPosUpdate=this.isFly=!1,y254(),createjs.Tween.get(this.vis).wait(400).call(y166),addAchiev(FIRST_DEAD_ACHIEV),this.physBody&&this.physBody.SetPosition(new b2Vec2(-1E3,0)),y203("restartSound"))};b.collideWithDyn=
function(a){this.isFirstCollided||(this.isByPhysPosUpdate=this.isFirstCollided=!0)};b.transformMonster=function(){this.physBody&&(this.lastVelocity.x=this.physBody.GetLinearVelocity().x,this.lastVelocity.y=this.physBody.GetLinearVelocity().y,this.lastAngularVelocity=this.physBody.GetAngularVelocity(),toDisposePhysicsBodies.push(this.physBody));this.physBody=null;this.isRectMonster=!this.isRectMonster;this.vis.currentAnimationFrame=this.isRectMonster?0:1;addAchiev(TRANSMYTER_ACHIEV)};b.breakGlass=
function(){!this.vis.visible||15>levelStartTimer||!this.physBody||(toDisposePhysicsBodies.push(this.physBody),this.physBody=null,this.vis.visible=!1,createGlassExplode(this.vis.x,this.vis.y,this.scale,this.vis.y7),addAchiev(GLASS_BRACKER_ACHIEV),y203("glassBrakeSound"))};b.activateBtn=function(){if(!this.isActivated){this.isActivated=!0;this.vis.currentAnimationFrame=1;for(var a,b=0;b<y301.length;b++)a=y301[b],a.isMechanic&&!a.isActivated&&a.activId===this.activId&&a.activateMechanic();y203("clickSound")}};
b.deActivateBtn=function(){if(this.isActivated){this.isActivated=!1;this.vis.currentAnimationFrame=0;for(var a,b=0;b<y301.length;b++)a=y301[b],a.isMechanic&&a.isActivated&&a.activId===this.activId&&a.deActivateMechanic();y203("clickSound")}};b.activateMechanic=function(){this.isActivated=!0};b.deActivateMechanic=function(){this.isActivated=!1};c.y403=a})(window);
var y301=[],allHeroes=[],disposedChars=[],allBombs=[],allMonsters=[],allActivators=[],y226,y52=0,isLevelCompleted=!1,isLevelFailed=!1,isInflateReason=!1,y310,y398=0,totalBonuses=0,collectedBonuses=0,totalScore=0,y52Score=0,y85=0;function initLevelManager(){y374.addChild(y226);initPhysics();y44.addEventListener("y44mousedown",onCharContainerMouseDown);y44.addEventListener("y44mouseup",onCharContainerMouseUp)}
function y128(c,a,b,h,d,e,f){c=y267(c,y226,h,d,f);c.setPos(a,b,e);c.initPhysics();isArrayContains(y301,c)||y301.push(c);return c}var y224=0,y98=0,diamondsCounter=0;function y271(c){y52!=c&&(y224=0,MORE_EASY_MULT=1);y52=c;y52>=y300&&(y52%=y300);showBgByLevelNum(y52);setCurrentLevelLabel(y52);y271ByCode(y291[y52]);isLevelRestarted=isGamePaused=!1;isNeedCacheSizeUpdate=!0}var y170=0,teleportIn=null,teleportOut=null;
function y271ByCode(c){isGamePaused=!0;disposeLevel();addInstructions();if(c)for(var a=y170=0;a<c.length;a++){var b=c[a];isBonus(b[0])?createBonus(b[0],b[1],b[2],b[3],b[4],b[5],b[6]):y128(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}}function isBonus(c){return-1<c.indexOf("BONUS")}var isLevelRestarted=!1;function y388(){isLevelRestarted=!0;y224+=1;y271(y52);3<=y224&&addAchiev(DESTROYER_ACHIEV)}function y198(){y271(y52+1)}var levelStartTimer=0;
function disposeLevel(){disposeInstructions();isLevelFailed=isLevelCompleted=isInflateReason=!1;teleportIn=teleportOut=null;levelStartTimer=0;y310=null;collectedBonuses=totalBonuses=y52Score=y85=0;var c=y301.length,a;for(a=0;a<c;a++)y301.pop().dispose();disposeBonuses();allBombs=[];allMonsters=[];allActivators=[]}
function addScore(c){y52Score+=c;1500<=totalScore+y52Score?addAchiev(SCORES_1500_ACHIEV):1E3<=totalScore+y52Score?addAchiev(FIRST_1000_ACHIEV):500<=totalScore+y52Score&&addAchiev(FIRST_500_ACHIEV)}function y290(c){isArrayContains(disposedChars,c)||disposedChars.push(c)}function y267(c,a,b,h,d){if(0<disposedChars.length){var e=disposedChars.pop();e.reset(c,a,b,h,d);return e}return new y403(c,a,b,h,d)}var y277=1E8;
function onCharContainerMouseDown(c){splashContainer&&splashContainer.parent&&sponsorClick(c);isPageLeaved&&(isTimerUpdateMode=isPageLeaved=!1,setUpdateFrameMode());if(!(isGamePaused||isLevelCompleted||isLevelFailed)){var a=(c.y44X-y374.x)/scaleFactor,b=(c.y44Y-y374.y)/scaleFactor,h,d=y277,e=0,f=e=0;for(c=c=0;c<allBombs.length;c++)if(h=allBombs[c],!h.isExploded&&(e=h.vis.x-a,f=h.vis.y-b,e=e*e+f*f,324>e)){h.bombClick();return}y310=null;for(c=0;c<y301.length;c++)if(h=y301[c],h.isHero||h.isMonster)e=
h.vis.x-a,f=h.vis.y-b,e=e*e+f*f,e<d&&(y310=h,d=e);if(y310&&!isGamePaused)if(y310.isMonster)y310.transformMonster();else{y310.toggleFly();for(c=a=0;c<allHeroes.length;c++)allHeroes[c].isClicked&&a++;2<=a&&addAchiev(COLLAB_ACHIEV)}}}function onCharContainerMouseUp(c){}function checkLevelFailWhileInflate(){}function checkLevelFail(){}function isNoHeroes(){for(var c=0;c<y301.length;c++)if(!y301[c].isEnemy)return!1;return!0}function checkLevelWin(){}
function isNoEnemies(){for(var c=0;c<y301.length;c++)if(y301[c].isEnemy&&!y301[c].isNeutralEnemy)return!1;return!0}
var y146=0,levely3s=[],y300=20,y79=0,y183=1,y253=2,y118=3,y188=15,y107=0,y190=1,y288=[],GLASS_BRACKER_ACHIEV=0,FIRST_MONEY_ACHIEV=1,FIRST_DEAD_ACHIEV=2,TRANSMYTER_ACHIEV=3,COLLECTOR_ACHIEV=4,FIRST_DIAMOND_ACHIEV=5,SPIKES_ACHIEV=6,FIRST_1000_ACHIEV=7,DIAMONDS_10_ACHIEV=8,COLLAB_ACHIEV=9,SCORES_1500_ACHIEV=10,FIRST_LUCK_ACHIEV=11,DIAMONDS_5_ACHIEV=12,FIRST_500_ACHIEV=13,DESTROYER_ACHIEV=14,y60="Cheapes2d3344s3",isStorageSupported=!1;
function y357(){y146=0;if(isStorageSupported=isSupportshtml5storage())if(localStorage[y60+"y146"]){y146=parseInt(localStorage[y60+"y146"]);for(a=0;a<y300;a++)levely3s.push(parseInt(localStorage[y60+"levely3"+a]));for(a=0;a<y188;a++){var c=localStorage[y60+"achiev"+a];c?y288.push(parseInt(c)):y288.push(y107)}isMute="1"==localStorage[y60+"ismute"];y98=localStorage[y60+"totalrestarts"]?parseInt(localStorage[y60+"totalrestarts"]):0;y398=localStorage[y60+"totalfriends"]?parseInt(localStorage[y60+"y398"]):
0;totalScore=localStorage[y60+"totalScore"]?parseInt(localStorage[y60+"totalScore"]):0;diamondsCounter=localStorage[y60+"diamondsCounter"]?parseInt(localStorage[y60+"diamondsCounter"]):0}else{y122("saves not found!");for(a=0;a<y300;a++)levely3s.push(y79);for(a=0;a<y188;a++)y288.push(y107);y323()}else{y122("storage not supported");for(var a=0;a<y300;a++)levely3s.push(y79);for(a=0;a<y188;a++)y288.push(y107)}}function y269(c){return levely3s[c]}
function y127(c){y146<=y52&&(y146=y52+1);levely3s[y52]<c&&(levely3s[y52]=c);y323()}function y323(){if(isStorageSupported){localStorage[y60+"y146"]=y146;for(var c=0;c<y300;c++)localStorage[y60+"levely3"+c]=levely3s[c];for(c=0;c<y188;c++)localStorage[y60+"achiev"+c]=y288[c];y77();localStorage[y60+"totalrestarts"]=""+y98;localStorage[y60+"totalfriends"]=""+y398;localStorage[y60+"totalScore"]=""+totalScore;localStorage[y60+"diamondsCounter"]=""+diamondsCounter}}
function y77(){isStorageSupported&&(localStorage[y60+"ismute"]=isMute?"1":"0")}function isSupportshtml5storage(){try{var c="localStorage"in window&&null!==window.localStorage;c&&(localStorage.setItem("storage",""),localStorage.removeItem("storage"));return c}catch(a){return!1}}var y199=[];function y121(c,a,b,h){c=y58(y242,c,a,1,h?y226:y150);c.y32(b);y199.push(c);return c}function addInstructions(){isLevelRestarted||y117()}function disposeInstructions(){for(;0<y199.length;)y199.pop().dispose()}
function y247(){for(var c=0,a=0;a<y300;a++)c+=levely3s[a];return c}function createExplosion(c){for(var a,b=0;b<y301.length;b++)a=y301[b],a!==c&&a.physBody&&(a.isPhysStatic&&a.type!==GLASS_BLOCK_TYPE||a.type!==y125&&(-1<a.teleportationStatus||a.isDied||a.isAim||CreateExplode(c,a)))}
function CreateExplode(c,a){var b=a.physBody,h=a.vis.x-c.vis.x,d=a.vis.y-c.vis.y,e=Math.sqrt(h*h+d*d);e>MAX_EXPLODE_RADIUS||(a.type===GLASS_BLOCK_TYPE?e<0.6*MAX_EXPLODE_RADIUS&&a.breakGlass():(h=new b2Vec2(20*(h/e),20*(d/e)),b.ApplyImpulse(h,b.GetWorldCenter()),b.ApplyTorque(40*Math.random()-20),a.isByPhysPosUpdate=!0))}var allBonuses=[],disposedBonuses=[],currentBon;function initBonusManager(){}
function createBonus(c,a,b,h,d,e,f){c=getBonusFromPool(c,y226,h,d,f);c.setPos(a,b,e);addToArray(allBonuses,c)}function disposeBonuses(){var c=allBonuses.length,a;for(a=0;a<c;a++)allBonuses.pop().dispose()}function y290Bonuses(c){isArrayContains(disposedBonuses,c)||disposedBonuses.push(c)}function getBonusFromPool(c,a,b,h,d){if(0<disposedBonuses.length){var e=disposedBonuses.pop();e.reset(c,a,b,h,d);return e}return new BonusBase(c,a,b,h,d)}var toDisposeBonuses=[];
function updateBonusManager(){for(var c=0;c<allBonuses.length;c++)allBonuses[c].tick(),allBonuses[c].isCollected&&addToArray(toDisposeBonuses,allBonuses[c]);for(;0<toDisposeBonuses.length;)toDisposeBonuses.pop().dispose()}
(function(c){function a(a,b,c,f,g){var k=new createjs.Sprite(y162);k.mouseEnabled=!1;k.baseBlock=this;this.vis=k;this.reset(a,b,c,f,g)}var b=a.prototype;b.reset=function(a,b,e,f,g){this.typeId=a;this.type=c[a];createjs.Tween.removeTweens(this.vis);this.tweenMaxSteps=0;this.isNeedCollect=!1;this.additParams=g;this.parent=b;this.vis.isOnTop=!1;this.vis.isOnBottom=!0;this.vis.alpha=1;this.isCollected=this.isGhost=!1;this.y6=30*Math.random();this.scaleX=e;this.scaleY=f;this.moveTarget=null;this.distanceSq=
this.speed=this.dy=this.dx=0;this.hero=null;this.dir=1;this.startPosX=this.distanceEndX=0;this.sensorRadiusSq=3600;this.collectRadiusSq=100;this.y16();this.y14();b.addChild(this.vis);this.isGhost||totalBonuses++};b.setPos=function(a,b,c){this.vis.x=a;this.vis.y=b;this.isGhost&&0===this.startPosX&&(this.distanceEndX=140*this.scaleX-52*this.scaleY,this.startPosX=a-this.distanceEndX/2,this.distanceEndX=a+this.distanceEndX/2);c&&(this.vis.y7=c)};b.y14=function(){this.vis.scaleX=this.scaleX;this.vis.scaleY=
this.scaleY;this.isGhost&&(this.vis.scaleX=this.scaleY)};b.getAdditParams=function(a){return this.additParams[0].split("_")[a]};b.y16=function(){this.vis.gotoAndStop(this.typeId);this.type===BONUS_DIAMOND_TYPE&&(this.vis.play(),this.vis._animation.speed=1.5);this.vis.paused||(this.vis.currentAnimationFrame=Math.floor(20*Math.random()));this.type===BONUS_GHOST_TYPE&&(this.isGhost=!0,this.vis.play(),this.speed=parseInt(this.getAdditParams(0))/10,this.vis._animation.speed=0.7,this.sensorRadiusSq=625)};
b.tick=function(){if(!this.isCollected&&!isGamePaused)if(this.isGhost)this.updateGhost();else if(this.vis.scaleX=this.scaleX+Math.cos((y377+this.y6)/10)/12,this.vis.scaleY=this.vis.scaleX,this.moveTarget)this.speed+=0.2,this.dx=this.moveTarget.vis.x-this.vis.x,this.dy=this.moveTarget.vis.y-this.vis.y,this.distanceSq=this.dx*this.dx+this.dy*this.dy,this.vis.x+=this.dx/3*this.speed,this.vis.y+=this.dy/3*this.speed,this.distanceSq<this.collectRadiusSq&&(this.isCollected=!0,y58Explode(this.moveTarget.vis.x,
this.moveTarget.vis.y,9,y223),y66(this.vis.x,this.vis.y+30,this.getScoreByType()),addScore(this.getScoreByType()),this.checkBonusAchievByType(),this.moveTarget=null,collectedBonuses++,y203("bonusPickSound"));else for(var a=0;a<allHeroesLen;a++)this.hero=allHeroes[a],this.dx=this.hero.vis.x-this.vis.x,this.dy=this.hero.vis.y-this.vis.y,this.distanceSq=this.dx*this.dx+this.dy*this.dy,this.distanceSq<this.sensorRadiusSq&&(this.moveTarget=this.hero,y203("portalDissapearSound"))};b.updateGhost=function(){this.vis.x+=
this.speed*this.dir*dtScale;this.vis.x>this.distanceEndX&&(this.dir=-1);this.vis.x<this.startPosX&&(this.dir=1);for(var a=0;a<allHeroesLen;a++)this.hero=allHeroes[a],this.dx=this.hero.vis.x-this.vis.x,this.dy=this.hero.vis.y-this.vis.y,this.distanceSq=this.dx*this.dx+this.dy*this.dy,this.distanceSq<this.sensorRadiusSq&&this.hero.die()};b.checkBonusAchievByType=function(){switch(this.type){case BONUS_DIAMOND_TYPE:diamondsCounter++;10<=diamondsCounter?addAchiev(DIAMONDS_10_ACHIEV):5<=diamondsCounter?
addAchiev(DIAMONDS_5_ACHIEV):addAchiev(FIRST_DIAMOND_ACHIEV);break;case BONUS_MONEY_TYPE:addAchiev(FIRST_MONEY_ACHIEV)}for(var a=!0,b=0;b<allBonuses.length;b++)allBonuses[b].isCollected||(a=!1);a&&addAchiev(COLLECTOR_ACHIEV)};b.getScoreByType=function(){switch(this.type){case BONUS_STAR_TYPE:return 50;case BONUS_DIAMOND_TYPE:return 150;case BONUS_MONEY_TYPE:return 100;default:return 50}};b.dispose=function(){removeFromArray(allBonuses,this);y290Bonuses(this);this.vis.removeAllEventListeners();this.vis.stop();
this.parent.removeChild(this.vis)};b.startCollectAnim=function(a){};c.BonusBase=a})(window);var isAudioSupported=!1,isMute=!1;
function initSoundManager(){isDesktop()||createjs.Sound.registerPlugins([createjs.WebAudioPlugin]);(isAudioSupported=createjs.Sound.initializeDefaultPlugins())&&y59.push({src:"bt_clk.ogg|bt_clk.mp3",id:"clickSound",data:1},{src:"wow01.ogg|wow01.mp3",id:"winSound",data:1},{src:"loose01.ogg|loose01.mp3",id:"restartSound",data:1},{src:"boom02.ogg|boom02.mp3",id:"y21Sound",data:1},{src:"ach.ogg|ach.mp3",id:"achievSound",data:1},{src:"scoresX3-2.ogg|scoresX3-2.mp3",id:"countScoreSound",data:1},{src:"boom02.ogg|boom02.mp3",
id:"boomCoinSound",data:1},{src:"portal_dissapear.ogg|portal_dissapear.mp3",id:"portalDissapearSound",data:1},{src:"portal_appear.ogg|portal_appear.mp3",id:"portalAppearSound",data:1},{src:"drip.ogg|drip.mp3",id:"bonusPickSound",data:1},{src:"man_up.ogg|man_up.mp3",id:"manUpSound",data:1},{src:"man_down.ogg|man_down.mp3",id:"manDownSound",data:1},{src:"doctor_up.ogg|doctor_up.mp3",id:"docUpSound",data:1},{src:"doctor_down.ogg|doctor_down.mp3",id:"docDownSound",data:1},{src:"woman_up.ogg|woman_up.mp3",
id:"womanUpSound",data:1},{src:"woman_down.ogg|woman_down.mp3",id:"womanDownSound",data:1},{src:"glass.ogg|glass.mp3",id:"glassBrakeSound",data:1})}function y203(c,a){if(!isMute&&isAudioSupported)return createjs.Sound.play(c,{interrupt:createjs.Sound.INTERRUPT_EARLY,loop:a?-1:0})}function y116(){isMute=!isMute;y77();isMute&&stopScoresSound()}var scoresSound;function playScoresSound(){!isMute&&isAudioSupported&&(scoresSound?scoresSound.play():scoresSound=y203("countScoreSound",!1))}
function stopScoresSound(){isAudioSupported&&scoresSound&&(scoresSound.stop(),scoresSound=null)}var y308,y302,y87,y233,y53,isGamePaused,y341,y363;
function initInterface(){y308=y349(18,18,0.65,"pausebtn",y96,null,y42);y341=new createjs.BitmapText("0",y162);y341.scaleX=y341.scaleY=0.25;y341.mouseEnabled=!1;y341.y=253;y341.score=0;y341.spaceWidth=10;y341.postfix="ll";y363=createjs.Ease.getElasticOut(1,0.35);y84();y95();y213();y169();y238();y231();y381();createBlinkWin();isGamePaused=!0;isSkipMenus?y345():isLevelSelectShow?y135():y365(!1)}var blinkWin;function createBlinkWin(){blinkWin=y349(-40,0,3,"tint2");blinkWin.scaleX=6}
function startBlink(c,a){y154(blinkWin,y374);blinkWin.alpha=1;blinkWin.gotoAndStop(a);createjs.Tween.get(blinkWin,{override:!0}).to({alpha:0},c).call(y261)}function showFPSMeter(){isNeedFpsMeter&&y154(y163,y374);isNeedHelperLabel&&y154(helperLabel,y374)}function y345(){y308.parent||y374.addChild(y308);y154(y341,y374);showSpilLogo(362,16,0.35,y374,0.8);showFPSMeter()}function y254(){y308.parent&&y374.removeChild(y308);y149(y341)}function setCurrentLevelLabel(c){y341.text="l "+(c+1)}
function y96(c){isGamePaused||isLevelFailed||isLevelCompleted||y72(c.target)}function y42(c){y208(c.target);isGamePaused||isLevelFailed||isLevelCompleted||y225.parent||isCursorOutMoved(c)||(y203("clickSound"),y141())}var y276,y70,spilLogo;
function y84(){y276=new createjs.Container;y302=y349(ow/2,180,0.65,"playbtnup",y340,y276,y180);y87=y349(300,200,0.8,"btnbaseup",y83,y276,y81);y233=y349(ow/2,125,0.68,"logov",null,y276);y349(37,170,0.8,"achievbtn",y299,y276,y279);y70=y349(382,17,0.45,"musiconbtn",y97,y276,y179);spilLogo=y349(ow/2,270,0.8,"spelelogo",sponsorClick,y276,null);rotatedDecors.push(y349(12,70,0.6,"DECOR_MELNICA_ROT_TYPE",null,y276,null));rotatedDecors.push(y349(146,57,0.7,"DECOR_MELNICA_ROT_TYPE",null,y276,null));rotatedDecors.push(y349(307,
68,0.6,"DECOR_MELNICA_ROT_TYPE",null,y276,null));var c=y349(42,80,0.6,"HERO_TYPE",null,y276,null);setAnimationSpeed(c,0.5);c.play();c=y349(373,80,0.6,"HERO_DOC_TYPE",null,y276,null);c.play();c.currentAnimationFrame=Math.round(130*Math.random());c=y349(207,60,0.7,"HERO_WOMAN_TYPE",null,y276,null);c.play();c.currentAnimationFrame=Math.round(130*Math.random());isShowLogo||(spilLogo.visible=!1);y349(100,190,0.6,"mainmenumore",sponsorClick,y276,null);isAudioSupported||(y70.visible=!1)}
var y258="musicoffbtn",y91="musiconbtn";function y97(c){y72(c.target)}function y179(c){y208(c.target);isCursorOutMoved(c)||(y116(),y259(c.target),y203("clickSound"))}function y259(c){c.gotoAndStop(isMute?y258:y91)}function y365(c){y374.addChild(y276);showSpilLogo(347,170,0.45,y276);y259(y70);showBgByLevelNum(0,2);showFPSMeter();c?(startBlink(700,"tint2"),y84Tweens(),isNeedCacheSizeUpdate=!0):y84Tweens()}
function showSpilLogo(c,a,b,h,d){y154(spilLogo,h);spilLogo.x=c;spilLogo.y=a;spilLogo.scaleX=spilLogo.scaleY=b;spilLogo.alpha=d?d:1}function y137(c){y84Tweens()}function y293(){disposeMainMenuTweens();y149(y276)}function y230(c){c=c.target;c.alpha=1;y302.scaleX=y302.scaleY=1;c.parent&&y374.removeChild(c)}function y311(c,a){return y349(c,a,1,"bigbgwindow",null,y225,null)}function y84Tweens(){}function disposeMainMenuTweens(){createjs.Tween.removeTweens(y302)}function y340(c){y72(c.target)}
function y180(c){y208(c.target);isCursorOutMoved(c)||(y203("clickSound"),y293(),y135())}function y299(c){y72(c.target)}function y279(c){y208(c.target);isCursorOutMoved(c)||(y203("clickSound"),y293(),y173())}function y83(c){c.target.scaleX=c.target.scaleY=0.9;y122("play credits!")}function y81(c){c.target.scaleX=c.target.scaleY=0.8;isCursorOutMoved(c)||(y203("clickSound"),y293(),y370())}
function y349(c,a,b,h,d,e,f){var g=new createjs.Sprite(interfaceSS);g.snapToPixel=!0;g.x=c;g.y=a;g.scaleX=g.scaleY=b;g.gotoAndStop(h);g.defaultScale=b;f&&g.addEventListener("pressup",f,!1);d?(g.addEventListener("mousedown",d,!1),g.cursor="pointer"):g.mouseEnabled=!1;(d||f)&&(c=interfaceSS.getAnimation(h))&&c.frames&&0<c.frames.length&&(c=interfaceSS.getFrameBounds(c.frames[0]),g.setBoundingBox(c.x*b,c.y*b,c.width*b,c.height*b));e&&e.addChild(g);return g}var y101,y176,y51,y151=[],y142,y251;
function y95(){y53=new createjs.Container;y53.name="levelselcont";y142=new createjs.Container;y142.name="y142";y251=new createjs.Container;y101=y349(32,240,0.7,"quitbtn",y314,y142,y318);y270();y53.addChild(y142)}function y352(c){c.cache(-10,-10,ow+20,oh+20)}function y106(c){c.uncache()}
function y270(){for(var c=0;20>c;c++){var a=c%6,b=Math.floor(c/6),h=35;3===b&&(h+=132);a=y349(h+65*a,40+65*b,0.65,"lvlLabelStar0",y328,y142,y69);a.levelNum=c;y151.push(a);b=new createjs.BitmapText("",interfaceSS);b.x=a.x;b.postfix="ll";setSpriteScale(b,0.4);setTextAndCenter(a.x-3,0,(c+1).toString(),b);18<=c&&(b.x+=2);b.y=a.y-15;b.mouseEnabled=!1;a.txtNum=b}}
function y386(){for(var c=0;20>c;c++){var a=c<=y146;isOpenAllLevels&&(a=c<openedLevels);var b;b=a?"lvlLabelStar"+y269(c):"levelbuttonlocked";var h=y151[c];h.gotoAndStop(b);(h.isOpened=a)?h.txtNum.parent||h.parent.addChild(h.txtNum):h.txtNum.parent&&h.parent.removeChild(h.txtNum)}}function y328(c){c=c.target;y72(c);y122("level "+c.levelNum+" load");y396(c.levelNum)}
function y69(c){var a=c.target;y208(a);isCursorOutMoved(c)?y396(a.levelNum):a.isOpened?(y224=0,y345(),y271(a.levelNum),startBlink(400,"tint2"),y265(),y65()):(y396(a.levelNum),y203("clickSound"))}function y396(c){}function y314(c){y72(c.target)}function y318(c){y208(c.target);isCursorOutMoved(c)||(y65(),y365(!0),y203("clickSound"))}
function y135(){y374.addChild(y53);y386();y251.parent&&y53.removeChild(y251);y142.parent||y53.addChild(y142);y142.x=0;y142.alpha=1;showBgByLevelNum(0,1,1.2);startBlink(700,"tint2");showSpilLogo(340,240,0.5,y53);isNeedCacheSizeUpdate=!0}function y65(){createjs.Tween.removeTweens(y53);y149(y53)}function y265(){createjs.Tween.removeTweens(y226);y226.parent||y374.addChild(y226);y226.alpha=0;y226.visible=!0;createjs.Tween.get(y226,{override:!0}).to({alpha:1},400)}
function y397(c,a){isGamePaused=!0;createjs.Tween.removeTweens(y226);createjs.Tween.get(y226,{override:!0}).to({alpha:0,visible:!1},a?a:400).call(y149)}function y166(){isLevelFailed&&(y225.parent||y141(!0))}var y196,y175,y172,y235,y194,completeScoreLabel,completeTotalScore;
function y213(){y196=new createjs.Container;y349(ow/2-9,oh/2+27,1.25,"winbgv",null,y196).y7=90;var c=y349(ow/2,oh/2+27,1,"lvlcompletebgnew",null,y196);y175=y349(250,260,0.6,"nextlevelwin",onPressStandartHandler,y196,y333);y349(ow/2,260,0.6,"restartbtn",onPressStandartHandler,y196,y371);y349(150,260,0.6,"quitbtn",onPressStandartHandler,y196,onCompleteQuitUp);y349(166,78,0.5,"totalscoreslabel",null,y196,null);y172=y349(c.x-51,c.y-35,1,"completestar",null,null,null);y235=y349(c.x,c.y-47,1,"completestar",
null,null,null);y194=y349(c.x+51,c.y-35,1,"completestar",null,null,null);completeScoreLabel=new createjs.BitmapText("0",y162);completeScoreLabel.scaleX=completeScoreLabel.scaleY=0.7;completeScoreLabel.mouseEnabled=!1;completeScoreLabel.y=152;completeScoreLabel.score=0;completeScoreLabel.postfix="ll";y196.addChild(completeScoreLabel);completeTotalScore=new createjs.BitmapText("0",y162);completeTotalScore.letterSpacing=0;completeTotalScore.scaleX=completeTotalScore.scaleY=0.26;completeTotalScore.mouseEnabled=
!1;completeTotalScore.y=72;completeTotalScore.x=210;completeTotalScore.totalScore=0;completeTotalScore.postfix="ll";y196.addChild(completeTotalScore);y349(200,213,0.7,"moregames2v",sponsorClick,y196,null)}function changeCompleteScoreLabel(c){updateCompleteScoreLabel(Math.floor(completeScoreLabel.score));updateTotalScoreLabel(Math.floor(completeTotalScore.totalScore+completeScoreLabel.score))}function updateCompleteScoreLabel(c){setTextAndCenter(ow/2,null,c.toString(),completeScoreLabel)}
function updateTotalScoreLabel(c){completeTotalScore.text=c.toString()}function onCompleteQuitUp(c){y208(c.target);isCursorOutMoved(c)||(y397(!0),disposeLevel(),y211(),y365(!0),y203("clickSound"),stopScoresSound())}function y371(c){y208(c.target);isCursorOutMoved(c)||(y203("clickSound"),y388(),y265(),y211(),stopScoresSound())}function onPressStandartHandler(c){y72(c.target)}
function y333(c){y208(c.target);isCursorOutMoved(c)||(y203("clickSound"),y211(),y52>=y300-1?(y254(),disposeLevel(),y365(!0)):(y198(),y265()),stopScoresSound())}var y43=0;
function y358(){isLevelCompleted||isLevelFailed||(isLevelCompleted=!0,y254(),createjs.Tween.removeTweens(y196),y149(y172),y149(y235),y149(y194),y374.addChild(y196),y196.x=400,y196.y=-22,y196.alpha=0,createjs.Tween.get(y226).wait(400).call(y397),createjs.Tween.get(y196,{override:!0}).wait(500).to({alpha:1,x:0},1300,y363).call(y229).call(completeCalculateScore),y43=y79,totalBonuses<=collectedBonuses?y43=y118:collectedBonuses>=totalBonuses/2?y43=y253:0<collectedBonuses&&(y43=y183),updateCompleteScoreLabel(0),
completeScoreLabel.x=ow/2-19,updateTotalScoreLabel(totalScore),totalScore+=y52Score+y85,y85=0,y398+=y170,y127(y43),showSpilLogo(345,270,0.5,y196),y203("winSound"))}function completeCalculateScore(c){1>y52Score||(playScoresSound(),completeScoreLabel.score=0,completeTotalScore.totalScore=totalScore-y52Score,createjs.Tween.get(completeScoreLabel,{override:!0}).to({score:y52Score},scoreTweenLength,createjs.Ease.quadOut).addEventListener("change",changeCompleteScoreLabel))}var scoreTweenLength=2E3;
function y229(c){1>y52Score||(y294(y172,20+scoreTweenLength,0.45,"boomCoinSound"),y43>=y253&&y294(y235,800+scoreTweenLength,0.55,"boomCoinSound"),y43>=y118&&y294(y194,1600+scoreTweenLength,0.45,"boomCoinSound"))}
function y294(c,a,b,h){y196.addChild(c);c.alpha=0;c.scaleX=c.scaleY=1.5;c.y7=0;createjs.Tween.get(c,{override:!0}).wait(a).to({alpha:1,scaleX:b,scaleY:b},700,createjs.Ease.bounceOut).call(function(){y58Explode(c.x,c.y-20,9,y223,null,2)});createjs.Tween.get({x:100}).wait(a+400).call(function(){isLevelCompleted&&y203(h)})}function y149(c){c.parent&&c.parent.removeChild(c)}
function y211(){createjs.Tween.removeTweens(y172);createjs.Tween.removeTweens(y235);createjs.Tween.removeTweens(y194);createjs.Tween.removeTweens(y196);createjs.Tween.get(y196).to({alpha:0,x:-400},200).call(y261);y345()}var y225,y316,y61,pauseTitle;
function y169(){y225=new createjs.Container;y349(ow/2-9,oh/2+27,1.25,"winbgv",null,y225).y7=90;pauseTitle=y349(ow/2-2,oh/2-100,0.92,"pausetitle",null,y225);y349(170,250,0.7,"quitbtn",y385,y225,y191);y349(ow/2+26,250,0.7,"restartbtn",y99,y225,y359);y61=y349(70,44,0.6,"musiconbtn",y161,y225,y92);isAudioSupported||(y61.visible=!1);y349(ow/2,130,0.8,"HERO_TYPE",null,y225,null).play();y316=y349(24,44,0.8,"pausebtn",y332,y225,y220);y349(200,200,0.7,"moregames2v",sponsorClick,y225,null)}
function y161(c){y72(c.target)}function y92(c){y208(c.target);isCursorOutMoved(c)||(y116(),y259(c.target),isMute||y203("clickSound"))}function y99(c){y72(c.target)}function y359(c){y208(c.target);isCursorOutMoved(c)||(y203("clickSound"),y108(!1,!1),y265(),y388())}function y385(c){y72(c.target)}function y191(c){y208(c.target);isCursorOutMoved(c)||(y203("clickSound"),isGamePaused=!0,disposeLevel(),y108(!1,!0),y117(),y397(!0,100),y365(!0))}function y332(c){y72(c.target)}
function y220(c){y208(c.target);isCursorOutMoved(c)||(y203("clickSound"),y108(!1,!1))}function y141(c){isGamePaused=!0;y254();y259(y61);y374.addChild(y225);y316.visible=!c;c?(y61.x=28,pauseTitle.gotoAndStop("tryagaintitle")):(y61.x=70,pauseTitle.gotoAndStop("pausetitle"));y225.x=-400;y225.y=-20;y225.alpha=0;createjs.Tween.get(y225).to({alpha:1,x:0},1300,y363);showSpilLogo(345,270,0.5,y225)}
function y108(c,a){isGamePaused=!1;createjs.Tween.removeTweens(y225);createjs.Tween.get(y225).to({alpha:0,x:400},300).call(y261);a||y345()}function y334(c){createAchievPart(c);y288[c]=y190;y323();y203("achievSound")}function addAchiev(c){isAlreadyAchieved(c)||y334(c)}function isAlreadyAchieved(c){return y288[c]==y190}var y369,y243,achievGalleryTotalScore,y207=[];
function y238(){y243=new createjs.Container;y349(ow/2,22,1,"achievmenutitle",null,y243);y331();y369=y349(32,240,0.7,"quitbtn",onPressStandartHandler,y243,y361);y349(166,255,0.5,"totalscoreslabel",null,y243,null);achievGalleryTotalScore=new createjs.BitmapText("0",y162);achievGalleryTotalScore.scaleX=achievGalleryTotalScore.scaleY=0.26;achievGalleryTotalScore.mouseEnabled=!1;achievGalleryTotalScore.y=249;achievGalleryTotalScore.x=210;achievGalleryTotalScore.postfix="ll";y243.addChild(achievGalleryTotalScore)}
function y331(){for(var c=0;c<y188;c++){var a=c%4,b=Math.floor(c/4),h=30,d=90;3===b&&(h+=45);3===b&&(d=80);a=y349(h+a*d,40+50*b,0.8*0.8,"achievclosed",null,y243,null);y207.push(a)}}function y383(){for(var c=0;c<y188;c++)y207[c].gotoAndStop(y288[c]==y190?"achievdesc"+c.toString():"achievclosed")}function y361(c){y208(c.target);isCursorOutMoved(c)||(y203("clickSound"),y364(),y365(!0))}
function y173(){y374.addChild(y243);y383();y243.x=0;y243.alpha=1;showBgByLevelNum(0,4,1.2);startBlink(700,"tint2");showSpilLogo(355,250,0.4,y243);achievGalleryTotalScore.text=Math.round(totalScore)+""}function y364(){y149(y243)}var y74;function y231(){y74=new createjs.Container;y349(31,240,0.7,"quitbtn",y297,y74,y321);y349(280,90,0.8,"biglimetxt",null,y74);y349(100,30,0.8,"creditstitle",null,y74)}function y177(c){window.open("http://porubov.com","_blank")}
function y201(c){window.location="mailto:seddas@gmail.com?subject=BattleFish"}function y297(c){y72(c.target)}function y321(c){y208(c.target);isCursorOutMoved(c)||(y203("clickSound"),y295(),y365(!0))}function y370(){y374.addChild(y74);y74.x=0;y74.alpha=1;showBgByLevelNum(0,4,1.2);startBlink(700,"tint2");showSpilLogo(355,250,0.4,y74)}function y295(){y149(y74)}var y139,y249;
function y381(){y139=new createjs.Container;var c=y311(0,0);c.scaleY=0.88;c.y=23;y139.addChild(c);y349(ow/2,310,1,"nextlevelwin",y234,y139,y305);y349(ow/2,237,1,"levelinstruction8",null,y139);y349(ow/2,105,1,"allcollectedstars",null,y139);y349(ow/2,30,1,"gamecompletedTitle",null,y139);y249=new createjs.BitmapText(y247().toString(),interfaceSS);y249.letterSpacing=-7;y249.x=80;y249.y=121;y249.mouseEnabled=!1;y139.addChild(y249);y349(260,335,0.7,"moregamesbtn",sponsorClick,y139,null)}
function y234(c){c=c.target;c.scaleX=c.scaleY=1.2}function y305(c){y208(c.target);isCursorOutMoved(c)||(y203("clickSound"),y222(),y365(!0))}var isGameCompleteScreenShow=!1;function y241(){isGameCompleteScreenShow=!0;y374.addChild(y139);y249.text=y247().toString();y139.x=400;y139.alpha=0;createjs.Tween.get(y139,{override:!0}).to({alpha:1,x:0},1300,createjs.Ease.elasticOut);showSpilLogo(60,335,0.5,y139)}
function y222(){isGameCompleteScreenShow=!1;y94();createjs.Tween.removeTweens(y139);createjs.Tween.get(y139,{override:!0}).to({alpha:0,x:400},200).call(y261)}function y57(c){c=c.target;y106(c);c.parent&&c.parent.removeChild(c)}function y261(c){c=c.target;c.parent&&c.parent.removeChild(c)}function isTweened(c){return createjs.Tween.hasActiveTweens(c)}var y214;function isCursorOutMoved(c){if(!isDesktop())return!1;y214=c.target.globalToLocal(c.y44X,c.y44Y);return!c.target.hitTest(y214.x,y214.y)}
function y119(c){}var rotatedDecors=[];function interfaceTick(){for(var c=0;c<rotatedDecors.length;c++)rotatedDecors[c].y7+=3*dtScale}var y44,y205,canvas,rect,y374,y373,y7Container,particleContainer,y298,y181,scaleFactor=1,minW=400,minH=270,ow=minW,oh=minH,maxW=400,maxH=minH,y88=maxW,y136=maxH,y289=minW,y56=minH,y353=1;
function initResizeManager(){window.addEventListener("resize",y112);document.addEventListener("touchstart",y306);window.onorientationchange=y178;y78();setTimeout(y202,100);hideAddressbar(document.getElementById("gamediv"));window.onfocus=function(){isPageLeaved&&(isTimerUpdateMode=isPageLeaved=!1,setUpdateFrameMode())};window.onblur=function(){isPageLeaved||(isTimerUpdateMode=!0,setUpdateFrameMode(),isPageLeaved=!0)}}var isWasPaused=null,topVisionLine;
function y78(){y202();try{var c=window.innerWidth,a=window.innerHeight;scaleFactor=Math.min(c/minW,a/minH);y44.scaleX=1;y44.scaleY=1;y44.canvas.width=Math.min(c,maxW*scaleFactor);y44.canvas.height=Math.min(a,maxH*scaleFactor);if(isDesktop()){var b=1.5,h=y192("scale");h&&(b=parseFloat(h));scaleFactor=Math.min(scaleFactor,b);y44.canvas.width=Math.min(c,y88*scaleFactor);y44.canvas.height=Math.min(a,y136*scaleFactor)}y44.canvas.style.left=Math.floor((c-y44.canvas.width)/2)+"px";y44.canvas.style.top=Math.floor((a-
y44.canvas.height)/2)+"px";y56=y44.canvas.height/scaleFactor;y289=y44.canvas.width/scaleFactor;topVisionLine=-(y56-oh);y44.autoClear=!1;y374.scaleX=scaleFactor;y374.scaleY=scaleFactor;y374.x=Math.round((y44.canvas.width-ow*scaleFactor)/2);y374.y=Math.round((y44.canvas.height-oh*scaleFactor)/2);splashContainer&&(splashContainer.scaleX=y374.scaleX,splashContainer.scaleY=y374.scaleY,splashContainer.x=y374.x,splashContainer.y=y374.y);y298=c;y181=a;y45=null;y266&&(y266.y=(oh-y63)/2+y339());y44.update();
isNeedCacheSizeUpdate=!0;isPhysicsDebugDraw&&debugDraw&&(debugCanvas.width=y44.canvas.width,debugCanvas.height=y44.canvas.height,debugCanvas.style.left=y44.canvas.style.left,debugCanvas.style.top=y44.canvas.style.top,debugCanvas.style.marginLeft=y374.x+"px",debugCanvas.style.marginTop=y374.y+"px",debugDraw.SetDrawScale(30*scaleFactor))}catch(d){window.alert(d.name+":"+d.message)}}function sizeHandler(){}function y339(){return-(y56-oh)/2}function y286(){return-(y56-oh)}
function y237(){return-(y289-ow)/2}function getMaxLeft(){return-(maxW-ow)/2}function getMaxRight(){return maxW+getMaxLeft()}function getMaxTop(){return-(maxH-oh)}function y178(c){setTimeout(y202,50);y112(null)}function y202(){window.scrollTo(0,1)}function y306(c){window.scrollTo(0,1);window.innerHeight!=y181&&y112(null);c.preventDefault();c.stopPropagation();c.cancelBubble=!0;return c.returnValue=!1}var y45;function y112(c){setTimeout(y202,1);clearTimeout(y45);setTimeout(y78,1)}
function y103(){if(isHiDPI()){var c=document.createElement("meta");c.name="viewport";c.content="target-densitydpi=device-dpi, user-scalable=0, initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5";document.getElementsByTagName("head")[0].appendChild(c)}}function isHiDPI(){return!window.hasOwnProperty("devicePixelRatio")||-1==navigator.userAgent.indexOf("iPhone")&&-1==navigator.userAgent.indexOf("iPad")||2!=window.devicePixelRatio?!1:!0}
function y192(c){return decodeURIComponent((RegExp("[?|&]"+c+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}
function isMobileDetected(c){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|android|ipad|playbook|silk|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od|ad)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4))}var MyGame={},images,y54;
MyGame.init=function(){try{canvas=document.getElementById("canvas");images=images||{};y54=y54||{};y44=new createjs.Stage("canvas");y374=new createjs.Container;y374.isRoot=!0;y374.width=ow;y374.height=oh;y44.addChild(y374);y325();y226=new createjs.Container;splashContainer=new createjs.Container;splashContainer.width=ow;splashContainer.height=oh;particleContainer=new createjs.Container;y7Container=new createjs.Container;y7Container.width=ow;y7Container.height=oh;initResizeManager();createjs.Touch.enable(y44,
!0);isDesktop()&&y44.enableMouseOver(20);y44.mouseMoveOutside=!0;initLoaders();y44.update();var c=document.getElementById("loader");c&&c.parentNode&&c.parentNode.removeChild(c)}catch(a){y122(a.name+":"+a.message)}};function isDesktop(){return isDesktopBrowser}function y94(){y324=isDesktopBrowser?30:12}function y325(){isDesktopBrowser=!isMobileDetected(navigator.userAgent||navigator.vendor||window.opera);var c=y192("mobile");c&&1==parseInt(c)&&(isDesktopBrowser=!1);y94()}var y266,y63=20;
function initLoaders(){y404=10;y405=createjs.Graphics.getRGB(247,247,247);y266=new createjs.Container;bar=new createjs.Shape;bar.graphics.beginFill(y405).drawRect(0,0,1,y63).endFill();y406=300;var c=new createjs.Shape;c.graphics.setStrokeStyle(1).beginStroke(y405).drawRect(-1.5,-1.5,y406+3,y63+3);y266.x=y374.width-y406>>1;y266.y=y374.height-y63>>1;y266.addChild(bar,c);y374.addChild(y266);initSoundManager();y373=new createjs.LoadQueue(!0,"assets/");y373.installPlugin(createjs.Sound);y373.addEventListener("progress",
y274);y373.addEventListener("complete",y148);y373.addEventListener("fileload",y138);isLoadAnimFromJSON&&(y59.push({src:"cheapassets.json",id:"anim_json"}),y59.push({src:"cheapbg.json",id:"bgassets_json"}));y373.loadManifest(y59);createjs.Ticker.timingMode=createjs.Ticker.RAF_SYNCHED;-1<navigator.userAgent.indexOf("Android")&&(createjs.Ticker.timingMode=createjs.Ticker.TIMEOUT);setUpdateFrameMode();createjs.Ticker.setFPS(FPS)}var tickerEventAdded=!1;function setUpdateFrameMode(){}
function y274(c){0!=c.total&&(bar.scaleX=c.loaded/c.total*y406,y44.update())}var y163,helperLabel,y162,interfaceSS,bgSS,isPreloaderLogoReady=!1;
function y138(c){"image"==c.item.type&&(images[c.item.id]=c.result);y54[c.item.id]=c.result;if(!isPreloaderLogoReady&&"y373erlogo"==c.item.id){isPreloaderLogoReady=!0;var a=c.result;c=a.width;var b=a.height,a=(new createjs.Bitmap(a)).set({scaleX:0.75,scaleY:0.75,regX:c/2,regY:b/2,cursor:"pointer",x:ow/2-30,y:20+0.75*b});a.setBoundingBox(-c/2,-b/2,c,b);a.addEventListener("mousedown",sponsorClick);y266.addChild(a)}}function sponsorClick(c){window.open(SPONSOR_URL,"_blank")}
function y185(){var c=new createjs.Sprite(bgSS);c.gotoAndStop("rotateScreen");c.x=30;y7Container.addChild(c)}var isAllFilesLoaded=!1;
function y148(c){try{isAllFilesLoaded=!0,y149(y266),y266=null,y100(),createSplashScreen(),y185(),y78(),startSplash(),y327(),y357(),initLevelManager(),initBonusManager(),initParticleManager(),isNeedFpsMeter&&(y163=new createjs.BitmapText("1",interfaceSS),y163.scaleX=y163.scaleY=0.6,y163.letterSpacing=-7,y163.x=ow-27,y374.addChild(y163)),isNeedHelperLabel&&(helperLabel=new createjs.BitmapText("20",interfaceSS),helperLabel.scaleX=helperLabel.scaleY=0.5,helperLabel.x=50,y374.addChild(helperLabel)),initInterface(),
isSkipMenus&&(isLastLevelLoad?y271(y291.length-1):y271(y378)),y44.update(),createjs.Ticker.addEventListener("tick",tick),initEditorHandlers(),isGetAllProperties&&getAllProperties()}catch(a){y122(a.name+":"+a.message)}}var splashContainer;
function startSplash(){isSkipSplash||!splashContainer||splashContainer.parent||y7Container.parent||(y149(y374),y44.addChild(splashContainer),createjs.Tween.get(splashContainer).wait(3E3).call(addContainer).to({alpha:0},200).call(disposeSplash),y122("splash"),y44.autoClear=!0)}function addContainer(c){y44.addChildAt(y374,0)}function disposeSplash(c){y149(splashContainer);splashContainer=null;y44.autoClear=y298>maxW*scaleFactor||y181>maxH*scaleFactor}
function createSplashScreen(){var c=new createjs.Sprite(interfaceSS);c.gotoAndStop("splashlogo");c.x=ow/2;c.y=oh/2;c.scaleX=c.scaleY=0.8;splashContainer.addChild(c)}function initEditorHandlers(){isLevelEditor&&y44.addEventListener("y44mousedown",y245)}function y117(){}var mainBg,y150,smallBg,isNeedCacheSizeUpdate=!1;
function y327(){y150=new createjs.Container;y374.addChild(y150);mainBg=(new createjs.Sprite(bgSS)).set({x:0,y:0});mainBg.gotoAndStop("bigbg");y150.addChild(mainBg);y150.mouseEnabled=!1}var nameCounter=0;function y245(c){isLevelEditor&&(y399.isPressed("n")&&y198(),y399.isPressed("l")&&y358(),y399.isPressed("a")&&y334(GLASS_BRACKER_ACHIEV),y399.isPressed("u")&&y117(),y399.isPressed("g")&&y241())}
function y100(){isLoadAnimFromJSON&&(y246=eval(y54.anim_json),y350=eval(y54.bgassets_json));y144(y246,"zoespritesheet",!0,2);y144(y350,"bgspritesheet");interfaceSS=y162=new createjs.SpriteSheet(y246);bgSS=new createjs.SpriteSheet(y350)}function y144(c,a,b,h){var d=images[a].width;a=images[a].height;c=c.frames;for(var e=c.length,f,g=0;g<e;g++)f=c[g],b&&(f[2]-=2*h,f[3]-=2*h),f[0]+f[2]>d&&(f[2]=d-f[0]),f[1]+f[3]>a&&(f[3]=a-f[1]),0>f[0]&&(f[0]=0),0>f[1]&&(f[1]=0)}
var y377=0,y326=0,toDisposePhysicsBodies=[],dtScale=1,lastDelta=0,FPS=30,GAME_FPS=30,defaultDelta=1E3/GAME_FPS,DEFAULT_WORLD_STEP=1/FPS,allHeroesLen=0,lastTime=0,data,step=0;
function tick(c){if(isDesktop()||!isPageLeaved){dtScale=c.delta/defaultDelta;if(!dtScale||0>=dtScale)dtScale=1;2<dtScale&&(dtScale=2);lastDelta=c.delta;y377++;y326++;for(levelStartTimer++;0<toDisposePhysicsBodies.length;)world.DestroyBody(toDisposePhysicsBodies.pop());isGamePaused||(step=Math.round(1E3*DEFAULT_WORLD_STEP*(1.2<dtScale?1.2:dtScale))/1E3,world.Step(step,3,1));isPhysicsDebugDraw&&world.DrawDebugData();world.ClearForces();allHeroesLen=allHeroes.length;for(c=0;c<y301.length;c++)y301[c].tick();
updateBonusManager();y111();interfaceTick();y44.update();isGameCompleteScreenShow&&(y324=30,0==y326%Math.floor(FPS/6)&&y58Explode(Math.random()*ow,Math.random()*oh,6,y223,y139));isNeedFpsMeter&&0==y377%FPS&&(y163.text=Math.floor(createjs.Ticker.getMeasuredFPS()).toString());30<y377&&isNeedCacheSizeUpdate&&(isNeedCacheSizeUpdate=!1,isWithCache&&y150.cache(0,0,ow+1,oh+1,2));c=0;0<y85&&(c=Math.round(y85/7),y52Score+=c,y85-=c,y119(y52Score))}}function y122(c){isLevelEditor&&console.log(c)}
var currentBgIndex=0;function showBgByLevelNum(c,a,b){mainBg.currentAnimationFrame=a?a:y380[c];mainBg.scaleY=b?b:1};
